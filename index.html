<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Cuda Engined Optics &mdash; CEO 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="CEO 1.0 documentation" href="#" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">CEO 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="cuda-engined-optics">
<h1>Cuda Engined Optics<a class="headerlink" href="#cuda-engined-optics" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
<p>Cuda Engined Optics or CEO is a CUDA library for the modeling of Adaptive Optics (AO) systems in Astronomy.</p>
<p>CEO consists of a C++ API that hides most of the CUDA API. The CEO API can then be used to build AO simulations.</p>
<p>A CEO python interface has also been developed and is usually the preferred way to interact with CEO functionalities. This high level interface has been written with Cython to preserve speed.</p>
<p>All the code has been written following the literate programming methodology. This means that the code and the associated documentation are tangled together in a few source files. CEO relies on noweb to extract the code from the source files and to build the corresponding Latex documentation.</p>
<p>CEO can be downloaded from &lt;<a class="reference external" href="https://github.com/rconan/CEO">https://github.com/rconan/CEO</a>&gt;.
The C++ API is compiled with <cite>make all</cite>, the Python interface with <cite>make cython</cite> and the code documentation with <cite>make doc</cite>.</p>
<span class="target" id="module-ceo"></span><div class="section" id="source">
<h2>source<a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<div class="section" id="complex-amplitude">
<h3>Complex_amplitude<a class="headerlink" href="#complex-amplitude" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.Complex_amplitude">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">Complex_amplitude</code><a class="headerlink" href="#ceo.Complex_amplitude" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to represent a wavefront complex amplitude</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>Source</strong> : Source</p>
<blockquote class="last">
<div><p>a CEO Source object</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Source" title="ceo.Source"><code class="xref py py-obj docutils literal"><span class="pre">Source</span></code></a></dt>
<dd>a class for astronomical sources</dd>
</dl>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>phase</td>
<td>(float) The complex amplitude angle</td>
</tr>
<tr class="row-even"><td>amplitude</td>
<td>(float, read only) the complex amplitude magnitude</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.Complex_amplitude.reset" title="ceo.Complex_amplitude.reset"><code class="xref py py-obj docutils literal"><span class="pre">reset</span></code></a></td>
<td>Reset the wavefront amplitude to 1 and phase to 0 or to the given phase</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">reset_phase</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.Complex_amplitude.rms" title="ceo.Complex_amplitude.rms"><code class="xref py py-obj docutils literal"><span class="pre">rms</span></code></a></td>
<td>Computes the rms of the wavefront phase</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.Complex_amplitude.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Complex_amplitude.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the wavefront amplitude to 1 and phase to 0 or to the given phase</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>phase</strong> : cuFloatArray, optional</p>
<blockquote class="last">
<div><p>The GPU array the wavefront phase is reset to; default to None</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.cuFloatArray" title="ceo.cuFloatArray"><code class="xref py py-obj docutils literal"><span class="pre">cuFloatArray</span></code></a></dt>
<dd>a class for GPU host and device float data</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="ceo.Complex_amplitude.rms">
<code class="descname">rms</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Complex_amplitude.rms" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the rms of the wavefront phase</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>units_exponent: int, optional</strong></p>
<blockquote>
<div><p>3 for km, 0 for meter, -2 for cm, -3 for mm, -6 for micron, -9 for nm, etc; default: 0</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">float</p>
<blockquote class="last">
<div><p>the wavefront phase rms</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="id1">
<h3>Source<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.Source">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">Source</code><a class="headerlink" href="#ceo.Source" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to represent an astronomical source</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>photometric_band</strong> : char</p>
<blockquote>
<div><p>The sources photometric band</p>
</div></blockquote>
<p><strong>zenith</strong> : list, tuple or numpy array, optional</p>
<blockquote>
<div><p>The sources zenith angles [rd], defaults to 0.</p>
</div></blockquote>
<p><strong>azimuth</strong> :  list, tuple or numpy array, optional</p>
<blockquote>
<div><p>The sources azimuth angles [rd], defaults to 0.</p>
</div></blockquote>
<p><strong>height</strong> : float, optional</p>
<blockquote>
<div><p>The sources altitude [m], defaults to infinity.</p>
</div></blockquote>
<p><strong>resolution</strong> : tuple</p>
<blockquote>
<div><p>A 2 element tuple with the sampling [n,m] in pixel of the source wavefront complex amplitude.</p>
</div></blockquote>
<p><strong>fwhm</strong> : float, optional</p>
<blockquote>
<div><p>The fwhm of the source intensity distribution, defaults to None.</p>
</div></blockquote>
<p><strong>rays_box_size</strong> : float, optional</p>
<blockquote>
<div><p>The size of the ray bundle [m], defaults to None.</p>
</div></blockquote>
<p><strong>rays_box_sampling</strong> : int, optional</p>
<blockquote>
<div><p>The linear sampling of the ray bundle</p>
</div></blockquote>
<p><strong>rays_origin</strong> : list, optional</p>
<blockquote class="last">
<div><p>A 3 element list, with the first 2 being the (x,y) origin of the ray bundle and the 3rd the ray bundle starting z coordinates</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">math</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ceo</span>
</pre></div>
</div>
<p>An on-axis source in K band is simply defined with:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">src</span> <span class="o">=</span> <span class="n">Source</span><span class="p">(</span><span class="s">&quot;K&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The resolution of the source wavefront is specifed with</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="mi">256</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">src</span> <span class="o">=</span> <span class="n">Source</span><span class="p">(</span><span class="s">&quot;K&quot;</span><span class="p">,</span><span class="n">resolution</span><span class="o">=</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">n</span><span class="p">))</span>
</pre></div>
</div>
<p>For a 20&#8221; off-axis and 10th magnitude source, zenith and azimuth are set with</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">src</span> <span class="o">=</span> <span class="n">Source</span><span class="p">(</span><span class="s">&quot;K&quot;</span><span class="p">,</span><span class="n">zenith</span><span class="o">=</span><span class="mi">20</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">180</span><span class="o">/</span><span class="mi">3600</span><span class="p">,</span><span class="n">azimuth</span><span class="o">=</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span><span class="n">resolution</span><span class="o">=</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">n</span><span class="p">),</span><span class="n">magnitude</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p>A Laser guide star constellation of 6 sources is defined with</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">zen</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">*</span><span class="mi">30</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">180</span><span class="o">/</span><span class="mi">3600</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">azi</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lgs</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">Source</span><span class="p">(</span><span class="s">&quot;R&quot;</span><span class="p">,</span><span class="n">zenith</span><span class="o">=</span><span class="n">zen</span><span class="p">,</span><span class="n">azimuth</span><span class="o">=</span><span class="n">azi</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mf">90e3</span><span class="p">,</span><span class="n">resolution</span><span class="o">=</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">n</span><span class="p">))</span> 
</pre></div>
</div>
<p>If the source is to be used for ray tracing through an optical model like the GMT, then</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">lgs</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">Source</span><span class="p">(</span><span class="s">&quot;R&quot;</span><span class="p">,</span><span class="n">zenith</span><span class="o">=</span><span class="n">zen</span><span class="p">,</span><span class="n">azimuth</span><span class="o">=</span><span class="n">azi</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mf">90e3</span><span class="p">,</span>
<span class="go">                    rays_box_size=25.5, rays_box_sampling=n, rays_origin=[0,0,25]) </span>
</pre></div>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="79%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>n</td>
<td>(int) wavefront resolution</td>
</tr>
<tr class="row-even"><td>m</td>
<td>(int) wavefront resolution</td>
</tr>
<tr class="row-odd"><td>size</td>
<td>(int) number of sources</td>
</tr>
<tr class="row-even"><td>zenith</td>
<td>(ndarray) zenith angle</td>
</tr>
<tr class="row-odd"><td>azimuth</td>
<td>(ndarray) azimuth angle</td>
</tr>
<tr class="row-even"><td>height</td>
<td>(float) source height</td>
</tr>
<tr class="row-odd"><td>ray</td>
<td>(Bundle) geometric ray bundle</td>
</tr>
<tr class="row-even"><td>phase</td>
<td>(cuFloatArray) wavefront phase</td>
</tr>
<tr class="row-odd"><td>wavelength</td>
<td>(float, read only) the wavelength of the source</td>
</tr>
<tr class="row-even"><td>spectral_bandwidth</td>
<td>(float, read only) the spectral bandwidth associated to the source</td>
</tr>
<tr class="row-odd"><td>nPhoton</td>
<td>(float, read only) number of photon</td>
</tr>
<tr class="row-even"><td>magnitude</td>
<td>(float, write only) star magnitude</td>
</tr>
<tr class="row-odd"><td>wavefront</td>
<td>(Complex_amplitude) the wavefront complex amplitude</td>
</tr>
<tr class="row-even"><td>sphere_distance</td>
<td>(float) the distance to the reference sphere used to compute the OPD</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.Source.masked" title="ceo.Source.masked"><code class="xref py py-obj docutils literal"><span class="pre">masked</span></code></a></td>
<td>Apply the binary mask of the telescope pupil to the source wavefront</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.Source.opd2phase" title="ceo.Source.opd2phase"><code class="xref py py-obj docutils literal"><span class="pre">opd2phase</span></code></a></td>
<td>Transfer the OPD from ray tracing to the wavefront phase</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.Source.piston" title="ceo.Source.piston"><code class="xref py py-obj docutils literal"><span class="pre">piston</span></code></a></td>
<td>Get the piston corresponding to either the pupil or the segments</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.Source.reset" title="ceo.Source.reset"><code class="xref py py-obj docutils literal"><span class="pre">reset</span></code></a></td>
<td>Reset the wavefront amplitude to 1 and phase to 0 and re&#8211;initialize the ray bundle</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.Source.masked">
<code class="descname">masked</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Source.masked" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply the binary mask of the telescope pupil to the source wavefront</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>mask</strong> : Mask</p>
<blockquote class="last">
<div><p>The binary mask structure</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.Source.opd2phase">
<code class="descname">opd2phase</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Source.opd2phase" title="Permalink to this definition">¶</a></dt>
<dd><p>Transfer the OPD from ray tracing to the wavefront phase</p>
</dd></dl>

<dl class="method">
<dt id="ceo.Source.piston">
<code class="descname">piston</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Source.piston" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the piston corresponding to either the pupil or the segments</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>where</strong> : string, optional</p>
<blockquote>
<div><p>Either &#8220;pupil&#8221; for a piston on the full pupil or &#8220;segments&#8221; for pistons of each segment</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">ndarray of float</p>
<blockquote class="last">
<div><p>The vector of piston values in meters as either an N_SRC vector for &#8220;pupil&#8221; or a N_SRCx7 array for &#8220;segments&#8221;</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.GMT_MX" title="ceo.GMT_MX"><code class="xref py py-obj docutils literal"><span class="pre">GMT_MX</span></code></a></dt>
<dd>a class embedding GMT M1 and M2 classes</dd>
<dt><a class="reference internal" href="#ceo.GMT_M1" title="ceo.GMT_M1"><code class="xref py py-obj docutils literal"><span class="pre">GMT_M1</span></code></a></dt>
<dd>a class for GMT M1 model</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ceo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gs</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">Source</span><span class="p">(</span><span class="s">&quot;V&quot;</span><span class="p">,</span><span class="n">rays_box_size</span><span class="o">=</span><span class="mf">25.5</span><span class="p">,</span> <span class="n">rays_box_sampling</span><span class="o">=</span><span class="mi">256</span><span class="p">,</span> <span class="n">rays_origin</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">25</span><span class="p">])</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">gmt</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">GMT_MX</span><span class="p">(</span><span class="mf">25.5</span><span class="p">,</span><span class="mi">256</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gmt</span><span class="o">.</span><span class="n">propagate</span><span class="p">(</span><span class="n">gs</span><span class="p">)</span>
</pre></div>
</div>
<p>The piston over the entire pupil is obtained with:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">gs</span><span class="o">.</span><span class="n">piston</span><span class="p">(</span><span class="n">where</span><span class="o">=</span><span class="s">&quot;pupil&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The 7 segment pistons are retrieved with</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">gs</span><span class="o">.</span><span class="n">piston</span><span class="p">(</span><span class="n">where</span><span class="o">=</span><span class="s">&quot;segments&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="ceo.Source.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Source.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the wavefront amplitude to 1 and phase to 0 and re&#8211;initialize the ray bundle</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="gmtlib">
<h2>GMTLIB<a class="headerlink" href="#gmtlib" title="Permalink to this headline">¶</a></h2>
<div class="section" id="gmt-mx">
<h3>GMT_MX<a class="headerlink" href="#gmt-mx" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.GMT_MX">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">GMT_MX</code><span class="sig-paren">(</span><em>D</em>, <em>D_px</em>, <em>M1_radial_order=0</em>, <em>M2_radial_order=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ceo/GMTLIB.html#GMT_MX"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ceo.GMT_MX" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>A class container from GMT_M1 and GMT_M2 classes</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>D</strong> : float</p>
<blockquote class="last">
<div><blockquote>
<div><p>The size of the pupil plane in meter</p>
</div></blockquote>
<dl class="docutils">
<dt>D_px <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd><p class="first last">The size of the pupil plane in pixel</p>
</dd>
<dt>M1_radial_order <span class="classifier-delimiter">:</span> <span class="classifier">int, optionnal</span></dt>
<dd><p class="first last">The largest radial order of the Zernike polynomials on M1 segments, default to 0</p>
</dd>
<dt>M2_radial_order <span class="classifier-delimiter">:</span> <span class="classifier">int, optionnal</span></dt>
<dd><p class="first last">The largest radial order of the Zernike polynomials on M2 segments, default to 0</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.GMT_M1" title="ceo.GMT_M1"><code class="xref py py-obj docutils literal"><span class="pre">GMT_M1</span></code></a></dt>
<dd>the class for GMT M1 model</dd>
<dt><a class="reference internal" href="#ceo.GMT_M2" title="ceo.GMT_M2"><code class="xref py py-obj docutils literal"><span class="pre">GMT_M2</span></code></a></dt>
<dd>the class for GMT M2 model</dd>
<dt><a class="reference internal" href="#ceo.Source" title="ceo.Source"><code class="xref py py-obj docutils literal"><span class="pre">Source</span></code></a></dt>
<dd>a class for astronomical sources</dd>
<dt><a class="reference internal" href="#ceo.cuFloatArray" title="ceo.cuFloatArray"><code class="xref py py-obj docutils literal"><span class="pre">cuFloatArray</span></code></a></dt>
<dd>an interface class between GPU host and device data for floats</dd>
</dl>
</div>
<dl class="docutils">
<dt>u</dt>
<dd><div class="first highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">src</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">Source</span><span class="p">(</span><span class="s">&quot;R&quot;</span><span class="p">,</span><span class="n">rays_box_size</span><span class="o">=</span><span class="mf">25.5</span><span class="p">,</span><span class="n">rays_box_sampling</span><span class="o">=</span><span class="mi">256</span><span class="p">,</span><span class="n">rays_origin</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mi">25</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gmt</span><span class="o">.</span><span class="n">propagate</span><span class="p">(</span><span class="n">src</span><span class="p">)</span>
</pre></div>
</div>
<p>and the wavefront phase is retrieved either as a 2D map cuFloatArray object with</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">gpu_ps2d</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">phase</span><span class="p">()</span>
</pre></div>
</div>
<p>or as a 1D vector with</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">gpu_ps1d</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">wavefront</span><span class="o">.</span><span class="n">phase</span><span class="p">()</span>
</pre></div>
</div>
</dd>
</dl>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="1%" />
<col width="99%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>D</td>
<td>(float) The size of the pupil plane in meter D_px : int The size of the pupil plane in pixel M1 : GMT_M1 The GMT M1 CEO class M2 : GMT_M2 The GMT M2 CEO class sphere_radius : float The curvature radius of the ray tracing reference sphere</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">propagate</span></code></td>
<td>Propagate the Source object to the pupil plane conjugated to M1</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">reset</span></code></td>
<td>Reset M1 and M2 mirror segments to their original locations and shapes</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.GMT_MX.calibrate">
<code class="descname">calibrate</code><span class="sig-paren">(</span><em>wfs</em>, <em>gs</em>, <em>mirror=None</em>, <em>mode=None</em>, <em>stroke=None</em>, <em>segment=None</em>, <em>agws=None</em>, <em>recmat=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ceo/GMTLIB.html#GMT_MX.calibrate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ceo.GMT_MX.calibrate" title="Permalink to this definition">¶</a></dt>
<dd><p>Calibrate the different degrees of freedom of the  mirrors</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>wfs</strong> : ShackHartmann</p>
<blockquote>
<div><p>The wavefront sensor</p>
</div></blockquote>
<p><strong>gs</strong> : Source</p>
<blockquote>
<div><p>The guide star</p>
</div></blockquote>
<p><strong>mirror</strong> : string</p>
<blockquote>
<div><p>The mirror label: eiher &#8220;M1&#8221; or &#8220;M2&#8221;</p>
</div></blockquote>
<p><strong>mode</strong> : string</p>
<blockquote>
<div><p>The degrees of freedom label
for M1: &#8220;global tip-tilt&#8221;, &#8220;zernike&#8221;, &#8220;Txyz&#8221;, &#8220;segment tip-tilt&#8221;
for M2: &#8220;global tip-tilt&#8221;, &#8220;pointing neutral&#8221;, &#8220;coma neutral&#8221;, &#8220;zernike&#8221;, &#8220;Txyz&#8221;, &#8220;Rxyz&#8221;, &#8220;segment tip-tilt&#8221;, &#8220;TT7 segment tip-tilt&#8221;</p>
</div></blockquote>
<p><strong>stroke</strong> : float</p>
<blockquote>
<div><p>The amplitude of the motion</p>
</div></blockquote>
<p><strong>segment</strong> : string</p>
<blockquote class="last">
<div><p>Idealized Segment Piston measurement type: &#8220;full&#8221; or &#8220;edge&#8221; (see SegmentPistonSensor documentation).</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="idealsegmentpistonsensor">
<h3>IdealSegmentPistonSensor<a class="headerlink" href="#idealsegmentpistonsensor" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.IdealSegmentPistonSensor">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">IdealSegmentPistonSensor</code><span class="sig-paren">(</span><em>gmt</em>, <em>src</em>, <em>W=1.5</em>, <em>L=1.5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ceo/GMTLIB.html#IdealSegmentPistonSensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ceo.IdealSegmentPistonSensor" title="Permalink to this definition">¶</a></dt>
<dd><p>A class for the GMT segment piston sensor</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>gmt</strong> : GMT_MX</p>
<blockquote>
<div><p>The GMT object</p>
</div></blockquote>
<p><strong>src</strong> : Source</p>
<blockquote>
<div><p>The Source object used for piston sensing</p>
</div></blockquote>
<p><strong>W</strong> : float, optionnal</p>
<blockquote>
<div><p>The width of the lenslet; default: 1.5m</p>
</div></blockquote>
<p><strong>L</strong> : float, optionnal</p>
<blockquote class="last">
<div><p>The length of the lenslet; default: 1.5m</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.GMT_MX" title="ceo.GMT_MX"><code class="xref py py-obj docutils literal"><span class="pre">GMT_MX</span></code></a></dt>
<dd>a class for GMT M1 and M2 mirrors</dd>
<dt><a class="reference internal" href="#ceo.Source" title="ceo.Source"><code class="xref py py-obj docutils literal"><span class="pre">Source</span></code></a></dt>
<dd>a class for astronomical sources</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ceo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nPx</span> <span class="o">=</span> <span class="mi">256</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">D</span> <span class="o">=</span> <span class="mf">25.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">src</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">Source</span><span class="p">(</span><span class="s">&quot;R&quot;</span><span class="p">,</span><span class="n">rays_box_size</span><span class="o">=</span><span class="n">D</span><span class="p">,</span><span class="n">rays_box_sampling</span><span class="o">=</span><span class="n">nPx</span><span class="p">,</span><span class="n">rays_origin</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mi">25</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gmt</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">GMT_MX</span><span class="p">(</span><span class="n">D</span><span class="p">,</span><span class="n">nPx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">SPS</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">IdealSegmentPistonSensor</span><span class="p">(</span><span class="n">gmt</span><span class="p">,</span><span class="n">src</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">src</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gmt</span><span class="o">.</span><span class="n">propagate</span><span class="p">(</span><span class="n">src</span><span class="p">)</span>
</pre></div>
</div>
<p>The piston per M1 segment is obtained with</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">SPS</span><span class="o">.</span><span class="n">piston</span><span class="p">(</span><span class="n">src</span><span class="p">,</span><span class="n">segment</span><span class="o">=</span><span class="s">&#39;full&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The 12 differential pistons are given by</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">SPS</span><span class="o">.</span><span class="n">piston</span><span class="p">(</span><span class="n">src</span><span class="p">,</span><span class="n">segment</span><span class="o">=</span><span class="s">&#39;edge&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="3%" />
<col width="97%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>P</td>
<td>(numpy ndarray) M1 segment mask as a 7 columns array</td>
</tr>
<tr class="row-even"><td>rc</td>
<td>(float) The radius of the circle where are centered the first 6 lenslets</td>
</tr>
<tr class="row-odd"><td>rp</td>
<td>(float) The radius of the circle where are centered the last 6 lenslets</td>
</tr>
<tr class="row-even"><td>W</td>
<td>(float) The width of the lenslet</td>
</tr>
<tr class="row-odd"><td>L</td>
<td>(float) The length of the lenslet</td>
</tr>
<tr class="row-even"><td>M</td>
<td>(numpy ndarray) The mask corresponding to the 12 lenslet array as a 12 columns array</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
</tbody>
</table>
<dl class="method">
<dt id="ceo.IdealSegmentPistonSensor.piston">
<code class="descname">piston</code><span class="sig-paren">(</span><em>src</em>, <em>segment='full'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ceo/GMTLIB.html#IdealSegmentPistonSensor.piston"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ceo.IdealSegmentPistonSensor.piston" title="Permalink to this definition">¶</a></dt>
<dd><p>Return either M1 segment piston or M1 differential piston</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>src</strong> : Source</p>
<blockquote>
<div><p>The piston sensing guide star object</p>
</div></blockquote>
<p><strong>segment</strong> : string, optionnal</p>
<blockquote class="last">
<div><p>&#8220;full&#8221; for piston on the entire segments or &#8220;edge&#8221; for the differential piston between segment; default: &#8220;full&#8221;</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="imaging">
<h2>Imaging<a class="headerlink" href="#imaging" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ceo.Imaging">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">Imaging</code><a class="headerlink" href="#ceo.Imaging" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an imaging object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>N_PX_PUPIL</strong> : int</p>
<blockquote>
<div><p>The sampling in pixel of one lenslet.</p>
</div></blockquote>
<p><strong>N_SIDE_LENSLET</strong> : int</p>
<blockquote>
<div><p>The linear size of the lenslet array (&gt;=1).</p>
</div></blockquote>
<p><strong>DFT_osf</strong> : int</p>
<blockquote>
<div><p>The oversampling factor for the Discrete Fourier Transform (&gt;=1).</p>
</div></blockquote>
<p><strong>N_PX_IMAGE</strong> : int</p>
<blockquote>
<div><p>The sampling in pixel of the imagelet (&gt;=1).</p>
</div></blockquote>
<p><strong>BIN_IMAGE</strong> : int</p>
<blockquote>
<div><p>The binning factor of the imagelet (&gt;=1).</p>
</div></blockquote>
<p><strong>N_SOURCE</strong> : int</p>
<blockquote class="last">
<div><p>The number of guide stars (&gt;=1).</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.cuFloatArray" title="ceo.cuFloatArray"><code class="xref py py-obj docutils literal"><span class="pre">cuFloatArray</span></code></a></dt>
<dd>class acting as the interface between GPU host and device</dd>
</dl>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>N_SIDE_LENSLET</td>
<td>(int) The linear size of the lenslet array (&gt;=1).</td>
</tr>
<tr class="row-even"><td>N_PX_PUPIL</td>
<td>(int) The sampling in pixel of one lenslet.</td>
</tr>
<tr class="row-odd"><td>DFT_osf</td>
<td>(int) The oversampling factor for the Discrete Fourier Transform</td>
</tr>
<tr class="row-even"><td>N_PX_IMAGE</td>
<td>(int) The sampling in pixel of the imagelet</td>
</tr>
<tr class="row-odd"><td>BIN_IMAGE</td>
<td>(int) The binning factor of the imagelet</td>
</tr>
<tr class="row-even"><td>N_GS</td>
<td>(int) The number of guide stars</td>
</tr>
<tr class="row-odd"><td>N_PX_FRAME</td>
<td>(int) The detector resolution</td>
</tr>
<tr class="row-even"><td>frame</td>
<td>(cuFloatArray) The detector frame of size [<cite>N_SOURCE`x`N_PX_CAMERA</cite>,`N_PX_CAMERA`]</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">propagate</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">propagateThroughFieldStop</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">propagateThroughPyramid</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">readOut</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">reset</span></code></td>
<td></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="centroiding">
<h2>Centroiding<a class="headerlink" href="#centroiding" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ceo.Centroiding">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">Centroiding</code><a class="headerlink" href="#ceo.Centroiding" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a centroiding container</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>N_SIDE_LENSLET</strong> : int</p>
<blockquote>
<div><p>The linear size of the lenslet array (&gt;=1)</p>
</div></blockquote>
<p><strong>N_SOURCE</strong> : int, optional</p>
<blockquote class="last">
<div><p>The number of guide stars (&gt;=1); default: 1</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.cuFloatArray" title="ceo.cuFloatArray"><code class="xref py py-obj docutils literal"><span class="pre">cuFloatArray</span></code></a></dt>
<dd>class acting as the interface between GPU host and device</dd>
</dl>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>N_SIDE_LENSLET</td>
<td>(int) The linear size of the lenslet array (&gt;=1)</td>
</tr>
<tr class="row-even"><td>N_SOURCE</td>
<td>(int) The number of guide stars (&gt;=1)</td>
</tr>
<tr class="row-odd"><td>flux</td>
<td>(cuFloatArray) The map of flux per lenset</td>
</tr>
<tr class="row-even"><td>c: cuFloatArray</td>
<td>The centroid vector of length <a href="#id2"><span class="problematic" id="id3">`</span></a>N_SOURCE`x`N_SIDE_LENSLET`**2</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">fried_geometry</span></code></td>
<td></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="shackhartmann">
<h2>ShackHartmann<a class="headerlink" href="#shackhartmann" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ceo.ShackHartmann">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">ShackHartmann</code><a class="headerlink" href="#ceo.ShackHartmann" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a shackHartmann object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>N_SIDE_LENSLET</strong> : int</p>
<blockquote>
<div><p>The linear size of the lenslet array (&gt;=1).</p>
</div></blockquote>
<p><strong>N_PX_LENSLET</strong> : int</p>
<blockquote>
<div><p>The sampling in pixel of one lenslet.</p>
</div></blockquote>
<p><strong>d</strong> : float</p>
<blockquote>
<div><p>The lenslet pitch [m].</p>
</div></blockquote>
<p><strong>DFT_osf</strong> : int, optional</p>
<blockquote>
<div><p>The oversampling factor for the Discrete Fourier Transform, defaults to 2</p>
</div></blockquote>
<p><strong>N_PX_IMAGE</strong> : int, optional</p>
<blockquote>
<div><p>The sampling in pixel of the imagelet, defaults to N_PX_LENSLET</p>
</div></blockquote>
<p><strong>BIN_IMAGE</strong> : int, optional</p>
<blockquote>
<div><p>The binning factor of the imagelet, default to 1</p>
</div></blockquote>
<p><strong>N_GS</strong> : int, optional</p>
<blockquote class="last">
<div><p>The number of guide stars, defaults to 1</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.MaskAbstract" title="ceo.MaskAbstract"><code class="xref py py-obj docutils literal"><span class="pre">MaskAbstract</span></code></a></dt>
<dd>a class to hold masks properties</dd>
<dt><a class="reference internal" href="#ceo.cuFloatArray" title="ceo.cuFloatArray"><code class="xref py py-obj docutils literal"><span class="pre">cuFloatArray</span></code></a></dt>
<dd>an interface class for GPU host and device float data</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p>A 30x30, 1m lenslet pitch, Nyquist sampled Shack-Hartmann WFS with 8x8 pixel per lenslet is created with</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">wfs</span> <span class="o">=</span> <span class="n">ShackHartmann</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mf">1.0</span><span class="p">)</span>
</pre></div>
</div>
<p>The detector resolution is 240 pixels with a lenslet field of view of <span class="math">\(8\lambda / 2d\)</span>.</p>
<p>Twice the Nyquist sampling is realized with</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">wfs</span> <span class="o">=</span> <span class="n">ShackHartmann</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="n">DFT_osf</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>The detector resolution is still 240 pixels but with a lenslet field of view of <span class="math">\(8\lambda / 4d\)</span>.</p>
<p>Half the Nyquist sampling is obtained with</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">wfs</span> <span class="o">=</span> <span class="n">ShackHartmann</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">BIN_IMAGE</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>The detector resolution is now 120 pixels with a lenslet field of view of <span class="math">\(4\lambda / d\)</span>.
A 240 pixels detector resolution is restored with</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">wfs</span> <span class="o">=</span> <span class="n">ShackHartmann</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">N_PX_IMAGE</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">BIN_IMAGE</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>increasing the field of view by a factor 2 i.e. <span class="math">\(8\lambda / d\)</span>.</p>
<p>The number of guide star needs to be passed if larger than 1:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">wfs</span> <span class="o">=</span> <span class="n">ShackHartmann</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">N_GS</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>N_SIDE_LENSLET</td>
<td>(int) The linear size of the lenslet array (&gt;=1).</td>
</tr>
<tr class="row-even"><td>N_PX_LENSLET</td>
<td>(int) The sampling in pixel of one lenslet.</td>
</tr>
<tr class="row-odd"><td>DFT_osf</td>
<td>(int) The oversampling factor for the Discrete Fourier Transform</td>
</tr>
<tr class="row-even"><td>N_PX_IMAGE</td>
<td>(int) The sampling in pixel of the imagelet</td>
</tr>
<tr class="row-odd"><td>BIN_IMAGE</td>
<td>(int) The binning factor of the imagelet</td>
</tr>
<tr class="row-even"><td>N_GS</td>
<td>(int) The number of guide stars</td>
</tr>
<tr class="row-odd"><td>N_PX_FRAME</td>
<td>(int) The detector resolution</td>
</tr>
<tr class="row-even"><td>valid_lenslet</td>
<td>(MaskAbstract) The mask object representing the valid lenslet location</td>
</tr>
<tr class="row-odd"><td>valid_actuator</td>
<td>(MaskAbstract) The mask object representing the valid actuator location in a Fried geometry</td>
</tr>
<tr class="row-even"><td>n_valid_lenslet</td>
<td>(int) The number of valid lenslet</td>
</tr>
<tr class="row-odd"><td>n_valid_slopes</td>
<td>(int) The number of valid slopes</td>
</tr>
<tr class="row-even"><td>pixel_scale</td>
<td>(float) The size of the detector pixel in radian</td>
</tr>
<tr class="row-odd"><td>pixel_scale_arcsec</td>
<td>(float) The size of the detector pixel in arcsec</td>
</tr>
<tr class="row-even"><td>frame</td>
<td>(cuFloatArray) The detector frame</td>
</tr>
<tr class="row-odd"><td>c0</td>
<td>(cuFloatArray) The reference slopes vector as [N_GSx2 N_SIDE_LENSLET**2]</td>
</tr>
<tr class="row-even"><td>c</td>
<td>(cuFloatArray) The slopes vector as [N_GSx2 N_SIDE_LENSLET**2]</td>
</tr>
<tr class="row-odd"><td>flux</td>
<td>(cuFloatArray) The map of flux per lenset</td>
</tr>
<tr class="row-even"><td>valid_slopes</td>
<td>(cuFloatArray) The vector of valid slopes</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.ShackHartmann.analyze" title="ceo.ShackHartmann.analyze"><code class="xref py py-obj docutils literal"><span class="pre">analyze</span></code></a></td>
<td>Propagates the guide star to the WFS detector (noiseless) and processes the frame</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.ShackHartmann.calibrate" title="ceo.ShackHartmann.calibrate"><code class="xref py py-obj docutils literal"><span class="pre">calibrate</span></code></a></td>
<td>Selects the WFS valid lenslet and calibrated the reference slopes</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.ShackHartmann.pointing" title="ceo.ShackHartmann.pointing"><code class="xref py py-obj docutils literal"><span class="pre">pointing</span></code></a></td>
<td>Sets the pointing of the WFS relative to the guide star</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.ShackHartmann.process" title="ceo.ShackHartmann.process"><code class="xref py py-obj docutils literal"><span class="pre">process</span></code></a></td>
<td>Processes the WFS detector frame</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.ShackHartmann.propagate" title="ceo.ShackHartmann.propagate"><code class="xref py py-obj docutils literal"><span class="pre">propagate</span></code></a></td>
<td>Propagates the guide star to the WFS detector (noiseless)</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.ShackHartmann.readOut" title="ceo.ShackHartmann.readOut"><code class="xref py py-obj docutils literal"><span class="pre">readOut</span></code></a></td>
<td>Reads-out the WFS detector frame adding photon and read-out noises</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.ShackHartmann.reset" title="ceo.ShackHartmann.reset"><code class="xref py py-obj docutils literal"><span class="pre">reset</span></code></a></td>
<td>Resets the WFS detector frame to 0</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.ShackHartmann.analyze">
<code class="descname">analyze</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.ShackHartmann.analyze" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagates the guide star to the WFS detector (noiseless) and processes the frame</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>gs</strong> : Source</p>
<blockquote class="last">
<div><p>The WFS guide star</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Source" title="ceo.Source"><code class="xref py py-obj docutils literal"><span class="pre">Source</span></code></a></dt>
<dd>a class for astronomical sources</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="ceo.ShackHartmann.calibrate">
<code class="descname">calibrate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.ShackHartmann.calibrate" title="Permalink to this definition">¶</a></dt>
<dd><p>Selects the WFS valid lenslet and calibrated the reference slopes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>gs</strong> : Source</p>
<blockquote>
<div><p>The WFS guide star</p>
</div></blockquote>
<p><strong>threshold</strong> : float</p>
<blockquote class="last">
<div><p>The intensity threshold, a lenslet is discared if the flux of the lenslet divided by the fully illuminated flux of the lenslet is less than the threshold</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Source" title="ceo.Source"><code class="xref py py-obj docutils literal"><span class="pre">Source</span></code></a></dt>
<dd>a class for astronomical sources</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="ceo.ShackHartmann.pointing">
<code class="descname">pointing</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.ShackHartmann.pointing" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the pointing of the WFS relative to the guide star</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>zen</strong> : float</p>
<blockquote>
<div><p>The zenith angle [rd]</p>
</div></blockquote>
<p><strong>azim</strong> : float</p>
<blockquote class="last">
<div><p>The azimuth angle [rd]</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.ShackHartmann.process">
<code class="descname">process</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.ShackHartmann.process" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes the WFS detector frame</p>
</dd></dl>

<dl class="method">
<dt id="ceo.ShackHartmann.propagate">
<code class="descname">propagate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.ShackHartmann.propagate" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagates the guide star to the WFS detector (noiseless)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>gs</strong> : Source</p>
<blockquote class="last">
<div><p>The WFS guide star</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Source" title="ceo.Source"><code class="xref py py-obj docutils literal"><span class="pre">Source</span></code></a></dt>
<dd>a class for astronomical sources</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="ceo.ShackHartmann.readOut">
<code class="descname">readOut</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.ShackHartmann.readOut" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads-out the WFS detector frame adding photon and read-out noises</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>exposureTime</strong> : float</p>
<blockquote>
<div><p>The detector integration time [s]</p>
</div></blockquote>
<p><strong>readoutNoiseRms</strong> : float</p>
<blockquote class="last">
<div><p>The rms of the detector read-out noise</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.ShackHartmann.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.ShackHartmann.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the WFS detector frame to 0</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="raytracing">
<h2>rayTracing<a class="headerlink" href="#raytracing" title="Permalink to this headline">¶</a></h2>
<div class="section" id="coordinates">
<h3>Coordinates<a class="headerlink" href="#coordinates" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.Coordinates">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">Coordinates</code><a class="headerlink" href="#ceo.Coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>An interface between an array of coordinate vectors and an array of coordinates</p>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ceo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gmt</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">GMT_MX</span><span class="p">(</span><span class="mf">25.5</span><span class="p">,</span><span class="mi">256</span><span class="p">,</span> <span class="n">M1_radial_order</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">M2_radial_order</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
</pre></div>
</div>
<p>The origin of M1 segment in the motion coordinate system is a Coordinates object</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">gmt</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">motion_CS</span><span class="o">.</span><span class="n">origin</span>
</pre></div>
</div>
<p>to retrieve the origin values:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">gmt</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">motion_CS</span><span class="o">.</span><span class="n">origin</span><span class="p">[:]</span>
</pre></div>
</div>
<p>Segment 1 is moved along the y-axis of 1mm:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">gmt</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">motion_CS</span><span class="o">.</span><span class="n">origin</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1e-3</span>
</pre></div>
</div>
<p>All the segments are resetted to their nominal position with</p>
<p>gmt.M1.motion_CS.origin[:] = 0</p>
</dd></dl>

</div>
<div class="section" id="coordinate-system">
<h3>Coordinate_system<a class="headerlink" href="#coordinate-system" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="bundle">
<h3>Bundle<a class="headerlink" href="#bundle" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.Bundle">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">Bundle</code><a class="headerlink" href="#ceo.Bundle" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to represent a bundle of rays</p>
<p>This class is usually instanciated by the Source class</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>src</strong> : Source</p>
<blockquote class="last">
<div><p>The Source object that contains the pointer to CEO bundle structure</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="84%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>N_BUNDLE</td>
<td>(int, read only) The number of ray bundle</td>
</tr>
<tr class="row-even"><td>coordinates</td>
<td>(cuDoubleArray, read only) The coordinate vectors of the rays as a (N_RAYxN_BUNDLE)x3 array</td>
</tr>
<tr class="row-odd"><td>chief_coordinates</td>
<td>(cuDoubleArray, read only) The coordinate vector of the chief ray</td>
</tr>
<tr class="row-even"><td>directions</td>
<td>(cuDoubleArray, read only) The direction vectors of the rays as a (N_RAYxN_BUNDLE)x3 array</td>
</tr>
<tr class="row-odd"><td>chief_directions</td>
<td>(cuDoubleArray, read only) The direction vector of the chief ray</td>
</tr>
<tr class="row-even"><td>optical_path_length</td>
<td>(cuDoubleArray, read only) The optical path lengths of the rays as a N_BUNDLExN_RAY array</td>
</tr>
<tr class="row-odd"><td>chief_optical_path_length</td>
<td>(cuDoubleArray, read only) The optical path length  of the chief ray</td>
</tr>
<tr class="row-even"><td>optical_path_difference</td>
<td>(cuDoubleArray, read only) The optical path differences of the rays as a N_BUNDLExN_RAY array</td>
</tr>
<tr class="row-odd"><td>vignetting</td>
<td>(cuDoubleArray, read only) The vignetting flag of the rays as a N_BUNDLExN_RAY array</td>
</tr>
<tr class="row-even"><td>sphere_radius</td>
<td>(cuDoubleArray, read only) The radius of the reference sphere used to compute the optical path difference</td>
</tr>
<tr class="row-odd"><td>sphere_distance</td>
<td>(cuDoubleArray, read only) The distance from the last surface to the reference sphere used to compute the optical path difference</td>
</tr>
<tr class="row-even"><td>piston_mask</td>
<td>(numpy ndarray) A 7 columns array where each column is a mask corresponding to 1 segment</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.Bundle.ee80" title="ceo.Bundle.ee80"><code class="xref py py-obj docutils literal"><span class="pre">ee80</span></code></a></td>
<td>Computes the size of the geometric EE80 square</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">get_optical_path_difference</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">to_focal_plane</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.Bundle.to_sphere" title="ceo.Bundle.to_sphere"><code class="xref py py-obj docutils literal"><span class="pre">to_sphere</span></code></a></td>
<td>Computes the optical path difference with respect to the reference sphere</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.Bundle.to_z_plane" title="ceo.Bundle.to_z_plane"><code class="xref py py-obj docutils literal"><span class="pre">to_z_plane</span></code></a></td>
<td>Propagates the rays to a given plane</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.Bundle.ee80">
<code class="descname">ee80</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Bundle.ee80" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the size of the geometric EE80 square</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>spaxel</strong> : char, optional</p>
<blockquote>
<div><p>The spaxel geometry, square or circle; default: circle</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">float</p>
<blockquote class="last">
<div><p>The size of the geometric EE80 square in radian</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.Bundle.to_sphere">
<code class="descname">to_sphere</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Bundle.to_sphere" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the optical path difference with respect to the reference sphere</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>sphere_origin</strong> : list of double, optional</p>
<blockquote>
<div><p>A 3 elements list containing the x,y and z coordinates of the sphere center; default: None</p>
</div></blockquote>
<p><strong>focal_plane_distance</strong> : double, optional</p>
<blockquote>
<div><p>The location of the focal plane on the optical axis; default: 0.0</p>
</div></blockquote>
<p><strong>focal_plane_radius</strong> : double, optional</p>
<blockquote class="last">
<div><p>The radius of curvature of the focal plane; default: 0.0</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.Bundle.to_z_plane">
<code class="descname">to_z_plane</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Bundle.to_z_plane" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagates the rays to a given plane</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>z_plane</strong> : double</p>
<blockquote class="last">
<div><p>The z coordinates of the plane</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="zernikes">
<h3>ZernikeS<a class="headerlink" href="#zernikes" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.ZernikeS">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">ZernikeS</code><a class="headerlink" href="#ceo.ZernikeS" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to represent a surface as the weighted sum of Zernike polynomials</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>max_n</strong> : int</p>
<blockquote>
<div><p>The largest of the radial orders</p>
</div></blockquote>
<p><strong>a</strong> : ndarray, optional</p>
<blockquote>
<div><p>The Zernike polynomial coefficients as a N_SURFxn_modes array; default to all 0</p>
</div></blockquote>
<p><strong>N_SURF</strong> : int, optional</p>
<blockquote>
<div><p>The number of Zernike surfaces; default: 1</p>
</div></blockquote>
<p><strong>origin</strong> : list, optional</p>
<blockquote>
<div><p>Origin of the coordinate system of the Zernike polynomials; default: [0,0,0]</p>
</div></blockquote>
<p><strong>euler_angles</strong> : list, optional</p>
<blockquote class="last">
<div><p>Euler angles of the coordinate system of the Zernike polynomials; default: [0,0,0]</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ceo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib</span> <span class="kn">as</span> <span class="nn">plt</span>
</pre></div>
</div>
<p>Lets define a Zernike surface made of the first 15 Zernike polynomials (4th radial order)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Z</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">ZernikeS</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>and setting it to be a pure focus mode:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Z</span><span class="o">.</span><span class="n">a</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Z</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</pre></div>
</div>
<p>The surface is computed with</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">npx</span> <span class="o">=</span> <span class="mi">512</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">npx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">u</span><span class="p">,</span><span class="n">u</span><span class="p">,</span> <span class="n">indexing</span><span class="o">=</span><span class="s">&#39;xy&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hypot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">o</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cuo</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">cuDoubleArray</span><span class="p">(</span><span class="n">host_data</span><span class="o">=</span><span class="n">o</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cur</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">cuDoubleArray</span><span class="p">(</span><span class="n">host_data</span><span class="o">=</span><span class="n">r</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S</span> <span class="o">=</span> <span class="n">Z</span><span class="o">.</span><span class="n">surface</span><span class="p">(</span><span class="n">cur</span><span class="p">,</span><span class="n">cuo</span><span class="p">)</span>
</pre></div>
</div>
<p>and its derivative with</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">dSdx</span><span class="p">,</span><span class="n">dSdy</span><span class="p">)</span> <span class="o">=</span> <span class="n">Z</span><span class="o">.</span><span class="n">surface_derivatives</span><span class="p">(</span><span class="n">cur</span><span class="p">,</span><span class="n">cuo</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">ax1</span><span class="p">,</span><span class="n">ax2</span><span class="p">,</span><span class="n">ax3</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">ncols</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">sharey</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mf">4.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h1</span> <span class="o">=</span> <span class="n">ax1</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">host</span><span class="p">(),</span><span class="n">interpolation</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">origin</span><span class="o">=</span><span class="s">&#39;lower&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">h1</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h2</span> <span class="o">=</span> <span class="n">ax2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">dSdx</span><span class="o">.</span><span class="n">host</span><span class="p">(),</span><span class="n">interpolation</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">origin</span><span class="o">=</span><span class="s">&#39;lower&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">h2</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h3</span> <span class="o">=</span> <span class="n">ax3</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">dSdy</span><span class="o">.</span><span class="n">host</span><span class="p">(),</span><span class="n">interpolation</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">origin</span><span class="o">=</span><span class="s">&#39;lower&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">h3</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax3</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="8%" />
<col width="92%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>max_n</td>
<td>(int) The largest of the radial orders</td>
</tr>
<tr class="row-even"><td>n_mode</td>
<td>(int) The total number of Zernike modes</td>
</tr>
<tr class="row-odd"><td>N_SURF</td>
<td>(int) The number of Zernike surfaces</td>
</tr>
<tr class="row-even"><td>a</td>
<td>(ndarray) The Zernike polynomial coefficients as a N_SURFxn_modes array</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.ZernikeS.projection" title="ceo.ZernikeS.projection"><code class="xref py py-obj docutils literal"><span class="pre">projection</span></code></a></td>
<td>Projects the phase onto a set on Zernike polynomials</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.ZernikeS.reset" title="ceo.ZernikeS.reset"><code class="xref py py-obj docutils literal"><span class="pre">reset</span></code></a></td>
<td>Resets the Zernike coefficients to zero and update the Zernike surface</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.ZernikeS.surface" title="ceo.ZernikeS.surface"><code class="xref py py-obj docutils literal"><span class="pre">surface</span></code></a></td>
<td>Computes the Zernike surface in polar coordinates</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.ZernikeS.surface_derivatives" title="ceo.ZernikeS.surface_derivatives"><code class="xref py py-obj docutils literal"><span class="pre">surface_derivatives</span></code></a></td>
<td>Computes the Zernike surface x and y derivatives in polar coordinates</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.ZernikeS.update" title="ceo.ZernikeS.update"><code class="xref py py-obj docutils literal"><span class="pre">update</span></code></a></td>
<td>Updates the Zernike surface based on the Zernike coefficients</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.ZernikeS.projection">
<code class="descname">projection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.ZernikeS.projection" title="Permalink to this definition">¶</a></dt>
<dd><p>Projects the phase onto a set on Zernike polynomials</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>phase</strong> : cuFloatArray</p>
<blockquote>
<div><p>The wavefront phase</p>
</div></blockquote>
<p><strong>r</strong> : cuDoubleArray</p>
<blockquote>
<div><p>The radius of the coordinates</p>
</div></blockquote>
<p><strong>o</strong> : cuDoubleArray</p>
<blockquote class="last">
<div><p>The azimuth of the coordinates</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.ZernikeS.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.ZernikeS.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the Zernike coefficients to zero and update the Zernike surface</p>
</dd></dl>

<dl class="method">
<dt id="ceo.ZernikeS.surface">
<code class="descname">surface</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.ZernikeS.surface" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the Zernike surface in polar coordinates</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>r</strong> : cuDoubleArray</p>
<blockquote>
<div><p>The normalized radius</p>
</div></blockquote>
<p><strong>o</strong> : cuDoubleArray</p>
<blockquote>
<div><p>The azimuth</p>
</div></blockquote>
<p><strong>surf_id</strong> : int, optional</p>
<blockquote>
<div><p>The surface index; default: 0</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>S</strong> : cuDoubleArray</p>
<blockquote class="last">
<div><p>The Zernike surface</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.ZernikeS.surface_derivatives">
<code class="descname">surface_derivatives</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.ZernikeS.surface_derivatives" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the Zernike surface x and y derivatives in polar coordinates</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>r</strong> : cuDoubleArray</p>
<blockquote>
<div><p>The normalized radius</p>
</div></blockquote>
<p><strong>o</strong> : cuDoubleArray</p>
<blockquote>
<div><p>The azimuth</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>dSdx</strong> : cuDoubleArray</p>
<blockquote>
<div><p>The Zernike surface x derivative</p>
</div></blockquote>
<p><strong>dSdy</strong> : cuDoubleArray</p>
<blockquote class="last">
<div><p>The Zernike surface y derivative</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.ZernikeS.update">
<code class="descname">update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.ZernikeS.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the Zernike surface based on the Zernike coefficients</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="gmt-m1">
<h3>GMT M1<a class="headerlink" href="#gmt-m1" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.GMT_M1">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">GMT_M1</code><a class="headerlink" href="#ceo.GMT_M1" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to represent GMT M1 or M2 segmented mirror</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>D</strong> : float</p>
<blockquote>
<div><p>The size in meter of the pupil plane (must be equal or larger than the telescope diameter)</p>
</div></blockquote>
<p><strong>D_px</strong> : float</p>
<blockquote>
<div><p>The size in pxixel of the pupil plane</p>
</div></blockquote>
<p><strong>radial_order</strong> : int, optional</p>
<blockquote class="last">
<div><p>The radial order of the last Zernike polynomials, default to 0</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ceo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M1</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">GMT_M1</span><span class="p">(</span><span class="mf">25.5</span><span class="p">,</span><span class="mi">101</span><span class="p">)</span>
</pre></div>
</div>
<p>With multiple sources:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">M2</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">GMT_M2</span><span class="p">(</span><span class="mf">25.5</span><span class="p">,</span><span class="mi">101</span><span class="p">,</span><span class="n">N_SRC</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>With Zernike modes</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">M1</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">GMT_M1</span><span class="p">(</span><span class="mf">25.5</span><span class="p">,</span><span class="mi">101</span><span class="p">,</span><span class="n">radial_order</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>An M1 segment (#2) is displaced in x of 2 micron and tilted in y of 50mas with</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">math</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theta</span> <span class="o">=</span> <span class="mf">50e-3</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">180</span><span class="o">/</span><span class="mi">3600</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M1</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="p">[</span><span class="mf">2e-6</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="n">euler_angles</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">theta</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="n">idx</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>A global tip-tilt of M1 is achieved with</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">M1</span><span class="o">.</span><span class="n">global_tiptilt</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span><span class="o">-</span><span class="n">theta</span><span class="p">)</span>
</pre></div>
</div>
<p>M2 pointing neutral and coma neutral tip-tilt are realized with</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">M2</span><span class="o">.</span><span class="n">pointing_neutral</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span><span class="o">-</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M2</span><span class="o">.</span><span class="n">coma_neutral</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span><span class="o">-</span><span class="n">theta</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="87%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>D_assembly</td>
<td>(rtd) The mirror assembly diameter</td>
</tr>
<tr class="row-even"><td>D_full</td>
<td>(rtd) The segment full aperture diameter</td>
</tr>
<tr class="row-odd"><td>D_clear</td>
<td>(rtd) The segment clear aperture diameter</td>
</tr>
<tr class="row-even"><td>L</td>
<td>(rtd) The distance from the optical axis to the center of the tilted peripheral segments</td>
</tr>
<tr class="row-odd"><td>conic_c</td>
<td>(rtd) The inverse of the mirror radius of curvature</td>
</tr>
<tr class="row-even"><td>conic_k</td>
<td>(rtd) The conic parametert</td>
</tr>
<tr class="row-odd"><td>M_ID</td>
<td>(int) The mirror ID #</td>
</tr>
<tr class="row-even"><td>zernike</td>
<td>(ZernikeS) The figure of the segments as Zernike surface object</td>
</tr>
<tr class="row-odd"><td>aperture_CS</td>
<td>(Coordinate_system) The segment aperture coordinate system</td>
</tr>
<tr class="row-even"><td>conic_CS</td>
<td>(Coordinate_system) The segment conic coordinate system</td>
</tr>
<tr class="row-odd"><td>motion_CS</td>
<td>(Coordinate_system) The segment motion coordinate system</td>
</tr>
<tr class="row-even"><td>rigid_body_CS</td>
<td>(Coordinate_system) The segment rigid body coordinate system</td>
</tr>
<tr class="row-odd"><td>TT_CS</td>
<td>(Coordinate_system) The mirror global tip-tilt coordinate system</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.GMT_M1.blocking" title="ceo.GMT_M1.blocking"><code class="xref py py-obj docutils literal"><span class="pre">blocking</span></code></a></td>
<td>Makes the mirror acting as a stop</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">edge_sensors</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.GMT_M1.global_tiptilt" title="ceo.GMT_M1.global_tiptilt"><code class="xref py py-obj docutils literal"><span class="pre">global_tiptilt</span></code></a></td>
<td>Applies a global tip&#8211;tilt to M1</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.GMT_M1.reset" title="ceo.GMT_M1.reset"><code class="xref py py-obj docutils literal"><span class="pre">reset</span></code></a></td>
<td>Reset the segments to their original prescription</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">test</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.GMT_M1.trace" title="ceo.GMT_M1.trace"><code class="xref py py-obj docutils literal"><span class="pre">trace</span></code></a></td>
<td>Ray tracing to the mirror</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">track</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.GMT_M1.update" title="ceo.GMT_M1.update"><code class="xref py py-obj docutils literal"><span class="pre">update</span></code></a></td>
<td>Updates the position of the mirror segments</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.GMT_M1.blocking">
<code class="descname">blocking</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.GMT_M1.blocking" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes the mirror acting as a stop</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>rays</strong> : Bundle</p>
<blockquote class="last">
<div><p>A ray bundle used to propagate the light</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Bundle" title="ceo.Bundle"><code class="xref py py-obj docutils literal"><span class="pre">Bundle</span></code></a></dt>
<dd>a class representing a bundle of light rays used for geometric propagation</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="ceo.GMT_M1.global_tiptilt">
<code class="descname">global_tiptilt</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.GMT_M1.global_tiptilt" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies a global tip&#8211;tilt to M1</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>tip</strong> : float</p>
<blockquote>
<div><p>The x axis angle</p>
</div></blockquote>
<p><strong>tilt</strong> : float</p>
<blockquote class="last">
<div><p>The y axis angle</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.GMT_M1.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.GMT_M1.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the segments to their original prescription</p>
</dd></dl>

<dl class="method">
<dt id="ceo.GMT_M1.trace">
<code class="descname">trace</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.GMT_M1.trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Ray tracing to the mirror</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>rays</strong> : Bundle</p>
<blockquote class="last">
<div><p>A ray bundle used to propagate the light</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Bundle" title="ceo.Bundle"><code class="xref py py-obj docutils literal"><span class="pre">Bundle</span></code></a></dt>
<dd>a class representing a bundle of light rays used for geometric propagation</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="ceo.GMT_M1.update">
<code class="descname">update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.GMT_M1.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the position of the mirror segments</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>origin</strong> : list of float, optional</p>
<blockquote>
<div><p>The location of a segment center; default: [0,0,0]</p>
</div></blockquote>
<p><strong>euler_angles</strong> : list of float, optional</p>
<blockquote>
<div><p>The tip, tilt and clock angles of a segment; default: [0,0,0]</p>
</div></blockquote>
<p><strong>idx</strong> : int</p>
<blockquote class="last">
<div><p>The segment index from 1 to 7</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="gmt-m2">
<h3>GMT M2<a class="headerlink" href="#gmt-m2" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.GMT_M2">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">GMT_M2</code><a class="headerlink" href="#ceo.GMT_M2" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to represent GMT M1 or M2 segmented mirror</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>D</strong> : float</p>
<blockquote>
<div><p>The size in meter of the pupil plane (must be equal or larger than the telescope diameter)</p>
</div></blockquote>
<p><strong>D_px</strong> : float</p>
<blockquote>
<div><p>The size in pxixel of the pupil plane</p>
</div></blockquote>
<p><strong>radial_order</strong> : int, optional</p>
<blockquote class="last">
<div><p>The radial order of the last Zernike polynomials, default to 0</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ceo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M1</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">GMT_M1</span><span class="p">(</span><span class="mf">25.5</span><span class="p">,</span><span class="mi">101</span><span class="p">)</span>
</pre></div>
</div>
<p>With multiple sources:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">M2</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">GMT_M2</span><span class="p">(</span><span class="mf">25.5</span><span class="p">,</span><span class="mi">101</span><span class="p">,</span><span class="n">N_SRC</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>With Zernike modes</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">M1</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">GMT_M1</span><span class="p">(</span><span class="mf">25.5</span><span class="p">,</span><span class="mi">101</span><span class="p">,</span><span class="n">radial_order</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>An M1 segment (#2) is displaced in x of 2 micron and tilted in y of 50mas with</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">math</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theta</span> <span class="o">=</span> <span class="mf">50e-3</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">180</span><span class="o">/</span><span class="mi">3600</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M1</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="p">[</span><span class="mf">2e-6</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="n">euler_angles</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">theta</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="n">idx</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>A global tip-tilt of M1 is achieved with</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">M1</span><span class="o">.</span><span class="n">global_tiptilt</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span><span class="o">-</span><span class="n">theta</span><span class="p">)</span>
</pre></div>
</div>
<p>M2 pointing neutral and coma neutral tip-tilt are realized with</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">M2</span><span class="o">.</span><span class="n">pointing_neutral</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span><span class="o">-</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M2</span><span class="o">.</span><span class="n">coma_neutral</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span><span class="o">-</span><span class="n">theta</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="87%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>D_assembly</td>
<td>(rtd) The mirror assembly diameter</td>
</tr>
<tr class="row-even"><td>D_full</td>
<td>(rtd) The segment full aperture diameter</td>
</tr>
<tr class="row-odd"><td>D_clear</td>
<td>(rtd) The segment clear aperture diameter</td>
</tr>
<tr class="row-even"><td>L</td>
<td>(rtd) The distance from the optical axis to the center of the tilted peripheral segments</td>
</tr>
<tr class="row-odd"><td>conic_c</td>
<td>(rtd) The inverse of the mirror radius of curvature</td>
</tr>
<tr class="row-even"><td>conic_k</td>
<td>(rtd) The conic parametert</td>
</tr>
<tr class="row-odd"><td>M_ID</td>
<td>(int) The mirror ID #</td>
</tr>
<tr class="row-even"><td>zernike</td>
<td>(ZernikeS) The figure of the segments as Zernike surface object</td>
</tr>
<tr class="row-odd"><td>aperture_CS</td>
<td>(Coordinate_system) The segment aperture coordinate system</td>
</tr>
<tr class="row-even"><td>conic_CS</td>
<td>(Coordinate_system) The segment conic coordinate system</td>
</tr>
<tr class="row-odd"><td>motion_CS</td>
<td>(Coordinate_system) The segment motion coordinate system</td>
</tr>
<tr class="row-even"><td>rigid_body_CS</td>
<td>(Coordinate_system) The segment rigid body coordinate system</td>
</tr>
<tr class="row-odd"><td>TT_CS</td>
<td>(Coordinate_system) The mirror global tip-tilt coordinate system</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.GMT_M2.blocking" title="ceo.GMT_M2.blocking"><code class="xref py py-obj docutils literal"><span class="pre">blocking</span></code></a></td>
<td>Makes the mirror acting as a stop</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.GMT_M2.coma_neutral" title="ceo.GMT_M2.coma_neutral"><code class="xref py py-obj docutils literal"><span class="pre">coma_neutral</span></code></a></td>
<td>Applies a coma neutral global tip&#8211;tilt to M2</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">edge_sensors</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.GMT_M2.global_tiptilt" title="ceo.GMT_M2.global_tiptilt"><code class="xref py py-obj docutils literal"><span class="pre">global_tiptilt</span></code></a></td>
<td>Applies a global tip&#8211;tilt to M1</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.GMT_M2.pointing_neutral" title="ceo.GMT_M2.pointing_neutral"><code class="xref py py-obj docutils literal"><span class="pre">pointing_neutral</span></code></a></td>
<td>Applies a pointing neutral global tip&#8211;tilt to M2</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.GMT_M2.reset" title="ceo.GMT_M2.reset"><code class="xref py py-obj docutils literal"><span class="pre">reset</span></code></a></td>
<td>Reset the segments to their original prescription</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.GMT_M2.trace" title="ceo.GMT_M2.trace"><code class="xref py py-obj docutils literal"><span class="pre">trace</span></code></a></td>
<td>Ray tracing to the mirror</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.GMT_M2.update" title="ceo.GMT_M2.update"><code class="xref py py-obj docutils literal"><span class="pre">update</span></code></a></td>
<td>Updates the position of the mirror segments</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.GMT_M2.blocking">
<code class="descname">blocking</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.GMT_M2.blocking" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes the mirror acting as a stop</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>rays</strong> : Bundle</p>
<blockquote class="last">
<div><p>A ray bundle used to propagate the light</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Bundle" title="ceo.Bundle"><code class="xref py py-obj docutils literal"><span class="pre">Bundle</span></code></a></dt>
<dd>a class representing a bundle of light rays used for geometric propagation</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="ceo.GMT_M2.coma_neutral">
<code class="descname">coma_neutral</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.GMT_M2.coma_neutral" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies a coma neutral global tip&#8211;tilt to M2</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>tip</strong> : float</p>
<blockquote>
<div><p>The x axis angle</p>
</div></blockquote>
<p><strong>tilt</strong> : float</p>
<blockquote class="last">
<div><p>The y axis angle</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.GMT_M2.global_tiptilt">
<code class="descname">global_tiptilt</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.GMT_M2.global_tiptilt" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies a global tip&#8211;tilt to M1</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>tip</strong> : float</p>
<blockquote>
<div><p>The x axis angle</p>
</div></blockquote>
<p><strong>tilt</strong> : float</p>
<blockquote class="last">
<div><p>The y axis angle</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.GMT_M2.pointing_neutral">
<code class="descname">pointing_neutral</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.GMT_M2.pointing_neutral" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies a pointing neutral global tip&#8211;tilt to M2</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>tip</strong> : float</p>
<blockquote>
<div><p>The x axis angle</p>
</div></blockquote>
<p><strong>tilt</strong> : float</p>
<blockquote class="last">
<div><p>The y axis angle</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.GMT_M2.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.GMT_M2.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the segments to their original prescription</p>
</dd></dl>

<dl class="method">
<dt id="ceo.GMT_M2.trace">
<code class="descname">trace</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.GMT_M2.trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Ray tracing to the mirror</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>rays</strong> : Bundle</p>
<blockquote class="last">
<div><p>A ray bundle used to propagate the light</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Bundle" title="ceo.Bundle"><code class="xref py py-obj docutils literal"><span class="pre">Bundle</span></code></a></dt>
<dd>a class representing a bundle of light rays used for geometric propagation</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="ceo.GMT_M2.update">
<code class="descname">update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.GMT_M2.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the position of the mirror segments</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>origin</strong> : list of float, optional</p>
<blockquote>
<div><p>The location of a segment center; default: [0,0,0]</p>
</div></blockquote>
<p><strong>euler_angles</strong> : list of float, optional</p>
<blockquote>
<div><p>The tip, tilt and clock angles of a segment; default: [0,0,0]</p>
</div></blockquote>
<p><strong>idx</strong> : int</p>
<blockquote class="last">
<div><p>The segment index from 1 to 7</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="segmentpistonsensor">
<h2>SegmentPistonSensor<a class="headerlink" href="#segmentpistonsensor" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ceo.SegmentPistonSensor">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">SegmentPistonSensor</code><a class="headerlink" href="#ceo.SegmentPistonSensor" title="Permalink to this definition">¶</a></dt>
<dd><p>The segment piston sensor model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>M1</strong> : GMT_M1</p>
<blockquote>
<div><p>The GMT M1 model class</p>
</div></blockquote>
<p><strong>gs</strong> : Source</p>
<blockquote>
<div><p>The guide star(s) of the segment piston sensor</p>
</div></blockquote>
<p><strong>dispersion: float, optional</strong></p>
<blockquote>
<div><p>The grism dispersion; default: 5arcsec/micron</p>
</div></blockquote>
<p><strong>field_of_view</strong> : float, optional</p>
<blockquote>
<div><p>The segment piston sensor field-of-view; default: 3 arcsec</p>
</div></blockquote>
<p><strong>nyquist_factor</strong> : float, optional</p>
<blockquote class="last">
<div><p>The Nyquist sampling factor; default: 1, meaning Nyquist sampling</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Imaging" title="ceo.Imaging"><code class="xref py py-obj docutils literal"><span class="pre">Imaging</span></code></a></dt>
<dd>the lenslet and detector class</dd>
</dl>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="8%" />
<col width="92%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>W</td>
<td>(Complex_amplitude, read-only) The piecewise wavefront on the 12 lenslets</td>
</tr>
<tr class="row-even"><td>camera</td>
<td>(Imaging, read-only) The detector of the segment piston sensor</td>
</tr>
<tr class="row-odd"><td>fftlet</td>
<td>(cuFloatArray) The Fourier trasform of the detector framelet</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">fft</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.SegmentPistonSensor.propagate" title="ceo.SegmentPistonSensor.propagate"><code class="xref py py-obj docutils literal"><span class="pre">propagate</span></code></a></td>
<td>Propagates the guide star wavefront from the segment piston sensor pupil plane to the detector in the focal plane</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">readOut</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.SegmentPistonSensor.propagate">
<code class="descname">propagate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.SegmentPistonSensor.propagate" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagates the guide star wavefront from the segment piston sensor pupil plane to the detector in the focal plane</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>gs</strong> : Source</p>
<blockquote class="last">
<div><p>The segment piston sensor guide star(s)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="utilities">
<h2>utilities<a class="headerlink" href="#utilities" title="Permalink to this headline">¶</a></h2>
<div class="section" id="mask">
<h3>mask<a class="headerlink" href="#mask" title="Permalink to this headline">¶</a></h3>
<div class="section" id="maskabstract">
<h4>MaskAbstract<a class="headerlink" href="#maskabstract" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="ceo.MaskAbstract">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">MaskAbstract</code><a class="headerlink" href="#ceo.MaskAbstract" title="Permalink to this definition">¶</a></dt>
<dd><p>The abstract class for all other mask classes</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.cuFloatArray" title="ceo.cuFloatArray"><code class="xref py py-obj docutils literal"><span class="pre">cuFloatArray</span></code></a></dt>
<dd>an interface for GPU host and device float data</dd>
</dl>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="94%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>f</td>
<td>(cuFloatArray) the mask as a float array</td>
</tr>
<tr class="row-even"><td>nnz</td>
<td>(int) the number of non zeros values in the mask</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">alter</span></code></td>
<td></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="id4">
<h4>Mask<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="ceo.Mask">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">Mask</code><a class="headerlink" href="#ceo.Mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a square mask object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>n</strong> : an int</p>
<blockquote>
<div><p>the linear sampling in pixel of the pupil</p>
</div></blockquote>
<p><strong>L</strong> : float</p>
<blockquote>
<div><p>the linear size of the mask in meter</p>
</div></blockquote>
<p><strong>i_s</strong> : float, optional</p>
<blockquote>
<div><p>the row pixel coordinate of the mask center, default: 0</p>
</div></blockquote>
<p><strong>j_s</strong> : float, optional</p>
<blockquote class="last">
<div><blockquote>
<div><p>the column pixel coordinate of the mask center, default: 0</p>
</div></blockquote>
<dl class="docutils">
<dt>n_s <span class="classifier-delimiter">:</span> <span class="classifier">float, optional</span></dt>
<dd><p class="first last">the mask size in pixel, default: 0 means n_s=n</p>
</dd>
<dt>theta <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">the rotation angle [rd] of the mask with respect to i_s and j_s, default: 0</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#ceo.MaskAbstract" title="ceo.MaskAbstract"><code class="xref py py-obj docutils literal"><span class="pre">MaskAbstract</span></code></a></p>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">area</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">f</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">n</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">nel</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">nnz</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">alter</span></code></td>
<td></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="telescope">
<h4>Telescope<a class="headerlink" href="#telescope" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="ceo.Telescope">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">Telescope</code><a class="headerlink" href="#ceo.Telescope" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a circular mask object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>n</strong> : int</p>
<blockquote>
<div><p>the sampling in pixel of the pupil.</p>
</div></blockquote>
<p><strong>D</strong> : float</p>
<blockquote class="last">
<div><p>the diamter in meter of the pupil</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#ceo.MaskAbstract" title="ceo.MaskAbstract"><code class="xref py py-obj docutils literal"><span class="pre">MaskAbstract</span></code></a></p>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">area</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">f</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">n</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">nel</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">nnz</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">alter</span></code></td>
<td></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="gmt">
<h4>GMT<a class="headerlink" href="#gmt" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="ceo.GMT">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">GMT</code><a class="headerlink" href="#ceo.GMT" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a mask object for the Giant Magellan Telescope pupil.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>n</strong> : int</p>
<blockquote>
<div><p>The sampling in pixel of the pupil.</p>
</div></blockquote>
<p><strong>S</strong> : float</p>
<blockquote class="last">
<div><p>The size of the pupil in meter.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#ceo.MaskAbstract" title="ceo.MaskAbstract"><code class="xref py py-obj docutils literal"><span class="pre">MaskAbstract</span></code></a></p>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">area</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">f</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">n</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">nel</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">nnz</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">alter</span></code></td>
<td></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="stopwatch">
<h3>StopWatch<a class="headerlink" href="#stopwatch" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.StopWatch">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">StopWatch</code><a class="headerlink" href="#ceo.StopWatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a stopwatch object to time cuda based routines</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="84%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>elapsedTime</td>
<td>(float) The time elapsed between a tic() and a toc() calls</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.StopWatch.tic" title="ceo.StopWatch.tic"><code class="xref py py-obj docutils literal"><span class="pre">tic</span></code></a></td>
<td>Starts the stopwatch</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.StopWatch.toc" title="ceo.StopWatch.toc"><code class="xref py py-obj docutils literal"><span class="pre">toc</span></code></a></td>
<td>Stops the stopwatch</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.StopWatch.tic">
<code class="descname">tic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.StopWatch.tic" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts the stopwatch</p>
</dd></dl>

<dl class="method">
<dt id="ceo.StopWatch.toc">
<code class="descname">toc</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.StopWatch.toc" title="Permalink to this definition">¶</a></dt>
<dd><p>Stops the stopwatch</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="cuda-array">
<h3>CUDA array<a class="headerlink" href="#cuda-array" title="Permalink to this headline">¶</a></h3>
<div class="section" id="cufloatarray">
<h4>cuFloatArray<a class="headerlink" href="#cufloatarray" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="ceo.cuFloatArray">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">cuFloatArray</code><a class="headerlink" href="#ceo.cuFloatArray" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to interact with a cuda float array</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>shape</strong> : tuple of int, optional</p>
<blockquote>
<div><p>Number of rows and colums; default: None</p>
</div></blockquote>
<p><strong>host_data</strong> : list or tuple or numpy array, optional</p>
<blockquote>
<div><p>Host data to copy to the device; default: None</p>
</div></blockquote>
<p><strong>dev_malloc</strong> : bool, optional</p>
<blockquote class="last">
<div><p>Flag to allocate memory on device; default: False</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="84%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>size</td>
<td>(int) The total number of element</td>
</tr>
<tr class="row-even"><td>shape</td>
<td>(tuple) The shape of the data array</td>
</tr>
<tr class="row-odd"><td>size</td>
<td>(float) The number of elements in the data array</td>
</tr>
<tr class="row-even"><td>host_data</td>
<td>(ndarray) The data on the host</td>
</tr>
<tr class="row-odd"><td>dev_malloc</td>
<td>(bool) True is memory has been allocated on the device</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">assign_ptr</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.cuFloatArray.host" title="ceo.cuFloatArray.host"><code class="xref py py-obj docutils literal"><span class="pre">host</span></code></a></td>
<td>Transfers data on the GPU device to the memory of the host</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">reset</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.cuFloatArray.host">
<code class="descname">host</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.cuFloatArray.host" title="Permalink to this definition">¶</a></dt>
<dd><p>Transfers data on the GPU device to the memory of the host</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>shape</strong> : tuple, optional</p>
<blockquote>
<div><p>The shape of the data array, default to None</p>
</div></blockquote>
<p><strong>units</strong> : string, optional</p>
<blockquote>
<div><p>The data converstion units: &#8220;&#8221;micron&#8221;&#8221;, &#8220;&#8221;nm&#8221;&#8221;, &#8220;&#8221;arcsec&#8221; and &#8220;&#8221;mas&#8221;&#8221;, default to None</p>
</div></blockquote>
<p><strong>zm</strong> : boolean, optional</p>
<blockquote>
<div><p>If True, the data mean is removed; default to False</p>
</div></blockquote>
<p><strong>mask</strong> : boolean</p>
<blockquote>
<div><p>If zm is True, the mean is computed for data values where the mask is True</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>numpy array</strong> : a copy of the device data on the host</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="cudoublearray">
<h4>cuDoubleArray<a class="headerlink" href="#cudoublearray" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="ceo.cuDoubleArray">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">cuDoubleArray</code><a class="headerlink" href="#ceo.cuDoubleArray" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to interact with a cuda double array</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>shape</strong> : tuple of int, optional</p>
<blockquote>
<div><p>Number of rows and colums; default: None</p>
</div></blockquote>
<p><strong>host_data</strong> : list or tuple or numpy array, optional</p>
<blockquote>
<div><p>Host data to copy to the device; default: None</p>
</div></blockquote>
<p><strong>dev_malloc</strong> : bool, optional</p>
<blockquote class="last">
<div><p>Flag to allocate memory on device; default: False</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="84%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>size</td>
<td>(int) The total number of element</td>
</tr>
<tr class="row-even"><td>shape</td>
<td>(tuple) The shape of the data array</td>
</tr>
<tr class="row-odd"><td>size</td>
<td>(float) The number of elements in the data array</td>
</tr>
<tr class="row-even"><td>host_data</td>
<td>(ndarray) The data on the host</td>
</tr>
<tr class="row-odd"><td>dev_malloc</td>
<td>(bool) True is memory has been allocated on the device</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">assign_ptr</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.cuDoubleArray.host" title="ceo.cuDoubleArray.host"><code class="xref py py-obj docutils literal"><span class="pre">host</span></code></a></td>
<td>Transfers data on the GPU device to the memory of the host</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">reset</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.cuDoubleArray.host">
<code class="descname">host</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.cuDoubleArray.host" title="Permalink to this definition">¶</a></dt>
<dd><p>Transfers data on the GPU device to the memory of the host</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>shape</strong> : tuple, optional</p>
<blockquote>
<div><p>The shape of the data array, default to None</p>
</div></blockquote>
<p><strong>units</strong> : string, optional</p>
<blockquote>
<div><p>The data converstion units: &#8220;&#8221;micron&#8221;&#8221;, &#8220;&#8221;nm&#8221;&#8221;, &#8220;&#8221;arcsec&#8221; and &#8220;&#8221;mas&#8221;&#8221;, default to None</p>
</div></blockquote>
<p><strong>zm</strong> : boolean, optional</p>
<blockquote>
<div><p>If True, the data mean is removed; default to False</p>
</div></blockquote>
<p><strong>mask</strong> : boolean</p>
<blockquote>
<div><p>If zm is True, the mean is computed for data values where the mask is True</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>numpy array</strong> : a copy of the device data on the host</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="cuintarray">
<h4>cuIntArray<a class="headerlink" href="#cuintarray" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="ceo.cuIntArray">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">cuIntArray</code><a class="headerlink" href="#ceo.cuIntArray" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to interact with a cuda integer array</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>shape</strong> : tuple of int, optional</p>
<blockquote>
<div><p>Number of rows and colums; default: None</p>
</div></blockquote>
<p><strong>host_data</strong> : list or tuple or numpy array, optional</p>
<blockquote>
<div><p>Host data to copy to the device; default: None</p>
</div></blockquote>
<p><strong>dev_malloc</strong> : bool, optional</p>
<blockquote class="last">
<div><p>Flag to allocate memory on device; default: False</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="84%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>size</td>
<td>(int) The total number of element</td>
</tr>
<tr class="row-even"><td>shape</td>
<td>(tuple) The shape of the data array</td>
</tr>
<tr class="row-odd"><td>size</td>
<td>(float) The number of elements in the data array</td>
</tr>
<tr class="row-even"><td>host_data</td>
<td>(ndarray) The data on the host</td>
</tr>
<tr class="row-odd"><td>dev_malloc</td>
<td>(bool) True is memory has been allocated on the device</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">assign_ptr</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.cuIntArray.host" title="ceo.cuIntArray.host"><code class="xref py py-obj docutils literal"><span class="pre">host</span></code></a></td>
<td>Transfers data on the GPU device to the memory of the host</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">reset</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.cuIntArray.host">
<code class="descname">host</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ceo.cuIntArray.host" title="Permalink to this definition">¶</a></dt>
<dd><p>Transfers data on the GPU device to the memory of the host</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>shape</strong> : tuple, optional</p>
<blockquote>
<div><p>The shape of the data array, default to None</p>
</div></blockquote>
<p><strong>units</strong> : string, optional</p>
<blockquote>
<div><p>The data converstion units: &#8220;&#8221;micron&#8221;&#8221;, &#8220;&#8221;nm&#8221;&#8221;, &#8220;&#8221;arcsec&#8221; and &#8220;&#8221;mas&#8221;&#8221;, default to None</p>
</div></blockquote>
<p><strong>zm</strong> : boolean, optional</p>
<blockquote>
<div><p>If True, the data mean is removed; default to False</p>
</div></blockquote>
<p><strong>mask</strong> : boolean</p>
<blockquote>
<div><p>If zm is True, the mean is computed for data values where the mask is True</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>numpy array</strong> : a copy of the device data on the host</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span>Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span>Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span>Search Page</span></a></li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Cuda Engined Optics</a><ul>
<li><a class="reference internal" href="#source">source</a><ul>
<li><a class="reference internal" href="#complex-amplitude">Complex_amplitude</a></li>
<li><a class="reference internal" href="#id1">Source</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gmtlib">GMTLIB</a><ul>
<li><a class="reference internal" href="#gmt-mx">GMT_MX</a></li>
<li><a class="reference internal" href="#idealsegmentpistonsensor">IdealSegmentPistonSensor</a></li>
</ul>
</li>
<li><a class="reference internal" href="#imaging">Imaging</a></li>
<li><a class="reference internal" href="#centroiding">Centroiding</a></li>
<li><a class="reference internal" href="#shackhartmann">ShackHartmann</a></li>
<li><a class="reference internal" href="#raytracing">rayTracing</a><ul>
<li><a class="reference internal" href="#coordinates">Coordinates</a></li>
<li><a class="reference internal" href="#coordinate-system">Coordinate_system</a></li>
<li><a class="reference internal" href="#bundle">Bundle</a></li>
<li><a class="reference internal" href="#zernikes">ZernikeS</a></li>
<li><a class="reference internal" href="#gmt-m1">GMT M1</a></li>
<li><a class="reference internal" href="#gmt-m2">GMT M2</a></li>
</ul>
</li>
<li><a class="reference internal" href="#segmentpistonsensor">SegmentPistonSensor</a></li>
<li><a class="reference internal" href="#utilities">utilities</a><ul>
<li><a class="reference internal" href="#mask">mask</a><ul>
<li><a class="reference internal" href="#maskabstract">MaskAbstract</a></li>
<li><a class="reference internal" href="#id4">Mask</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#telescope">Telescope</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#gmt">GMT</a><ul>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#stopwatch">StopWatch</a></li>
<li><a class="reference internal" href="#cuda-array">CUDA array</a><ul>
<li><a class="reference internal" href="#cufloatarray">cuFloatArray</a></li>
<li><a class="reference internal" href="#cudoublearray">cuDoubleArray</a></li>
<li><a class="reference internal" href="#cuintarray">cuIntArray</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">CEO 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, R. Conan.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>
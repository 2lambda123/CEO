<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Cuda Engined Optics &mdash; CEO 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="CEO 1.0 documentation" href="#" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">CEO 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="cuda-engined-optics">
<h1>Cuda Engined Optics<a class="headerlink" href="#cuda-engined-optics" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
<p>Cuda Engined Optics or CEO is a CUDA library for the modeling of Adaptive Optics (AO) systems in Astronomy.</p>
<p>CEO consists of a C++ API that hides most of the CUDA API. The CEO API can then be used to build AO simulations.</p>
<p>A CEO python interface has also been developed and is usually the preferred way to interact with CEO functionalities. This high level interface has been written with Cython to preserve speed.</p>
<p>All the code has been written following the literate programming methodology. This means that the code and the associated documentation are tangled together in a few source files. CEO relies on noweb to extract the code from the source files and to build the corresponding Latex documentation.</p>
<p>CEO can be downloaded from &lt;<a class="reference external" href="https://github.com/rconan/CEO">https://github.com/rconan/CEO</a>&gt;.
The C++ API is compiled with <cite>make all</cite>, the Python interface with <cite>make cython</cite> and the code documentation with <cite>make doc</cite>.</p>
<span class="target" id="module-ceo"></span><div class="section" id="atmosphere">
<h2>atmosphere<a class="headerlink" href="#atmosphere" title="Permalink to this headline">¶</a></h2>
<div class="section" id="atmosphereabstract">
<h3>AtmosphereAbstract<a class="headerlink" href="#atmosphereabstract" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.AtmosphereAbstract">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">AtmosphereAbstract</code><a class="headerlink" href="#ceo.AtmosphereAbstract" title="Permalink to this definition">¶</a></dt>
<dd><p>Atmosphere base class</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>r0</td>
<td>(number) The Fried parameter [m].</td>
</tr>
<tr class="row-even"><td>L0</td>
<td>(number) The outer scale of turbulence [m].</td>
</tr>
<tr class="row-odd"><td>N_LAYER</td>
<td>(int, optionnal) The number of atmospheric layers, default: 1.</td>
</tr>
<tr class="row-even"><td>altitude</td>
<td>(ndarray of floats, optionnal) The atmosphere layer altitudes [m], default: 0.0.</td>
</tr>
<tr class="row-odd"><td>xi0</td>
<td>(ndarray of floats, optionnal) The atmosphere layer weights 0&lt;=xi0&lt;=1, the sum must equal 1, default: 1.0.</td>
</tr>
<tr class="row-even"><td>wind_speed</td>
<td>(ndarray of floats, optionnal) The atmosphere layer wind speeds [m/s], default: 0.0.</td>
</tr>
<tr class="row-odd"><td>wind_direction</td>
<td>(ndarray of floats, optionnal) The atmosphere layer wind directions [rd], default: 0.0.</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.AtmosphereAbstract.get_phase_screen" title="ceo.AtmosphereAbstract.get_phase_screen"><code class="xref py py-obj docutils literal"><span class="pre">get_phase_screen</span></code></a>(self,&nbsp;Source&nbsp;src,&nbsp;...)</td>
<td>Computes the N_x$       imes$N_y phase screen of the source wavefront</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.AtmosphereAbstract.get_phase_screen_circ_centroids" title="ceo.AtmosphereAbstract.get_phase_screen_circ_centroids"><code class="xref py py-obj docutils literal"><span class="pre">get_phase_screen_circ_centroids</span></code></a>(self,&nbsp;...)</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.AtmosphereAbstract.get_phase_screen_circ_uplink_centroids" title="ceo.AtmosphereAbstract.get_phase_screen_circ_uplink_centroids"><code class="xref py py-obj docutils literal"><span class="pre">get_phase_screen_circ_uplink_centroids</span></code></a>(self,&nbsp;...)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.AtmosphereAbstract.get_phase_screen_gradient" title="ceo.AtmosphereAbstract.get_phase_screen_gradient"><code class="xref py py-obj docutils literal"><span class="pre">get_phase_screen_gradient</span></code></a>(self,&nbsp;...)</td>
<td>Computes the phase screen gradient of the source wavefront</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.AtmosphereAbstract.get_phase_screen_gradientSH" title="ceo.AtmosphereAbstract.get_phase_screen_gradientSH"><code class="xref py py-obj docutils literal"><span class="pre">get_phase_screen_gradientSH</span></code></a>(self,&nbsp;...)</td>
<td>Computes the phase screen gradient of the source wavefront</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.AtmosphereAbstract.get_phase_values" title="ceo.AtmosphereAbstract.get_phase_values"><code class="xref py py-obj docutils literal"><span class="pre">get_phase_values</span></code></a>(self,&nbsp;cuFloatArray&nbsp;x,&nbsp;...)</td>
<td>Computes the phase screen of the source wavefront</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.AtmosphereAbstract.phase_screen" title="ceo.AtmosphereAbstract.phase_screen"><code class="xref py py-obj docutils literal"><span class="pre">phase_screen</span></code></a>(self,&nbsp;Source&nbsp;src,&nbsp;float&nbsp;time)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.AtmosphereAbstract.ray_tracing" title="ceo.AtmosphereAbstract.ray_tracing"><code class="xref py py-obj docutils literal"><span class="pre">ray_tracing</span></code></a>(self,&nbsp;Source&nbsp;src,&nbsp;float&nbsp;delta_x,&nbsp;...)</td>
<td>Computes the N_x$       imes$N_y phase screen of the source wavefront</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.AtmosphereAbstract.ray_tracing_values" title="ceo.AtmosphereAbstract.ray_tracing_values"><code class="xref py py-obj docutils literal"><span class="pre">ray_tracing_values</span></code></a>(self,&nbsp;...)</td>
<td>Computes the phase screen of the source wavefront</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.AtmosphereAbstract.reset" title="ceo.AtmosphereAbstract.reset"><code class="xref py py-obj docutils literal"><span class="pre">reset</span></code></a>(self)</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.AtmosphereAbstract.save_layer_phasescreens" title="ceo.AtmosphereAbstract.save_layer_phasescreens"><code class="xref py py-obj docutils literal"><span class="pre">save_layer_phasescreens</span></code></a>(self,&nbsp;...)</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.AtmosphereAbstract.get_phase_screen">
<code class="descname">get_phase_screen</code><span class="sig-paren">(</span><em>self</em>, <em>Source src</em>, <em>float delta_x</em>, <em>int N_x</em>, <em>float delta_y</em>, <em>int N_y</em>, <em>float time</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.AtmosphereAbstract.get_phase_screen" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the N_x$       imes$N_y phase screen of the source wavefront</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>src: Source object</strong></p>
<blockquote>
<div><p>The light source</p>
</div></blockquote>
<p><strong>delta_x: float</strong></p>
<blockquote>
<div><p>X-axis spacing</p>
</div></blockquote>
<p><strong>N_x: int</strong></p>
<blockquote>
<div><p>X-axis sampling</p>
</div></blockquote>
<p><strong>delta_y: float</strong></p>
<blockquote>
<div><p>Y-axis spacing</p>
</div></blockquote>
<p><strong>N_y: int</strong></p>
<blockquote>
<div><p>Y-axis sampling</p>
</div></blockquote>
<p><strong>time: float</strong></p>
<blockquote class="last">
<div><p>The time of the atmosphere snapshot since the beginning of the simulation</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.AtmosphereAbstract.get_phase_screen_circ_centroids">
<code class="descname">get_phase_screen_circ_centroids</code><span class="sig-paren">(</span><em>self</em>, <em>Centroiding cog</em>, <em>float R</em>, <em>Source src</em>, <em>int N_SRC</em>, <em>float time</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.AtmosphereAbstract.get_phase_screen_circ_centroids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ceo.AtmosphereAbstract.get_phase_screen_circ_uplink_centroids">
<code class="descname">get_phase_screen_circ_uplink_centroids</code><span class="sig-paren">(</span><em>self</em>, <em>Centroiding cog</em>, <em>float R</em>, <em>Source src</em>, <em>int N_SRC</em>, <em>float time</em>, <em>char focused</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.AtmosphereAbstract.get_phase_screen_circ_uplink_centroids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ceo.AtmosphereAbstract.get_phase_screen_gradient">
<code class="descname">get_phase_screen_gradient</code><span class="sig-paren">(</span><em>self</em>, <em>Centroiding cog</em>, <em>int NL</em>, <em>float d</em>, <em>Source src</em>, <em>float time</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.AtmosphereAbstract.get_phase_screen_gradient" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the phase screen gradient of the source wavefront</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>cog: Centroiding object</strong></p>
<blockquote>
<div><p>The centroids container object.</p>
</div></blockquote>
<p><strong>NL: int</strong></p>
<blockquote>
<div><p>The size of the square lenslet array.</p>
</div></blockquote>
<p><strong>d: float</strong></p>
<blockquote>
<div><p>The lenslet array pitch.</p>
</div></blockquote>
<p><strong>src: Source object</strong></p>
<blockquote>
<div><p>The light source.</p>
</div></blockquote>
<p><strong>time: float</strong></p>
<blockquote class="last">
<div><p>The time of the atmosphere snapshot since the beginning of the simulation</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.AtmosphereAbstract.get_phase_screen_gradientSH">
<code class="descname">get_phase_screen_gradientSH</code><span class="sig-paren">(</span><em>self</em>, <em>ShackHartmann wfs</em>, <em>int NL</em>, <em>float d</em>, <em>Source src</em>, <em>float time</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.AtmosphereAbstract.get_phase_screen_gradientSH" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the phase screen gradient of the source wavefront</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>cog: Centroiding object</strong></p>
<blockquote>
<div><p>The centroids container object.</p>
</div></blockquote>
<p><strong>NL: int</strong></p>
<blockquote>
<div><p>The size of the square lenslet array.</p>
</div></blockquote>
<p><strong>d: float</strong></p>
<blockquote>
<div><p>The lenslet array pitch.</p>
</div></blockquote>
<p><strong>src: Source object</strong></p>
<blockquote>
<div><p>The light source.</p>
</div></blockquote>
<p><strong>time: float</strong></p>
<blockquote class="last">
<div><p>The time of the atmosphere snapshot since the beginning of the simulation</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.AtmosphereAbstract.get_phase_values">
<code class="descname">get_phase_values</code><span class="sig-paren">(</span><em>self</em>, <em>cuFloatArray x</em>, <em>cuFloatArray y</em>, <em>Source src</em>, <em>float time</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.AtmosphereAbstract.get_phase_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the phase screen of the source wavefront</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>x: cuFloatArray</strong></p>
<blockquote>
<div><p>X coordinates of the phase screen samples.</p>
</div></blockquote>
<p><strong>y: cuFloatArray</strong></p>
<blockquote>
<div><p>Y coordinates of the phase screen samples.</p>
</div></blockquote>
<p><strong>src: Source object</strong></p>
<blockquote>
<div><p>The light source.</p>
</div></blockquote>
<p><strong>time: float</strong></p>
<blockquote class="last">
<div><p>The time of the atmosphere snapshot since the beginning of the simulation.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.AtmosphereAbstract.phase_screen">
<code class="descname">phase_screen</code><span class="sig-paren">(</span><em>self</em>, <em>Source src</em>, <em>float time</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.AtmosphereAbstract.phase_screen" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ceo.AtmosphereAbstract.ray_tracing">
<code class="descname">ray_tracing</code><span class="sig-paren">(</span><em>self</em>, <em>Source src</em>, <em>float delta_x</em>, <em>int N_X</em>, <em>float delta_y</em>, <em>int N_Y</em>, <em>float tau</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.AtmosphereAbstract.ray_tracing" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the N_x$       imes$N_y phase screen of the source wavefront</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>src: Source object</strong></p>
<blockquote>
<div><p>The light source</p>
</div></blockquote>
<p><strong>delta_x: float</strong></p>
<blockquote>
<div><p>X-axis spacing</p>
</div></blockquote>
<p><strong>N_x: int</strong></p>
<blockquote>
<div><p>X-axis sampling</p>
</div></blockquote>
<p><strong>delta_y: float</strong></p>
<blockquote>
<div><p>Y-axis spacing</p>
</div></blockquote>
<p><strong>N_y: int</strong></p>
<blockquote>
<div><p>Y-axis sampling</p>
</div></blockquote>
<p><strong>time: float</strong></p>
<blockquote class="last">
<div><p>The time of the atmosphere snapshot since the beginning of the simulation</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.AtmosphereAbstract.ray_tracing_values">
<code class="descname">ray_tracing_values</code><span class="sig-paren">(</span><em>self</em>, <em>cuFloatArray x_PUPIL</em>, <em>cuFloatArray y_PUPIL</em>, <em>int NXY_PUPIL</em>, <em>Source src</em>, <em>float tau</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.AtmosphereAbstract.ray_tracing_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the phase screen of the source wavefront</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>x: cuFloatArray</strong></p>
<blockquote>
<div><p>X coordinates of the phase screen samples.</p>
</div></blockquote>
<p><strong>y: cuFloatArray</strong></p>
<blockquote>
<div><p>Y coordinates of the phase screen samples.</p>
</div></blockquote>
<p><strong>src: Source object</strong></p>
<blockquote>
<div><p>The light source.</p>
</div></blockquote>
<p><strong>time: float</strong></p>
<blockquote class="last">
<div><p>The time of the atmosphere snapshot since the beginning of the simulation.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.AtmosphereAbstract.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.AtmosphereAbstract.reset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ceo.AtmosphereAbstract.save_layer_phasescreens">
<code class="descname">save_layer_phasescreens</code><span class="sig-paren">(</span><em>self</em>, <em>bytes filename</em>, <em>int N_DURATION</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.AtmosphereAbstract.save_layer_phasescreens" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="id1">
<h3>Atmosphere<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.Atmosphere">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">Atmosphere</code><a class="headerlink" href="#ceo.Atmosphere" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an atmosphere</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>r0</strong> : number</p>
<blockquote>
<div><p>The Fried parameter [m].</p>
</div></blockquote>
<p><strong>L0</strong> : number</p>
<blockquote>
<div><p>The outer scale of turbulence [m].</p>
</div></blockquote>
<p><strong>N_LAYER</strong> : int, optionnal</p>
<blockquote>
<div><p>The number of atmospheric layers, default: 1.</p>
</div></blockquote>
<p><strong>altitude</strong> : ndarray of floats, optionnal</p>
<blockquote>
<div><p>The atmosphere layer altitudes [m], default: 0.0.</p>
</div></blockquote>
<p><strong>xi0</strong> : ndarray of floats, optionnal</p>
<blockquote>
<div><p>The atmosphere layer weights 0&lt;=xi0&lt;=1, the sum must equal 1, default: 1.0.</p>
</div></blockquote>
<p><strong>wind_speed</strong> : ndarray of floats, optionnal</p>
<blockquote>
<div><p>The atmosphere layer wind speeds [m/s], default: 0.0.</p>
</div></blockquote>
<p><strong>wind_direction</strong> : ndarray of floats, optionnal</p>
<blockquote>
<div><p>The atmosphere layer wind directions [rd], default: 0.0.</p>
</div></blockquote>
<p><strong>L</strong> : float, optionnal</p>
<blockquote>
<div><p>The size of the square phase screen at an altitude of 0km [m], default: 0.0.</p>
</div></blockquote>
<p><strong>NXY_PUPIL</strong> : int, optionnal</p>
<blockquote>
<div><p>The sampling of the square phase screen at an altitude of 0km [px], default: 0.</p>
</div></blockquote>
<p><strong>fov</strong> : float, optionnal</p>
<blockquote>
<div><p>The field of view [rd], default: 0.0.</p>
</div></blockquote>
<p><strong>duration</strong> : float, optionnal</p>
<blockquote>
<div><p>The time length of the phase screens [s], default: 1.0.</p>
</div></blockquote>
<p><strong>filename</strong> : bytes, optionnal</p>
<blockquote>
<div><p>The name of the file to save the phase screens of the layers to, default: None.</p>
</div></blockquote>
<p><strong>N_DURATION</strong> : int, optionnal</p>
<blockquote class="last">
<div><p>The number of phase screens of time length duration, default: 1.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.AtmosphereAbstract" title="ceo.AtmosphereAbstract"><code class="xref py py-obj docutils literal"><span class="pre">AtmosphereAbstract</span></code></a></dt>
<dd>the Atmosphere base class</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ceo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span>   <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">2.5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">12</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">*</span><span class="mf">1e3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xi0</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.3</span><span class="p">,</span><span class="mf">0.15</span><span class="p">,</span><span class="mf">0.25</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.05</span><span class="p">,</span><span class="mf">0.05</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vs</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vo</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
</pre></div>
</div>
<p>An atmosphere with r0=15cm and L0=30m is created with</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">atm</span> <span class="o">=</span> <span class="n">Atmosphere</span><span class="p">(</span><span class="mf">15e-2</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="n">h</span><span class="p">,</span><span class="n">xi0</span><span class="p">,</span><span class="n">vs</span><span class="p">,</span><span class="n">vo</span><span class="p">)</span>
</pre></div>
</div>
<p>A 25m square phase screen sampled with 401 pixels across is computed a t=0s with</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="mf">25.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">N</span> <span class="o">=</span> <span class="mi">401</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">delta</span> <span class="o">=</span> <span class="n">L</span><span class="o">/</span><span class="p">(</span><span class="n">N</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">src</span> <span class="o">=</span><span class="n">ceo</span><span class="o">.</span><span class="n">Source</span><span class="p">(</span><span class="s1">&#39;R&#39;</span><span class="p">,</span><span class="n">resolution</span><span class="o">=</span><span class="p">(</span><span class="n">N</span><span class="p">,</span><span class="n">N</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atm</span><span class="o">.</span><span class="n">get_phase_screen</span><span class="p">(</span><span class="n">src</span><span class="p">,</span><span class="n">delta</span><span class="p">,</span><span class="n">N</span><span class="p">,</span><span class="n">delta</span><span class="p">,</span><span class="n">N</span><span class="p">,</span><span class="mf">0.0</span><span class="p">)</span>
</pre></div>
</div>
<p>The phase screen can be computed faster by precomputing the phase screen in the layers of the atmosphere:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">atm</span> <span class="o">=</span> <span class="n">Atmosphere</span><span class="p">(</span><span class="mf">15e-2</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="n">h</span><span class="p">,</span><span class="n">xi0</span><span class="p">,</span><span class="n">vs</span><span class="p">,</span><span class="n">vo</span><span class="p">,</span><span class="n">L</span><span class="o">=</span><span class="n">L</span><span class="p">,</span><span class="n">NXY_PUPIL</span><span class="o">=</span><span class="n">N</span><span class="p">,</span><span class="n">fov</span><span class="o">=</span><span class="mf">1.0</span><span class="o">*</span><span class="n">ceo</span><span class="o">.</span><span class="n">constants</span><span class="o">.</span><span class="n">ARCMIN2RAD</span><span class="p">,</span><span class="n">duration</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
</pre></div>
</div>
<p>The phase screens are computed for a 1 arc minute field-of-view and for 1s, meaning that a source can be propagated
anywhere within this field-of-view and for anytime between 0 and 1s; the fast ray tracing through the precomputed
layers is called with</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">atm</span><span class="o">.</span><span class="n">ray_tracing</span><span class="p">(</span><span class="n">src</span><span class="p">,</span><span class="n">delta</span><span class="p">,</span><span class="n">N</span><span class="p">,</span><span class="n">delta</span><span class="p">,</span><span class="n">N</span><span class="p">,</span><span class="mf">0.0</span><span class="p">)</span>
</pre></div>
</div>
<p>The precomputed phase screens can be saved to a file by passing the filename to the atmosphere constructor</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">atm</span> <span class="o">=</span> <span class="n">Atmosphere</span><span class="p">(</span><span class="mf">15e-2</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="n">h</span><span class="p">,</span><span class="n">xi0</span><span class="p">,</span><span class="n">vs</span><span class="p">,</span><span class="n">vo</span><span class="p">,</span><span class="n">L</span><span class="o">=</span><span class="n">L</span><span class="p">,</span><span class="n">NXY_PUPIL</span><span class="o">=</span><span class="n">N</span><span class="p">,</span><span class="n">fov</span><span class="o">=</span><span class="mf">1.0</span><span class="o">*</span><span class="n">ceo</span><span class="o">.</span><span class="n">constants</span><span class="o">.</span><span class="n">ARCMIN2RAD</span><span class="p">,</span><span class="n">duration</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
<span class="go">                     filename=&quot;myWondrousAtmosphere.bin&quot;)</span>
</pre></div>
</div>
<p>If the file already exists the constructor will attempt to load it.</p>
<p>The phase screens are loaded into the device memory, so duration must be chosen with care to not overflow the device memory.
For longer time sequence of N_DURATIONxduration time length, the full sequence of phase screens is loaded into the device memory.
ray_tracing will copy the appropriate time sequence of duration time length from the host to the device based of the time parameters.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">atm</span> <span class="o">=</span> <span class="n">Atmosphere</span><span class="p">(</span><span class="mf">15e-2</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="n">h</span><span class="p">,</span><span class="n">xi0</span><span class="p">,</span><span class="n">vs</span><span class="p">,</span><span class="n">vo</span><span class="p">,</span><span class="n">L</span><span class="o">=</span><span class="n">L</span><span class="p">,</span><span class="n">NXY_PUPIL</span><span class="o">=</span><span class="n">N</span><span class="p">,</span><span class="n">fov</span><span class="o">=</span><span class="mf">1.0</span><span class="o">*</span><span class="n">ceo</span><span class="o">.</span><span class="n">constants</span><span class="o">.</span><span class="n">ARCMIN2RAD</span><span class="p">,</span><span class="n">duration</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>
<span class="go">                     filename=&quot;myWondrousAtmosphere.bin&quot;,N_DURATION=10)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atm</span><span class="o">.</span><span class="n">ray_tracing</span><span class="p">(</span><span class="n">src</span><span class="p">,</span><span class="n">delta</span><span class="p">,</span><span class="n">N</span><span class="p">,</span><span class="n">delta</span><span class="p">,</span><span class="n">N</span><span class="p">,</span><span class="mf">8.88</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">L0</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">N_LAYER</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">altitude</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">layers</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">r0</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">wind_direction</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">wind_speed</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">xi0</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_phase_screen</span></code>(self,&nbsp;Source&nbsp;src,&nbsp;...)</td>
<td>Computes the N_x$       imes$N_y phase screen of the source wavefront</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">get_phase_screen_circ_centroids</span></code>(self,&nbsp;...)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_phase_screen_circ_uplink_centroids</span></code>(self,&nbsp;...)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">get_phase_screen_gradient</span></code>(self,&nbsp;...)</td>
<td>Computes the phase screen gradient of the source wavefront</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_phase_screen_gradientSH</span></code>(self,&nbsp;...)</td>
<td>Computes the phase screen gradient of the source wavefront</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">get_phase_values</span></code>(self,&nbsp;cuFloatArray&nbsp;x,&nbsp;...)</td>
<td>Computes the phase screen of the source wavefront</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">phase_screen</span></code>(self,&nbsp;Source&nbsp;src,&nbsp;float&nbsp;time)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">ray_tracing</span></code>(self,&nbsp;Source&nbsp;src,&nbsp;float&nbsp;delta_x,&nbsp;...)</td>
<td>Computes the N_x$       imes$N_y phase screen of the source wavefront</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">ray_tracing_values</span></code>(self,&nbsp;...)</td>
<td>Computes the phase screen of the source wavefront</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">reset</span></code>(self)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">save_layer_phasescreens</span></code>(self,&nbsp;...)</td>
<td></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="gmtatmosphere">
<h3>GmtAtmosphere<a class="headerlink" href="#gmtatmosphere" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.GmtAtmosphere">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">GmtAtmosphere</code><a class="headerlink" href="#ceo.GmtAtmosphere" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an atmosphere with the GMT default Cn2 and wind vector profiles</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>r0</strong> : number</p>
<blockquote>
<div><p>The Fried parameter [m].</p>
</div></blockquote>
<p><strong>L0</strong> : number</p>
<blockquote>
<div><p>The outer scale of turbulence [m].</p>
</div></blockquote>
<p><strong>L</strong> : float, optionnal</p>
<blockquote>
<div><p>The size of the square phase screen at an altitude of 0km [m], default: 0.0.</p>
</div></blockquote>
<p><strong>NXY_PUPIL</strong> : int, optionnal</p>
<blockquote>
<div><p>The sampling of the square phase screen at an altitude of 0km [px], default: 0.</p>
</div></blockquote>
<p><strong>fov</strong> : float, optionnal</p>
<blockquote>
<div><p>The field of view [rd], default: 0.0.</p>
</div></blockquote>
<p><strong>duration</strong> : float, optionnal</p>
<blockquote>
<div><p>The time length of the phase screens [s], default: 1.0.</p>
</div></blockquote>
<p><strong>filename</strong> : bytes, optionnal</p>
<blockquote>
<div><p>The name of the file to save the phase screens of the layers to, default: None.</p>
</div></blockquote>
<p><strong>N_DURATION</strong> : int, optionnal</p>
<blockquote>
<div><p>The number of phase screens of time length duration, default: 1.</p>
</div></blockquote>
<p><strong>SEED</strong> : int, optional</p>
<blockquote>
<div><p>The seed of the random generator, default: 2016.</p>
</div></blockquote>
<p><strong>ID</strong> : int, optional</p>
<blockquote class="last">
<div><p>The ID number of the GMT atmosphere model, default: 1.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.AtmosphereAbstract" title="ceo.AtmosphereAbstract"><code class="xref py py-obj docutils literal"><span class="pre">AtmosphereAbstract</span></code></a></dt>
<dd>the Atmosphere base class</dd>
<dt><a class="reference internal" href="#ceo.Atmosphere" title="ceo.Atmosphere"><code class="xref py py-obj docutils literal"><span class="pre">Atmosphere</span></code></a></dt>
<dd>the generic atmosphere class</dd>
</dl>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">L0</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">N_LAYER</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">altitude</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">layers</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">r0</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">wind_direction</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">wind_speed</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">xi0</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_phase_screen</span></code>(self,&nbsp;Source&nbsp;src,&nbsp;...)</td>
<td>Computes the N_x$       imes$N_y phase screen of the source wavefront</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">get_phase_screen_circ_centroids</span></code>(self,&nbsp;...)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_phase_screen_circ_uplink_centroids</span></code>(self,&nbsp;...)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">get_phase_screen_gradient</span></code>(self,&nbsp;...)</td>
<td>Computes the phase screen gradient of the source wavefront</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_phase_screen_gradientSH</span></code>(self,&nbsp;...)</td>
<td>Computes the phase screen gradient of the source wavefront</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">get_phase_values</span></code>(self,&nbsp;cuFloatArray&nbsp;x,&nbsp;...)</td>
<td>Computes the phase screen of the source wavefront</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">phase_screen</span></code>(self,&nbsp;Source&nbsp;src,&nbsp;float&nbsp;time)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">ray_tracing</span></code>(self,&nbsp;Source&nbsp;src,&nbsp;float&nbsp;delta_x,&nbsp;...)</td>
<td>Computes the N_x$       imes$N_y phase screen of the source wavefront</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">ray_tracing_values</span></code>(self,&nbsp;...)</td>
<td>Computes the phase screen of the source wavefront</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">reset</span></code>(self)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">save_layer_phasescreens</span></code>(self,&nbsp;...)</td>
<td></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="layer">
<h3>Layer<a class="headerlink" href="#layer" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.Layer">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">Layer</code><a class="headerlink" href="#ceo.Layer" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">LENGTH</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">N_LENGTH</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">N_WIDTH</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">WIDTH</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">phase_screen</span></code></td>
<td></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="source">
<h2>source<a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<div class="section" id="bundle">
<h3>Bundle<a class="headerlink" href="#bundle" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.Bundle">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">Bundle</code><a class="headerlink" href="#ceo.Bundle" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to represent a bundle of rays</p>
<p>This class is usually instanciated by the Source class</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>src</strong> : Source</p>
<blockquote class="last">
<div><p>The Source object that contains the pointer to CEO bundle structure</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.Bundle.sphere_radius" title="ceo.Bundle.sphere_radius"><code class="xref py py-obj docutils literal"><span class="pre">sphere_radius</span></code></a></td>
<td>sphere_radius: ceo.utilities.cuDoubleArray</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.Bundle.sphere_distance" title="ceo.Bundle.sphere_distance"><code class="xref py py-obj docutils literal"><span class="pre">sphere_distance</span></code></a></td>
<td>sphere_distance: ceo.utilities.cuDoubleArray</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="79%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>N_BUNDLE</td>
<td>(int, read only) The number of ray bundle</td>
</tr>
<tr class="row-even"><td>coordinates</td>
<td>(cuDoubleArray, read only) The coordinate vectors of the rays as a (N_RAYxN_BUNDLE)x3 array</td>
</tr>
<tr class="row-odd"><td>chief_coordinates</td>
<td>(cuDoubleArray, read only) The coordinate vector of the chief ray</td>
</tr>
<tr class="row-even"><td>directions</td>
<td>(cuDoubleArray, read only) The direction vectors of the rays as a (N_RAYxN_BUNDLE)x3 array</td>
</tr>
<tr class="row-odd"><td>chief_directions</td>
<td>(cuDoubleArray, read only) The direction vector of the chief ray</td>
</tr>
<tr class="row-even"><td>optical_path_length</td>
<td>(cuDoubleArray, read only) The optical path lengths of the rays as a N_BUNDLExN_RAY array</td>
</tr>
<tr class="row-odd"><td>chief_optical_path_length</td>
<td>(cuDoubleArray, read only) The optical path length  of the chief ray</td>
</tr>
<tr class="row-even"><td>optical_path_difference</td>
<td>(cuDoubleArray, read only) The optical path differences of the rays as a N_BUNDLExN_RAY array</td>
</tr>
<tr class="row-odd"><td>vignetting</td>
<td>(cuDoubleArray, read only) The vignetting flag of the rays as a N_BUNDLExN_RAY array</td>
</tr>
<tr class="row-even"><td>piston_mask</td>
<td>(numpy ndarray) A 7 columns array where each column is a mask corresponding to 1 segment</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.Bundle.ee80" title="ceo.Bundle.ee80"><code class="xref py py-obj docutils literal"><span class="pre">ee80</span></code></a>(self[,&nbsp;spaxel])</td>
<td>Computes the size of the geometric EE80 square</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.Bundle.get_optical_path_difference" title="ceo.Bundle.get_optical_path_difference"><code class="xref py py-obj docutils literal"><span class="pre">get_optical_path_difference</span></code></a>(self,&nbsp;...)</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.Bundle.to_focal_plane" title="ceo.Bundle.to_focal_plane"><code class="xref py py-obj docutils literal"><span class="pre">to_focal_plane</span></code></a>(self,&nbsp;rtd&nbsp;focal_plane_distance)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.Bundle.to_sphere" title="ceo.Bundle.to_sphere"><code class="xref py py-obj docutils literal"><span class="pre">to_sphere</span></code></a>(self[,&nbsp;sphere_origin])</td>
<td>Computes the optical path difference with respect to the reference sphere</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.Bundle.to_z_plane" title="ceo.Bundle.to_z_plane"><code class="xref py py-obj docutils literal"><span class="pre">to_z_plane</span></code></a>(self,&nbsp;rtd&nbsp;z_plane)</td>
<td>Propagates the rays to a given plane</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.Bundle.ee80">
<code class="descname">ee80</code><span class="sig-paren">(</span><em>self</em>, <em>spaxel='circle'</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Bundle.ee80" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the size of the geometric EE80 square</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>spaxel</strong> : char, optional</p>
<blockquote>
<div><p>The spaxel geometry, square or circle; default: circle</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">float</p>
<blockquote class="last">
<div><p>The size of the geometric EE80 square in radian</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.Bundle.get_optical_path_difference">
<code class="descname">get_optical_path_difference</code><span class="sig-paren">(</span><em>self</em>, <em>float delta_x</em>, <em>int N_x</em>, <em>float delta_y</em>, <em>int N_y</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Bundle.get_optical_path_difference" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="ceo.Bundle.sphere_distance">
<code class="descname">sphere_distance</code><a class="headerlink" href="#ceo.Bundle.sphere_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>sphere_distance: ceo.utilities.cuDoubleArray</p>
</dd></dl>

<dl class="attribute">
<dt id="ceo.Bundle.sphere_radius">
<code class="descname">sphere_radius</code><a class="headerlink" href="#ceo.Bundle.sphere_radius" title="Permalink to this definition">¶</a></dt>
<dd><p>sphere_radius: ceo.utilities.cuDoubleArray</p>
</dd></dl>

<dl class="method">
<dt id="ceo.Bundle.to_focal_plane">
<code class="descname">to_focal_plane</code><span class="sig-paren">(</span><em>self</em>, <em>rtd focal_plane_distance</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Bundle.to_focal_plane" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ceo.Bundle.to_sphere">
<code class="descname">to_sphere</code><span class="sig-paren">(</span><em>self</em>, <em>sphere_origin=None</em>, <em>rtd focal_plane_distance=0.0</em>, <em>rtd focal_plane_radius=0.0</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Bundle.to_sphere" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the optical path difference with respect to the reference sphere</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>sphere_origin</strong> : list of double, optional</p>
<blockquote>
<div><p>A 3 elements list containing the x,y and z coordinates of the sphere center; default: None</p>
</div></blockquote>
<p><strong>focal_plane_distance</strong> : double, optional</p>
<blockquote>
<div><p>The location of the focal plane on the optical axis; default: 0.0</p>
</div></blockquote>
<p><strong>focal_plane_radius</strong> : double, optional</p>
<blockquote class="last">
<div><p>The radius of curvature of the focal plane; default: 0.0</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.Bundle.to_z_plane">
<code class="descname">to_z_plane</code><span class="sig-paren">(</span><em>self</em>, <em>rtd z_plane</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Bundle.to_z_plane" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagates the rays to a given plane</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>z_plane</strong> : double</p>
<blockquote class="last">
<div><p>The z coordinates of the plane</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="complex-amplitude">
<h3>Complex_amplitude<a class="headerlink" href="#complex-amplitude" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.Complex_amplitude">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">Complex_amplitude</code><a class="headerlink" href="#ceo.Complex_amplitude" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to represent a wavefront complex amplitude</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>Source</strong> : Source</p>
<blockquote class="last">
<div><p>a CEO Source object</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Source" title="ceo.Source"><code class="xref py py-obj docutils literal"><span class="pre">Source</span></code></a></dt>
<dd>a class for astronomical sources</dd>
</dl>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>phase</td>
<td>(float) The complex amplitude angle</td>
</tr>
<tr class="row-even"><td>amplitude</td>
<td>(float, read only) the complex amplitude magnitude</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.Complex_amplitude.reset" title="ceo.Complex_amplitude.reset"><code class="xref py py-obj docutils literal"><span class="pre">reset</span></code></a>(self,&nbsp;cuFloatArray&nbsp;phase=None,&nbsp;...)</td>
<td>Reset the wavefront amplitude to 1 and phase to 0 or to the given phase</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.Complex_amplitude.rms" title="ceo.Complex_amplitude.rms"><code class="xref py py-obj docutils literal"><span class="pre">rms</span></code></a>(self,&nbsp;int&nbsp;units_exponent=0)</td>
<td>Computes the rms of the wavefront phase</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.Complex_amplitude.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><em>self</em>, <em>cuFloatArray phase=None</em>, <em>Complex_amplitude wavefront=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Complex_amplitude.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the wavefront amplitude to 1 and phase to 0 or to the given phase</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>phase</strong> : cuFloatArray, optional</p>
<blockquote class="last">
<div><p>The GPU array the wavefront phase is reset to; default to None</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.cuFloatArray" title="ceo.cuFloatArray"><code class="xref py py-obj docutils literal"><span class="pre">cuFloatArray</span></code></a></dt>
<dd>a class for GPU host and device float data</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="ceo.Complex_amplitude.rms">
<code class="descname">rms</code><span class="sig-paren">(</span><em>self</em>, <em>int units_exponent=0</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Complex_amplitude.rms" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the rms of the wavefront phase</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>units_exponent: int, optional</strong></p>
<blockquote>
<div><p>3 for km, 0 for meter, -2 for cm, -3 for mm, -6 for micron, -9 for nm, etc; default: 0</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">float</p>
<blockquote class="last">
<div><p>the wavefront phase rms</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="id2">
<h3>Source<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.Source">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">Source</code><a class="headerlink" href="#ceo.Source" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to represent an astronomical source</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>photometric_band</strong> : char</p>
<blockquote>
<div><p>The sources photometric band</p>
</div></blockquote>
<p><strong>zenith</strong> : list, tuple or numpy array, optional</p>
<blockquote>
<div><p>The sources zenith angles [rd], defaults to 0.</p>
</div></blockquote>
<p><strong>azimuth</strong> :  list, tuple or numpy array, optional</p>
<blockquote>
<div><p>The sources azimuth angles [rd], defaults to 0.</p>
</div></blockquote>
<p><strong>height</strong> : float, optional</p>
<blockquote>
<div><p>The sources altitude [m], defaults to infinity.</p>
</div></blockquote>
<p><strong>resolution</strong> : tuple</p>
<blockquote>
<div><p>A 2 element tuple with the sampling [n,m] in pixel of the source wavefront complex amplitude.</p>
</div></blockquote>
<p><strong>fwhm</strong> : float, optional</p>
<blockquote>
<div><p>The fwhm of the source intensity distribution in detector pixel unit (before binning), defaults to None.</p>
</div></blockquote>
<p><strong>rays_box_size</strong> : float, optional</p>
<blockquote>
<div><p>The size of the ray bundle [m], defaults to None.</p>
</div></blockquote>
<p><strong>rays_box_sampling</strong> : int, optional</p>
<blockquote>
<div><p>The linear sampling of the ray bundle</p>
</div></blockquote>
<p><strong>rays_origin</strong> : list, optional</p>
<blockquote class="last">
<div><p>A 3 element list, with the first 2 being the (x,y) origin of the ray bundle and the 3rd the ray bundle starting z coordinates</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">math</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ceo</span>
</pre></div>
</div>
<p>An on-axis source in K band is simply defined with:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">src</span> <span class="o">=</span> <span class="n">Source</span><span class="p">(</span><span class="s2">&quot;K&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The resolution of the source wavefront is specifed with</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="mi">256</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">src</span> <span class="o">=</span> <span class="n">Source</span><span class="p">(</span><span class="s2">&quot;K&quot;</span><span class="p">,</span><span class="n">resolution</span><span class="o">=</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">n</span><span class="p">))</span>
</pre></div>
</div>
<p>For a 20&#8221; off-axis and 10th magnitude source, zenith and azimuth are set with</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">src</span> <span class="o">=</span> <span class="n">Source</span><span class="p">(</span><span class="s2">&quot;K&quot;</span><span class="p">,</span><span class="n">zenith</span><span class="o">=</span><span class="mi">20</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">180</span><span class="o">/</span><span class="mi">3600</span><span class="p">,</span><span class="n">azimuth</span><span class="o">=</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span><span class="n">resolution</span><span class="o">=</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">n</span><span class="p">),</span><span class="n">magnitude</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p>A Laser guide star constellation of 6 sources is defined with</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">zen</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">*</span><span class="mi">30</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">180</span><span class="o">/</span><span class="mi">3600</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">azi</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lgs</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">Source</span><span class="p">(</span><span class="s2">&quot;R&quot;</span><span class="p">,</span><span class="n">zenith</span><span class="o">=</span><span class="n">zen</span><span class="p">,</span><span class="n">azimuth</span><span class="o">=</span><span class="n">azi</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mf">90e3</span><span class="p">,</span><span class="n">resolution</span><span class="o">=</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">n</span><span class="p">))</span>
</pre></div>
</div>
<p>If the source is to be used for ray tracing through an optical model like the GMT, then</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lgs</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">Source</span><span class="p">(</span><span class="s2">&quot;R&quot;</span><span class="p">,</span><span class="n">zenith</span><span class="o">=</span><span class="n">zen</span><span class="p">,</span><span class="n">azimuth</span><span class="o">=</span><span class="n">azi</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mf">90e3</span><span class="p">,</span>
<span class="go">                    rays_box_size=25.5, rays_box_sampling=n, rays_origin=[0,0,25])</span>
</pre></div>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="79%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>n</td>
<td>(int) wavefront resolution</td>
</tr>
<tr class="row-even"><td>m</td>
<td>(int) wavefront resolution</td>
</tr>
<tr class="row-odd"><td>size</td>
<td>(int) number of sources</td>
</tr>
<tr class="row-even"><td>zenith</td>
<td>(ndarray) zenith angle</td>
</tr>
<tr class="row-odd"><td>azimuth</td>
<td>(ndarray) azimuth angle</td>
</tr>
<tr class="row-even"><td>height</td>
<td>(float) source height</td>
</tr>
<tr class="row-odd"><td>ray</td>
<td>(Bundle) geometric ray bundle</td>
</tr>
<tr class="row-even"><td>phase</td>
<td>(cuFloatArray) wavefront phase</td>
</tr>
<tr class="row-odd"><td>wavelength</td>
<td>(float, read only) the wavelength of the source</td>
</tr>
<tr class="row-even"><td>spectral_bandwidth</td>
<td>(float, read only) the spectral bandwidth associated to the source</td>
</tr>
<tr class="row-odd"><td>nPhoton</td>
<td>(float, read only) number of photon [m^-2.s^-1]</td>
</tr>
<tr class="row-even"><td>magnitude</td>
<td>(float, write only) star magnitude</td>
</tr>
<tr class="row-odd"><td>wavefront</td>
<td>(Complex_amplitude) the wavefront complex amplitude</td>
</tr>
<tr class="row-even"><td>sphere_distance</td>
<td>(float) the distance to the reference sphere used to compute the OPD</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.Source.masked" title="ceo.Source.masked"><code class="xref py py-obj docutils literal"><span class="pre">masked</span></code></a>(self,&nbsp;MaskAbstract&nbsp;tel)</td>
<td>Apply the binary mask of the telescope pupil to the source wavefront</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.Source.opd2phase" title="ceo.Source.opd2phase"><code class="xref py py-obj docutils literal"><span class="pre">opd2phase</span></code></a>(self)</td>
<td>Transfer the OPD from ray tracing to the wavefront phase</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.Source.phaseRms" title="ceo.Source.phaseRms"><code class="xref py py-obj docutils literal"><span class="pre">phaseRms</span></code></a>(self[,&nbsp;where])</td>
<td>Get the phase rms corresponding to either the pupil or the segments</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.Source.piston" title="ceo.Source.piston"><code class="xref py py-obj docutils literal"><span class="pre">piston</span></code></a>(self[,&nbsp;where])</td>
<td>Get the piston corresponding to either the pupil or the segments</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.Source.reset" title="ceo.Source.reset"><code class="xref py py-obj docutils literal"><span class="pre">reset</span></code></a>(self)</td>
<td>Reset the wavefront amplitude to 1 and phase to 0 and re&#8211;initialize the ray bundle</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.Source.masked">
<code class="descname">masked</code><span class="sig-paren">(</span><em>self</em>, <em>MaskAbstract tel</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Source.masked" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply the binary mask of the telescope pupil to the source wavefront</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>mask</strong> : Mask</p>
<blockquote class="last">
<div><p>The binary mask structure</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.Source.opd2phase">
<code class="descname">opd2phase</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Source.opd2phase" title="Permalink to this definition">¶</a></dt>
<dd><p>Transfer the OPD from ray tracing to the wavefront phase</p>
</dd></dl>

<dl class="method">
<dt id="ceo.Source.phaseRms">
<code class="descname">phaseRms</code><span class="sig-paren">(</span><em>self</em>, <em>where='pupil'</em>, <em>int units_exponent=0</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Source.phaseRms" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the phase rms corresponding to either the pupil or the segments</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>where</strong> : string, optional</p>
<blockquote>
<div><p>Either &#8220;pupil&#8221; for a piston on the full pupil or &#8220;segments&#8221; for pistons of each segment; default: pupil</p>
</div></blockquote>
<p><strong>units_exponent</strong> : int, optional</p>
<blockquote>
<div><p>Multiply the rms phase values by 10^-units_exponent; default: 0</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">ndarray of float</p>
<blockquote class="last">
<div><p>The vector of phase rms values in meters as either an N_SRC vector for &#8220;pupil&#8221; or a N_SRCx7 array for &#8220;segments&#8221;</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.Source.piston">
<code class="descname">piston</code><span class="sig-paren">(</span><em>self</em>, <em>where='pupil'</em>, <em>int units_exponent=0</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Source.piston" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the piston corresponding to either the pupil or the segments</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>where</strong> : string, optional</p>
<blockquote>
<div><p>Either &#8220;pupil&#8221; for a piston on the full pupil or &#8220;segments&#8221; for pistons of each segment; default: pupil</p>
</div></blockquote>
<p><strong>units_exponent</strong> : int, optional</p>
<blockquote>
<div><p>Multiply the piston values by 10^-units_exponent; default: 0</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">ndarray of float</p>
<blockquote class="last">
<div><p>The vector of piston values in meters as either an N_SRC vector for &#8220;pupil&#8221; or a N_SRCx7 array for &#8220;segments&#8221;</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.GMT_MX" title="ceo.GMT_MX"><code class="xref py py-obj docutils literal"><span class="pre">GMT_MX</span></code></a></dt>
<dd>a class embedding GMT M1 and M2 classes</dd>
<dt><a class="reference internal" href="#ceo.GMT_M1" title="ceo.GMT_M1"><code class="xref py py-obj docutils literal"><span class="pre">GMT_M1</span></code></a></dt>
<dd>a class for GMT M1 model</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ceo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gs</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">Source</span><span class="p">(</span><span class="s2">&quot;V&quot;</span><span class="p">,</span><span class="n">rays_box_size</span><span class="o">=</span><span class="mf">25.5</span><span class="p">,</span> <span class="n">rays_box_sampling</span><span class="o">=</span><span class="mi">256</span><span class="p">,</span> <span class="n">rays_origin</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">25</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gmt</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">GMT_MX</span><span class="p">(</span><span class="mf">25.5</span><span class="p">,</span><span class="mi">256</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gmt</span><span class="o">.</span><span class="n">propagate</span><span class="p">(</span><span class="n">gs</span><span class="p">)</span>
</pre></div>
</div>
<p>The piston over the entire pupil is obtained with:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gs</span><span class="o">.</span><span class="n">piston</span><span class="p">(</span><span class="n">where</span><span class="o">=</span><span class="s2">&quot;pupil&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The 7 segment pistons are retrieved with</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gs</span><span class="o">.</span><span class="n">piston</span><span class="p">(</span><span class="n">where</span><span class="o">=</span><span class="s2">&quot;segments&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="ceo.Source.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Source.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the wavefront amplitude to 1 and phase to 0 and re&#8211;initialize the ray bundle</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="gmtlib">
<h2>GMTLIB<a class="headerlink" href="#gmtlib" title="Permalink to this headline">¶</a></h2>
<div class="section" id="gmt-mx">
<h3>GMT_MX<a class="headerlink" href="#gmt-mx" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.GMT_MX">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">GMT_MX</code><span class="sig-paren">(</span><em>D</em>, <em>D_px</em>, <em>M1_radial_order=0</em>, <em>M2_radial_order=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ceo/GMTLIB.html#GMT_MX"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ceo.GMT_MX" title="Permalink to this definition">¶</a></dt>
<dd><p>A class container from GMT_M1 and GMT_M2 classes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>D</strong> : float</p>
<blockquote>
<div><p>The size of the pupil plane in meter</p>
</div></blockquote>
<p><strong>D_px</strong> : int</p>
<blockquote>
<div><p>The size of the pupil plane in pixel</p>
</div></blockquote>
<p><strong>M1_radial_order</strong> : int, optionnal</p>
<blockquote>
<div><p>The largest radial order of the Zernike polynomials on M1 segments, default to 0</p>
</div></blockquote>
<p><strong>M2_radial_order</strong> : int, optionnal</p>
<blockquote class="last">
<div><p>The largest radial order of the Zernike polynomials on M2 segments, default to 0</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.GMT_M1" title="ceo.GMT_M1"><code class="xref py py-obj docutils literal"><span class="pre">GMT_M1</span></code></a></dt>
<dd>the class for GMT M1 model</dd>
<dt><a class="reference internal" href="#ceo.GMT_M2" title="ceo.GMT_M2"><code class="xref py py-obj docutils literal"><span class="pre">GMT_M2</span></code></a></dt>
<dd>the class for GMT M2 model</dd>
<dt><a class="reference internal" href="#ceo.Source" title="ceo.Source"><code class="xref py py-obj docutils literal"><span class="pre">Source</span></code></a></dt>
<dd>a class for astronomical sources</dd>
<dt><a class="reference internal" href="#ceo.cuFloatArray" title="ceo.cuFloatArray"><code class="xref py py-obj docutils literal"><span class="pre">cuFloatArray</span></code></a></dt>
<dd>an interface class between GPU host and device data for floats</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ceo</span>
</pre></div>
</div>
<p>The mandatory parameters are the size of the pupil plane in meter or in pixel</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gmt</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">GMT_MX</span><span class="p">(</span><span class="mf">25.5</span><span class="p">,</span><span class="mi">256</span><span class="p">)</span>
</pre></div>
</div>
<p>If more that one source (lets say 3) is going to be propagated through the telescope:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gmt</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">GMT_MX</span><span class="p">(</span><span class="mf">25.5</span><span class="p">,</span><span class="mi">256</span><span class="p">,</span> <span class="n">N_SRC</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>A combination of Zernike polynomials can be applied to M1 and M2 segments by specifying the largest radial order on each mirror</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gmt</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">GMT_MX</span><span class="p">(</span><span class="mf">25.5</span><span class="p">,</span><span class="mi">256</span><span class="p">,</span> <span class="n">M1_radial_order</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">M2_radial_order</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
</pre></div>
</div>
<p>A source is propagated (geometrically) through the telescope with the following procedure:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">src</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">Source</span><span class="p">(</span><span class="s2">&quot;R&quot;</span><span class="p">,</span><span class="n">rays_box_size</span><span class="o">=</span><span class="mf">25.5</span><span class="p">,</span><span class="n">rays_box_sampling</span><span class="o">=</span><span class="mi">256</span><span class="p">,</span><span class="n">rays_origin</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mi">25</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gmt</span><span class="o">.</span><span class="n">propagate</span><span class="p">(</span><span class="n">src</span><span class="p">)</span>
</pre></div>
</div>
<p>and the wavefront phase is retrieved either as a 2D map cuFloatArray object with</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gpu_ps2d</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">phase</span><span class="p">()</span>
</pre></div>
</div>
<p>or as a 1D vector with</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gpu_ps1d</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">wavefront</span><span class="o">.</span><span class="n">phase</span><span class="p">()</span>
</pre></div>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>D</td>
<td>(float) The size of the pupil plane in meter</td>
</tr>
<tr class="row-even"><td>D_px</td>
<td>(int) The size of the pupil plane in pixel</td>
</tr>
<tr class="row-odd"><td>M1</td>
<td>(GMT_M1) The GMT M1 CEO class</td>
</tr>
<tr class="row-even"><td>M2</td>
<td>(GMT_M2) The GMT M2 CEO class</td>
</tr>
<tr class="row-odd"><td>sphere_radius</td>
<td>(float) The curvature radius of the ray tracing reference sphere</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">dump_log</span></code>(self,&nbsp;bytes&nbsp;filename)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">propagate</span></code>(self,&nbsp;Source&nbsp;src[,&nbsp;where_to,&nbsp;...])</td>
<td>Propagate the Source object to the pupil plane conjugated to M1</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">reset</span></code>(self)</td>
<td>Reset M1 and M2 mirror segments to their original locations and shapes</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.GMT_MX.calibrate">
<code class="descname">calibrate</code><span class="sig-paren">(</span><em>wfs</em>, <em>gs</em>, <em>mirror=None</em>, <em>mode=None</em>, <em>stroke=None</em>, <em>segment=None</em>, <em>agws=None</em>, <em>recmat=None</em>, <em>first_mode=3</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ceo/GMTLIB.html#GMT_MX.calibrate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ceo.GMT_MX.calibrate" title="Permalink to this definition">¶</a></dt>
<dd><p>Calibrate the different degrees of freedom of the  mirrors</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>wfs</strong> : ShackHartmann</p>
<blockquote>
<div><p>The wavefront sensor</p>
</div></blockquote>
<p><strong>gs</strong> : Source</p>
<blockquote>
<div><p>The guide star</p>
</div></blockquote>
<p><strong>mirror</strong> : string</p>
<blockquote>
<div><p>The mirror label: eiher &#8220;M1&#8221; or &#8220;M2&#8221;</p>
</div></blockquote>
<p><strong>mode</strong> : string</p>
<blockquote>
<div><p>The degrees of freedom label
for M1: &#8220;global tip-tilt&#8221;, &#8220;zernike&#8221;, &#8220;Txyz&#8221;, &#8220;segment tip-tilt&#8221;
for M2: &#8220;global tip-tilt&#8221;, &#8220;pointing neutral&#8221;, &#8220;coma neutral&#8221;, &#8220;zernike&#8221;, &#8220;Txyz&#8221;, &#8220;Rxyz&#8221;, &#8220;segment tip-tilt&#8221;, &#8220;TT7 segment tip-tilt&#8221;</p>
</div></blockquote>
<p><strong>stroke</strong> : float</p>
<blockquote>
<div><p>The amplitude of the motion</p>
</div></blockquote>
<p><strong>segment</strong> : string</p>
<blockquote class="last">
<div><p>Idealized Segment Piston measurement type: &#8220;full&#8221; or &#8220;edge&#8221; (see IdealSegmentPistonSensor documentation).</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="idealsegmentpistonsensor">
<h3>IdealSegmentPistonSensor<a class="headerlink" href="#idealsegmentpistonsensor" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.IdealSegmentPistonSensor">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">IdealSegmentPistonSensor</code><span class="sig-paren">(</span><em>gmt</em>, <em>src</em>, <em>W=1.5</em>, <em>L=1.5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ceo/GMTLIB.html#IdealSegmentPistonSensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ceo.IdealSegmentPistonSensor" title="Permalink to this definition">¶</a></dt>
<dd><p>A class for the GMT segment piston sensor</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>gmt</strong> : GMT_MX</p>
<blockquote>
<div><p>The GMT object</p>
</div></blockquote>
<p><strong>src</strong> : Source</p>
<blockquote>
<div><p>The Source object used for piston sensing</p>
</div></blockquote>
<p><strong>W</strong> : float, optional</p>
<blockquote>
<div><p>The width of the lenslet; default: 1.5m</p>
</div></blockquote>
<p><strong>L</strong> : float, optional</p>
<blockquote class="last">
<div><p>The length of the lenslet; default: 1.5m</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.GMT_MX" title="ceo.GMT_MX"><code class="xref py py-obj docutils literal"><span class="pre">GMT_MX</span></code></a></dt>
<dd>a class for GMT M1 and M2 mirrors</dd>
<dt><a class="reference internal" href="#ceo.Source" title="ceo.Source"><code class="xref py py-obj docutils literal"><span class="pre">Source</span></code></a></dt>
<dd>a class for astronomical sources</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ceo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nPx</span> <span class="o">=</span> <span class="mi">256</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">D</span> <span class="o">=</span> <span class="mf">25.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">src</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">Source</span><span class="p">(</span><span class="s2">&quot;R&quot;</span><span class="p">,</span><span class="n">rays_box_size</span><span class="o">=</span><span class="n">D</span><span class="p">,</span><span class="n">rays_box_sampling</span><span class="o">=</span><span class="n">nPx</span><span class="p">,</span><span class="n">rays_origin</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mi">25</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gmt</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">GMT_MX</span><span class="p">(</span><span class="n">D</span><span class="p">,</span><span class="n">nPx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">SPS</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">IdealSegmentPistonSensor</span><span class="p">(</span><span class="n">gmt</span><span class="p">,</span><span class="n">src</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">src</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gmt</span><span class="o">.</span><span class="n">propagate</span><span class="p">(</span><span class="n">src</span><span class="p">)</span>
</pre></div>
</div>
<p>The piston per M1 segment is obtained with</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">SPS</span><span class="o">.</span><span class="n">piston</span><span class="p">(</span><span class="n">src</span><span class="p">,</span><span class="n">segment</span><span class="o">=</span><span class="s1">&#39;full&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The 12 differential pistons are given by</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">SPS</span><span class="o">.</span><span class="n">piston</span><span class="p">(</span><span class="n">src</span><span class="p">,</span><span class="n">segment</span><span class="o">=</span><span class="s1">&#39;edge&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="3%" />
<col width="97%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>P</td>
<td>(numpy ndarray) M1 segment mask as a 7 columns array</td>
</tr>
<tr class="row-even"><td>rc</td>
<td>(float) The radius of the circle where are centered the first 6 lenslets</td>
</tr>
<tr class="row-odd"><td>rp</td>
<td>(float) The radius of the circle where are centered the last 6 lenslets</td>
</tr>
<tr class="row-even"><td>W</td>
<td>(float) The width of the lenslet</td>
</tr>
<tr class="row-odd"><td>L</td>
<td>(float) The length of the lenslet</td>
</tr>
<tr class="row-even"><td>M</td>
<td>(numpy ndarray) The mask corresponding to the 12 lenslet array as a 12 columns array</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
</tbody>
</table>
<dl class="method">
<dt id="ceo.IdealSegmentPistonSensor.piston">
<code class="descname">piston</code><span class="sig-paren">(</span><em>src</em>, <em>segment='full'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ceo/GMTLIB.html#IdealSegmentPistonSensor.piston"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ceo.IdealSegmentPistonSensor.piston" title="Permalink to this definition">¶</a></dt>
<dd><p>Return either M1 segment piston or M1 differential piston</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>src</strong> : Source</p>
<blockquote>
<div><p>The piston sensing guide star object</p>
</div></blockquote>
<p><strong>segment</strong> : string, optionnal</p>
<blockquote class="last">
<div><p>&#8220;full&#8221; for piston on the entire segments or &#8220;edge&#8221; for the differential piston between segment; default: &#8220;full&#8221;</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="dispersedfringesensor">
<h3>DispersedFringeSensor<a class="headerlink" href="#dispersedfringesensor" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.DispersedFringeSensor">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">DispersedFringeSensor</code><span class="sig-paren">(</span><em>M1</em>, <em>src</em>, <em>dispersion=5.0</em>, <em>field_of_view=3.0</em>, <em>nyquist_factor=1.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ceo/GMTLIB.html#DispersedFringeSensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ceo.DispersedFringeSensor" title="Permalink to this definition">¶</a></dt>
<dd><p>A class for the GMT Dispersed Fringe Sensor.
This class inherits from the SegmentPistonSensor class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>Same parameters as in SegmentPistonSensor class.</strong></td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.SegmentPistonSensor" title="ceo.SegmentPistonSensor"><code class="xref py py-obj docutils literal"><span class="pre">SegmentPistonSensor</span></code></a></dt>
<dd>the super class</dd>
<dt><a class="reference internal" href="#ceo.IdealSegmentPistonSensor" title="ceo.IdealSegmentPistonSensor"><code class="xref py py-obj docutils literal"><span class="pre">IdealSegmentPistonSensor</span></code></a></dt>
<dd>the class for an idealized segment piston sensor</dd>
<dt><a class="reference internal" href="#ceo.GMT_M1" title="ceo.GMT_M1"><code class="xref py py-obj docutils literal"><span class="pre">GMT_M1</span></code></a></dt>
<dd>the class for GMT M1 model</dd>
<dt><a class="reference internal" href="#ceo.Source" title="ceo.Source"><code class="xref py py-obj docutils literal"><span class="pre">Source</span></code></a></dt>
<dd>a class for astronomical sources</dd>
<dt><a class="reference internal" href="#ceo.cuFloatArray" title="ceo.cuFloatArray"><code class="xref py py-obj docutils literal"><span class="pre">cuFloatArray</span></code></a></dt>
<dd>an interface class between GPU host and device data for floats</dd>
</dl>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="94%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>INIT_ALL_ATTRIBUTES</td>
<td>(bool ; Default: False) If True, additional attributes (mainly for display and debugging) will be created. See list of Additional Attributes below.</td>
</tr>
<tr class="row-even"><td>fftlet_rotation</td>
<td>(float ; vector with 12xN_SRC elements) The angle of the line joining the center of the three lobes of the fftlet image. Init by calibrate() method.</td>
</tr>
<tr class="row-odd"><td>lobe_detection</td>
<td>(string  ; default: &#8216;gaussfit&#8217;) Algorithm for lobe detection, either &#8216;gaussfit&#8217; for 2D gaussian fit, or &#8216;peak_value&#8217; for peak detection.</td>
</tr>
<tr class="row-even"><td>spsmask</td>
<td>(bool) Data cube containing the masks (one for each fftlet) required to isolate the &#8220;detection blob&#8221;, i.e. the upper-most lobe from which the measurement will be computed. Init by calibrate() method.</td>
</tr>
<tr class="row-odd"><td>measurement</td>
<td>(float) Dispersed Fringe Sensor output measurement vector; y-coordinate of the detection blob in the rotated reference frame (i.e. the reference frame having the x-axis passing through the three lobe peaks on a fftlet image, and the y-axis perpendicular to it. Units: pixels in the fftlet image plane.</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">fft</span></code>(self)</td>
<td>Fourier transforms the detector framelets</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">propagate</span></code>(self,&nbsp;Source&nbsp;gs)</td>
<td>Propagates the guide star wavefront from the segment piston sensor pupil plane to the detector in the focal plane</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">readOut</span></code>(self,&nbsp;float&nbsp;exposureTime,&nbsp;...)</td>
<td>Reads-out the detector applying photon noise, read-out noise and background noise</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.DispersedFringeSensor.analyze">
<code class="descname">analyze</code><span class="sig-paren">(</span><em>src</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ceo/GMTLIB.html#DispersedFringeSensor.analyze"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ceo.DispersedFringeSensor.analyze" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagates the guide star to the SPS detector (noiseless) and processes the frame</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>src</strong> : Source</p>
<blockquote class="last">
<div><p>The piston sensing guide star object</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.DispersedFringeSensor.calibrate">
<code class="descname">calibrate</code><span class="sig-paren">(</span><em>src</em>, <em>gmt</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ceo/GMTLIB.html#DispersedFringeSensor.calibrate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ceo.DispersedFringeSensor.calibrate" title="Permalink to this definition">¶</a></dt>
<dd><p>Calibrates the lobe detection masks (spsmask).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>src</strong> : Source</p>
<blockquote>
<div><p>The Source object used for piston sensing</p>
</div></blockquote>
<p><strong>gmt</strong> : GMT_MX</p>
<blockquote class="last">
<div><p>The GMT object</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.DispersedFringeSensor.fitgaussian">
<code class="descname">fitgaussian</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ceo/GMTLIB.html#DispersedFringeSensor.fitgaussian"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ceo.DispersedFringeSensor.fitgaussian" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits a 2D Gaussian to the input data, and returns the Gaussian fit parameters: (amplidute, x, y, width_x, width_y, rotation)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data</strong> : numpy 2D ndarray</p>
<blockquote class="last">
<div><p>The array containing the image (i.e. the detection blob) to be fitted with a 2D Gaussian</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.DispersedFringeSensor.gaussian_func">
<code class="descname">gaussian_func</code><span class="sig-paren">(</span><em>height</em>, <em>center_x</em>, <em>center_y</em>, <em>width_x</em>, <em>width_y</em>, <em>rotation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ceo/GMTLIB.html#DispersedFringeSensor.gaussian_func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ceo.DispersedFringeSensor.gaussian_func" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a gaussian function G(x,y) to produce a 2D Gaussian with the given parameters</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>height</strong> : float</p>
<blockquote>
<div><p>Amplitude of the Gaussian</p>
</div></blockquote>
<p><strong>center_x</strong> : float</p>
<blockquote>
<div><p>x-coordinates of the Gaussian&#8217;s center in pixels.</p>
</div></blockquote>
<p><strong>center_y</strong> : float</p>
<blockquote>
<div><p>y-coordinates of the Gaussian&#8217;s center in pixels.</p>
</div></blockquote>
<p><strong>width_x</strong> : float</p>
<blockquote>
<div><p>standard deviation in the x-direction in pixels.</p>
</div></blockquote>
<p><strong>width_y</strong> : float</p>
<blockquote>
<div><p>standard deviation in the y-direction in  pixels.</p>
</div></blockquote>
<p><strong>rotation</strong> : float</p>
<blockquote class="last">
<div><p>angle of rotation of the Gaussian (x,y)  axes in degrees.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.DispersedFringeSensor.get_data_cube">
<code class="descname">get_data_cube</code><span class="sig-paren">(</span><em>data_type='fftlet'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ceo/GMTLIB.html#DispersedFringeSensor.get_data_cube"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ceo.DispersedFringeSensor.get_data_cube" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the DFS data (either fringe or fftlet images) in cube format</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data_type</strong> : string</p>
<blockquote class="last">
<div><p>Set to &#8220;camera&#8221; to return fringes; set to &#8220;fftlet&#8221; to return fftlet images; default: fftlet</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.DispersedFringeSensor.piston">
<code class="descname">piston</code><span class="sig-paren">(</span><em>src</em>, <em>segment='edge'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ceo/GMTLIB.html#DispersedFringeSensor.piston"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ceo.DispersedFringeSensor.piston" title="Permalink to this definition">¶</a></dt>
<dd><p>Return either M1 segment piston or M1 differential piston. This method was created to provide same functionality as the IdealSegmentPistonSensor method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>src</strong> : Source</p>
<blockquote>
<div><p>The piston sensing guide star object</p>
</div></blockquote>
<p><strong>segment</strong> : string, optional</p>
<blockquote class="last">
<div><p>&#8220;full&#8221; for piston on the entire segments or &#8220;edge&#8221; for the differential piston between segment; default: &#8220;full&#8221;</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.DispersedFringeSensor.process">
<code class="descname">process</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ceo/GMTLIB.html#DispersedFringeSensor.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ceo.DispersedFringeSensor.process" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes the Dispersed Fringe Sensor detector frame</p>
</dd></dl>

<dl class="method">
<dt id="ceo.DispersedFringeSensor.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ceo/GMTLIB.html#DispersedFringeSensor.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ceo.DispersedFringeSensor.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets both the SPS detector frame and the fftlet buffer to zero.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="imaging">
<h2>Imaging<a class="headerlink" href="#imaging" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ceo.Imaging">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">Imaging</code><a class="headerlink" href="#ceo.Imaging" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an imaging object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>N_PX_PUPIL</strong> : int</p>
<blockquote>
<div><p>The sampling in pixel of one lenslet.</p>
</div></blockquote>
<p><strong>N_SIDE_LENSLET</strong> : int</p>
<blockquote>
<div><p>The linear size of the lenslet array (&gt;=1).</p>
</div></blockquote>
<p><strong>DFT_osf</strong> : int</p>
<blockquote>
<div><p>The oversampling factor for the Discrete Fourier Transform (&gt;=1).</p>
</div></blockquote>
<p><strong>N_PX_IMAGE</strong> : int</p>
<blockquote>
<div><p>The sampling in pixel of the imagelet (&gt;=1).</p>
</div></blockquote>
<p><strong>BIN_IMAGE</strong> : int</p>
<blockquote>
<div><p>The binning factor of the imagelet (&gt;=1).</p>
</div></blockquote>
<p><strong>N_SOURCE</strong> : int</p>
<blockquote class="last">
<div><p>The number of guide stars (&gt;=1).</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.cuFloatArray" title="ceo.cuFloatArray"><code class="xref py py-obj docutils literal"><span class="pre">cuFloatArray</span></code></a></dt>
<dd>class acting as the interface between GPU host and device</dd>
</dl>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="82%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>N_SIDE_LENSLET</td>
<td>(int) The linear size of the lenslet array (&gt;=1).</td>
</tr>
<tr class="row-even"><td>N_PX_PUPIL</td>
<td>(int) The sampling in pixel of one lenslet.</td>
</tr>
<tr class="row-odd"><td>DFT_osf</td>
<td>(int) The oversampling factor for the Discrete Fourier Transform</td>
</tr>
<tr class="row-even"><td>N_PX_IMAGE</td>
<td>(int) The sampling in pixel of the imagelet</td>
</tr>
<tr class="row-odd"><td>BIN_IMAGE</td>
<td>(int) The binning factor of the imagelet</td>
</tr>
<tr class="row-even"><td>N_GS</td>
<td>(int) The number of guide stars</td>
</tr>
<tr class="row-odd"><td>N_PX_FRAME</td>
<td>(int) The detector resolution</td>
</tr>
<tr class="row-even"><td>frame</td>
<td>(cuFloatArray) The detector frame of size [<cite>N_SOURCE`x`N_PX_CAMERA</cite>,`N_PX_CAMERA`]</td>
</tr>
<tr class="row-odd"><td>photoelectron_gain</td>
<td>(float) The photon to electron conversion gain of the camera</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.Imaging.ee80" title="ceo.Imaging.ee80"><code class="xref py py-obj docutils literal"><span class="pre">ee80</span></code></a>(self)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.Imaging.propagate" title="ceo.Imaging.propagate"><code class="xref py py-obj docutils literal"><span class="pre">propagate</span></code></a>(self,&nbsp;Source&nbsp;src)</td>
<td>Propgates a source through the lenset to detector in the focal plane</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.Imaging.propagateThroughFieldStop" title="ceo.Imaging.propagateThroughFieldStop"><code class="xref py py-obj docutils literal"><span class="pre">propagateThroughFieldStop</span></code></a>(self,&nbsp;Source&nbsp;src,&nbsp;...)</td>
<td>Propgates a source through the lenset then through a field stop in</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.Imaging.propagateThroughPyramid" title="ceo.Imaging.propagateThroughPyramid"><code class="xref py py-obj docutils literal"><span class="pre">propagateThroughPyramid</span></code></a>(self,&nbsp;Source&nbsp;src,&nbsp;...)</td>
<td>Propgates a source through a pyramid wavefront sensor to a detector in a pupil plane</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.Imaging.readOut" title="ceo.Imaging.readOut"><code class="xref py py-obj docutils literal"><span class="pre">readOut</span></code></a>(self,&nbsp;float&nbsp;exposureTime,&nbsp;...)</td>
<td>Reads-out the detector</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.Imaging.reset" title="ceo.Imaging.reset"><code class="xref py py-obj docutils literal"><span class="pre">reset</span></code></a>(self)</td>
<td>Resets the frame of the camera to 0</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.Imaging.reset_rng" title="ceo.Imaging.reset_rng"><code class="xref py py-obj docutils literal"><span class="pre">reset_rng</span></code></a>(self,&nbsp;int&nbsp;SEED)</td>
<td>Resets the random number generator</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.Imaging.ee80">
<code class="descname">ee80</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Imaging.ee80" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ceo.Imaging.propagate">
<code class="descname">propagate</code><span class="sig-paren">(</span><em>self</em>, <em>Source src</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Imaging.propagate" title="Permalink to this definition">¶</a></dt>
<dd><p>Propgates a source through the lenset to detector in the focal plane</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>src</strong> : Source</p>
<blockquote class="last">
<div><p>A source object</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Source" title="ceo.Source"><code class="xref py py-obj docutils literal"><span class="pre">Source</span></code></a></dt>
<dd>class modeling star objects</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="ceo.Imaging.propagateThroughFieldStop">
<code class="descname">propagateThroughFieldStop</code><span class="sig-paren">(</span><em>self</em>, <em>Source src</em>, <em>float field_stop_diam</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Imaging.propagateThroughFieldStop" title="Permalink to this definition">¶</a></dt>
<dd><p>Propgates a source through the lenset then through a field stop in 
the focal plane and to a pupil plane</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>src</strong> : Source</p>
<blockquote>
<div><p>A source object</p>
</div></blockquote>
<p><strong>field_stop_diam</strong> : float</p>
<blockquote class="last">
<div><p>The diameter of the field stop in units of <span class="math">\(\lambda/D\)</span></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Source" title="ceo.Source"><code class="xref py py-obj docutils literal"><span class="pre">Source</span></code></a></dt>
<dd>class modeling star objects</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="ceo.Imaging.propagateThroughPyramid">
<code class="descname">propagateThroughPyramid</code><span class="sig-paren">(</span><em>self</em>, <em>Source src</em>, <em>float modulation=0.0</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Imaging.propagateThroughPyramid" title="Permalink to this definition">¶</a></dt>
<dd><p>Propgates a source through a pyramid wavefront sensor to a detector in a pupil plane</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>src</strong> : Source</p>
<blockquote>
<div><p>A source object</p>
</div></blockquote>
<p><strong>modulation</strong> : float</p>
<blockquote class="last">
<div><p>The pyramid modulation amplitude in units of <span class="math">\(\lambda/D\)</span>; default: 0.0</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Source" title="ceo.Source"><code class="xref py py-obj docutils literal"><span class="pre">Source</span></code></a></dt>
<dd>class modeling star objects</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="ceo.Imaging.readOut">
<code class="descname">readOut</code><span class="sig-paren">(</span><em>self</em>, <em>float exposureTime</em>, <em>float readOutNoiseRms</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Imaging.readOut" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads-out the detector</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>exposureTime</strong> : float</p>
<blockquote>
<div><p>The exposure time of the camera</p>
</div></blockquote>
<p><strong>readOutNoiseRms</strong> : float</p>
<blockquote class="last">
<div><p>The read-out moise rms of the camera</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.Imaging.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Imaging.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the frame of the camera to 0</p>
</dd></dl>

<dl class="method">
<dt id="ceo.Imaging.reset_rng">
<code class="descname">reset_rng</code><span class="sig-paren">(</span><em>self</em>, <em>int SEED</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Imaging.reset_rng" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the random number generator</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="centroiding">
<h2>Centroiding<a class="headerlink" href="#centroiding" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ceo.Centroiding">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">Centroiding</code><a class="headerlink" href="#ceo.Centroiding" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a centroiding container</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>N_SIDE_LENSLET</strong> : int</p>
<blockquote>
<div><p>The linear size of the lenslet array (&gt;=1)</p>
</div></blockquote>
<p><strong>N_SOURCE</strong> : int, optional</p>
<blockquote class="last">
<div><p>The number of guide stars (&gt;=1); default: 1</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.cuFloatArray" title="ceo.cuFloatArray"><code class="xref py py-obj docutils literal"><span class="pre">cuFloatArray</span></code></a></dt>
<dd>class acting as the interface between GPU host and device</dd>
</dl>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>N_SIDE_LENSLET</td>
<td>(int) The linear size of the lenslet array (&gt;=1)</td>
</tr>
<tr class="row-even"><td>N_SOURCE</td>
<td>(int) The number of guide stars (&gt;=1)</td>
</tr>
<tr class="row-odd"><td>flux</td>
<td>(cuFloatArray) The map of flux per lenset</td>
</tr>
<tr class="row-even"><td>c: cuFloatArray</td>
<td>The centroid vector of length <a href="#id3"><span class="problematic" id="id4">`</span></a>N_SOURCE`x`N_SIDE_LENSLET`**2</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.Centroiding.fried_geometry" title="ceo.Centroiding.fried_geometry"><code class="xref py py-obj docutils literal"><span class="pre">fried_geometry</span></code></a>(self,&nbsp;MaskAbstract&nbsp;dm,&nbsp;...)</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.Centroiding.fried_geometry">
<code class="descname">fried_geometry</code><span class="sig-paren">(</span><em>self</em>, <em>MaskAbstract dm</em>, <em>MaskAbstract pupil</em>, <em>int n</em>, <em>float threshold</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Centroiding.fried_geometry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="shackhartmann">
<h2>ShackHartmann<a class="headerlink" href="#shackhartmann" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ceo.ShackHartmann">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">ShackHartmann</code><a class="headerlink" href="#ceo.ShackHartmann" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a shackHartmann object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>N_SIDE_LENSLET</strong> : int</p>
<blockquote>
<div><p>The linear size of the lenslet array (&gt;=1).</p>
</div></blockquote>
<p><strong>N_PX_LENSLET</strong> : int</p>
<blockquote>
<div><p>The sampling in pixel of one lenslet.</p>
</div></blockquote>
<p><strong>d</strong> : float</p>
<blockquote>
<div><p>The lenslet pitch [m].</p>
</div></blockquote>
<p><strong>DFT_osf</strong> : int, optional</p>
<blockquote>
<div><p>The oversampling factor for the Discrete Fourier Transform, defaults to 2</p>
</div></blockquote>
<p><strong>N_PX_IMAGE</strong> : int, optional</p>
<blockquote>
<div><p>The sampling in pixel of the imagelet, defaults to N_PX_LENSLET</p>
</div></blockquote>
<p><strong>BIN_IMAGE</strong> : int, optional</p>
<blockquote>
<div><p>The binning factor of the imagelet, default to 1</p>
</div></blockquote>
<p><strong>N_GS</strong> : int, optional</p>
<blockquote class="last">
<div><p>The number of guide stars, defaults to 1</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.MaskAbstract" title="ceo.MaskAbstract"><code class="xref py py-obj docutils literal"><span class="pre">MaskAbstract</span></code></a></dt>
<dd>a class to hold masks properties</dd>
<dt><a class="reference internal" href="#ceo.cuFloatArray" title="ceo.cuFloatArray"><code class="xref py py-obj docutils literal"><span class="pre">cuFloatArray</span></code></a></dt>
<dd>an interface class for GPU host and device float data</dd>
<dt><a class="reference internal" href="#ceo.Imaging" title="ceo.Imaging"><code class="xref py py-obj docutils literal"><span class="pre">Imaging</span></code></a></dt>
<dd>a class for a Fourier propagation moel and for a detector model</dd>
<dt><a class="reference internal" href="#ceo.Centroiding" title="ceo.Centroiding"><code class="xref py py-obj docutils literal"><span class="pre">Centroiding</span></code></a></dt>
<dd>a class for the data processing of wavefront sensor frames</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p>A 30x30, 1m lenslet pitch, Nyquist sampled Shack-Hartmann WFS with 8x8 pixel per lenslet is created with</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">wfs</span> <span class="o">=</span> <span class="n">ShackHartmann</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mf">1.0</span><span class="p">)</span>
</pre></div>
</div>
<p>The detector resolution is 240 pixels with a lenslet field of view of <span class="math">\(8\lambda / 2d\)</span>.</p>
<p>Twice the Nyquist sampling is realized with</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">wfs</span> <span class="o">=</span> <span class="n">ShackHartmann</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="n">DFT_osf</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>The detector resolution is still 240 pixels but with a lenslet field of view of <span class="math">\(8\lambda / 4d\)</span>.</p>
<p>Half the Nyquist sampling is obtained with</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">wfs</span> <span class="o">=</span> <span class="n">ShackHartmann</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">BIN_IMAGE</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>The detector resolution is now 120 pixels with a lenslet field of view of <span class="math">\(4\lambda / d\)</span>.
A 240 pixels detector resolution is restored with</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">wfs</span> <span class="o">=</span> <span class="n">ShackHartmann</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">N_PX_IMAGE</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">BIN_IMAGE</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>increasing the field of view by a factor 2 i.e. <span class="math">\(8\lambda / d\)</span>.</p>
<p>The number of guide star needs to be passed if larger than 1:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">wfs</span> <span class="o">=</span> <span class="n">ShackHartmann</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">N_GS</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>N_SIDE_LENSLET</td>
<td>(int) The linear size of the lenslet array (&gt;=1).</td>
</tr>
<tr class="row-even"><td>N_PX_LENSLET</td>
<td>(int) The sampling in pixel of one lenslet.</td>
</tr>
<tr class="row-odd"><td>DFT_osf</td>
<td>(int) The oversampling factor for the Discrete Fourier Transform</td>
</tr>
<tr class="row-even"><td>N_PX_IMAGE</td>
<td>(int) The sampling in pixel of the imagelet</td>
</tr>
<tr class="row-odd"><td>BIN_IMAGE</td>
<td>(int) The binning factor of the imagelet</td>
</tr>
<tr class="row-even"><td>N_GS</td>
<td>(int) The number of guide stars</td>
</tr>
<tr class="row-odd"><td>N_PX_FRAME</td>
<td>(int) The detector resolution</td>
</tr>
<tr class="row-even"><td>valid_lenslet</td>
<td>(MaskAbstract) The mask object representing the valid lenslet location</td>
</tr>
<tr class="row-odd"><td>valid_actuator</td>
<td>(MaskAbstract) The mask object representing the valid actuator location in a Fried geometry</td>
</tr>
<tr class="row-even"><td>n_valid_lenslet</td>
<td>(int) The number of valid lenslet</td>
</tr>
<tr class="row-odd"><td>n_valid_slopes</td>
<td>(int) The number of valid slopes</td>
</tr>
<tr class="row-even"><td>pixel_scale</td>
<td>(float) The size of the detector pixel in radian</td>
</tr>
<tr class="row-odd"><td>pixel_scale_arcsec</td>
<td>(float) The size of the detector pixel in arcsec</td>
</tr>
<tr class="row-even"><td>frame</td>
<td>(cuFloatArray) The detector frame</td>
</tr>
<tr class="row-odd"><td>c0</td>
<td>(cuFloatArray) The reference slopes vector as [N_GSx2 N_SIDE_LENSLET**2]</td>
</tr>
<tr class="row-even"><td>c</td>
<td>(cuFloatArray) The slopes vector as [N_GSx2 N_SIDE_LENSLET**2]</td>
</tr>
<tr class="row-odd"><td>flux</td>
<td>(cuFloatArray) The map of flux per lenset</td>
</tr>
<tr class="row-even"><td>valid_slopes</td>
<td>(cuFloatArray) The vector of valid slopes</td>
</tr>
<tr class="row-odd"><td>camera</td>
<td>(Imaging, readonly) The detector object</td>
</tr>
<tr class="row-even"><td>data_proc</td>
<td>(Centroiding, readonly) The measurements container</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.ShackHartmann.analyze" title="ceo.ShackHartmann.analyze"><code class="xref py py-obj docutils literal"><span class="pre">analyze</span></code></a>(self,&nbsp;Source&nbsp;gs)</td>
<td>Propagates the guide star to the WFS detector (noiseless) and processes the frame</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.ShackHartmann.calibrate" title="ceo.ShackHartmann.calibrate"><code class="xref py py-obj docutils literal"><span class="pre">calibrate</span></code></a>(self,&nbsp;Source&nbsp;gs,&nbsp;float&nbsp;threshold)</td>
<td>Selects the WFS valid lenslet and calibrated the reference slopes</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.ShackHartmann.pointing" title="ceo.ShackHartmann.pointing"><code class="xref py py-obj docutils literal"><span class="pre">pointing</span></code></a>(self,&nbsp;float&nbsp;zen,&nbsp;float&nbsp;azim)</td>
<td>Sets the pointing of the WFS relative to the guide star</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.ShackHartmann.process" title="ceo.ShackHartmann.process"><code class="xref py py-obj docutils literal"><span class="pre">process</span></code></a>(self)</td>
<td>Processes the WFS detector frame</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.ShackHartmann.propagate" title="ceo.ShackHartmann.propagate"><code class="xref py py-obj docutils literal"><span class="pre">propagate</span></code></a>(self,&nbsp;Source&nbsp;gs)</td>
<td>Propagates the guide star to the WFS detector (noiseless)</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.ShackHartmann.readOut" title="ceo.ShackHartmann.readOut"><code class="xref py py-obj docutils literal"><span class="pre">readOut</span></code></a>(self,&nbsp;float&nbsp;exposureTime,&nbsp;...)</td>
<td>Reads-out the WFS detector frame adding photon and read-out noises</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.ShackHartmann.reset" title="ceo.ShackHartmann.reset"><code class="xref py py-obj docutils literal"><span class="pre">reset</span></code></a>(self)</td>
<td>Resets the WFS detector frame to 0</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.ShackHartmann.analyze">
<code class="descname">analyze</code><span class="sig-paren">(</span><em>self</em>, <em>Source gs</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.ShackHartmann.analyze" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagates the guide star to the WFS detector (noiseless) and processes the frame</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>gs</strong> : Source</p>
<blockquote class="last">
<div><p>The WFS guide star</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Source" title="ceo.Source"><code class="xref py py-obj docutils literal"><span class="pre">Source</span></code></a></dt>
<dd>a class for astronomical sources</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="ceo.ShackHartmann.calibrate">
<code class="descname">calibrate</code><span class="sig-paren">(</span><em>self</em>, <em>Source gs</em>, <em>float threshold</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.ShackHartmann.calibrate" title="Permalink to this definition">¶</a></dt>
<dd><p>Selects the WFS valid lenslet and calibrated the reference slopes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>gs</strong> : Source</p>
<blockquote>
<div><p>The WFS guide star</p>
</div></blockquote>
<p><strong>threshold</strong> : float</p>
<blockquote class="last">
<div><p>The intensity threshold, a lenslet is discared if the flux of the lenslet divided by the fully illuminated flux of the lenslet is less than the threshold</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Source" title="ceo.Source"><code class="xref py py-obj docutils literal"><span class="pre">Source</span></code></a></dt>
<dd>a class for astronomical sources</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="ceo.ShackHartmann.pointing">
<code class="descname">pointing</code><span class="sig-paren">(</span><em>self</em>, <em>float zen</em>, <em>float azim</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.ShackHartmann.pointing" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the pointing of the WFS relative to the guide star</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>zen</strong> : float</p>
<blockquote>
<div><p>The zenith angle [rd]</p>
</div></blockquote>
<p><strong>azim</strong> : float</p>
<blockquote class="last">
<div><p>The azimuth angle [rd]</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.ShackHartmann.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.ShackHartmann.process" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes the WFS detector frame</p>
</dd></dl>

<dl class="method">
<dt id="ceo.ShackHartmann.propagate">
<code class="descname">propagate</code><span class="sig-paren">(</span><em>self</em>, <em>Source gs</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.ShackHartmann.propagate" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagates the guide star to the WFS detector (noiseless)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>gs</strong> : Source</p>
<blockquote class="last">
<div><p>The WFS guide star</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Source" title="ceo.Source"><code class="xref py py-obj docutils literal"><span class="pre">Source</span></code></a></dt>
<dd>a class for astronomical sources</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="ceo.ShackHartmann.readOut">
<code class="descname">readOut</code><span class="sig-paren">(</span><em>self</em>, <em>float exposureTime</em>, <em>float readOutNoiseRms</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.ShackHartmann.readOut" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads-out the WFS detector frame adding photon and read-out noises</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>exposureTime</strong> : float</p>
<blockquote>
<div><p>The detector integration time [s]</p>
</div></blockquote>
<p><strong>readoutNoiseRms</strong> : float</p>
<blockquote class="last">
<div><p>The rms of the detector read-out noise</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.ShackHartmann.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.ShackHartmann.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the WFS detector frame to 0</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="pyramid">
<h2>Pyramid<a class="headerlink" href="#pyramid" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ceo.Pyramid">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">Pyramid</code><a class="headerlink" href="#ceo.Pyramid" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a pyramid wavefront sensor object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>N_SIDE_LENSLET</strong> : int</p>
<blockquote>
<div><p>The linear size of the equivalent lenslet array (&gt;1).</p>
</div></blockquote>
<p><strong>N_PX_LENSLET</strong> : int</p>
<blockquote>
<div><p>The sampling in pixel of the pupil plane.</p>
</div></blockquote>
<p><strong>modulation</strong> : float, optional</p>
<blockquote>
<div><p>The modulation at the vertex of the pyramid in lambda/D units, defaults to 0</p>
</div></blockquote>
<p><strong>N_GS</strong> : int, optional</p>
<blockquote class="last">
<div><p>The number of guide stars, defaults to 1</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Imaging" title="ceo.Imaging"><code class="xref py py-obj docutils literal"><span class="pre">Imaging</span></code></a></dt>
<dd>a class for a Fourier propagation model and for a detector model</dd>
<dt><a class="reference internal" href="#ceo.Centroiding" title="ceo.Centroiding"><code class="xref py py-obj docutils literal"><span class="pre">Centroiding</span></code></a></dt>
<dd>a class for the data processing of wavefront sensor frames</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p>A 30x30 lenslet equivalent pyramid with a 240x240 pupil resolution is created with</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ceo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wfs</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">Pyramid</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="mi">240</span><span class="p">)</span>
</pre></div>
</div>
<p>The same pyramid as above but with a 5lambda/D modulation</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">wfs</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">Pyramid</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="mi">240</span><span class="p">,</span><span class="n">modulation</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<p>For an asterism of 3 guide stars:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">wfs</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">Pyramid</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="mi">240</span><span class="p">,</span><span class="n">modulation</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">N_GS</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="89%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>camera</td>
<td>(Imaging, readonly) The detector object</td>
</tr>
<tr class="row-even"><td>data</td>
<td>(Centroiding, readonly) The measurements container</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.Pyramid.propagate" title="ceo.Pyramid.propagate"><code class="xref py py-obj docutils literal"><span class="pre">propagate</span></code></a>(self,&nbsp;Source&nbsp;gs)</td>
<td>Propagates the guide star to the WFS detector (noiseless)</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.Pyramid.propagate">
<code class="descname">propagate</code><span class="sig-paren">(</span><em>self</em>, <em>Source gs</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Pyramid.propagate" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagates the guide star to the WFS detector (noiseless)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>gs</strong> : Source</p>
<blockquote class="last">
<div><p>The WFS guide star</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Source" title="ceo.Source"><code class="xref py py-obj docutils literal"><span class="pre">Source</span></code></a></dt>
<dd>a class for astronomical sources</dd>
</dl>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="raytracing">
<h2>rayTracing<a class="headerlink" href="#raytracing" title="Permalink to this headline">¶</a></h2>
<div class="section" id="coordinates">
<h3>Coordinates<a class="headerlink" href="#coordinates" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.Coordinates">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">Coordinates</code><a class="headerlink" href="#ceo.Coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>An interface between an array of device vectors and an array of host coordinates</p>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ceo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gmt</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">GMT_MX</span><span class="p">(</span><span class="mf">25.5</span><span class="p">,</span><span class="mi">256</span><span class="p">,</span> <span class="n">M1_radial_order</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">M2_radial_order</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
</pre></div>
</div>
<p>The origin of M1 segment in the motion coordinate system is a Coordinates object</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">gmt</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">motion_CS</span><span class="o">.</span><span class="n">origin</span>
</pre></div>
</div>
<p>to retrieve the origin values:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">gmt</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">motion_CS</span><span class="o">.</span><span class="n">origin</span><span class="p">[:]</span>
</pre></div>
</div>
<p>Segment 1 is moved along the y-axis of 1mm:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gmt</span><span class="o">.</span><span class="n">M1</span><span class="o">.</span><span class="n">motion_CS</span><span class="o">.</span><span class="n">origin</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1e-3</span>
</pre></div>
</div>
<p>All the segments are resetted to their nominal position with</p>
<p>gmt.M1.motion_CS.origin[:] = 0</p>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">shape</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">size</span></code></td>
<td></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="coordinate-system">
<h3>Coordinate_system<a class="headerlink" href="#coordinate-system" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.Coordinate_system">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">Coordinate_system</code><a class="headerlink" href="#ceo.Coordinate_system" title="Permalink to this definition">¶</a></dt>
<dd><p>A class for the coordinate system origins and euler angles</p>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.Coordinate_system.origin" title="ceo.Coordinate_system.origin"><code class="xref py py-obj docutils literal"><span class="pre">origin</span></code></a></td>
<td>origin: ceo.rayTracing.Coordinates</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.Coordinate_system.euler_angles" title="ceo.Coordinate_system.euler_angles"><code class="xref py py-obj docutils literal"><span class="pre">euler_angles</span></code></a></td>
<td>euler_angles: ceo.rayTracing.Coordinates</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="4%" />
<col width="96%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>N</td>
<td>(int) The number of coordinate systems</td>
</tr>
<tr class="row-even"><td>R</td>
<td>(ndarray) The rotation natrix of the coordinate systems as a [N,3,3] array</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.Coordinate_system.reset" title="ceo.Coordinate_system.reset"><code class="xref py py-obj docutils literal"><span class="pre">reset</span></code></a>(self)</td>
<td>Resets the coordinate systems to its nominal position</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.Coordinate_system.update" title="ceo.Coordinate_system.update"><code class="xref py py-obj docutils literal"><span class="pre">update</span></code></a>(self)</td>
<td>Updates the coordinate systems on the device</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="ceo.Coordinate_system.euler_angles">
<code class="descname">euler_angles</code><a class="headerlink" href="#ceo.Coordinate_system.euler_angles" title="Permalink to this definition">¶</a></dt>
<dd><p>euler_angles: ceo.rayTracing.Coordinates</p>
</dd></dl>

<dl class="attribute">
<dt id="ceo.Coordinate_system.origin">
<code class="descname">origin</code><a class="headerlink" href="#ceo.Coordinate_system.origin" title="Permalink to this definition">¶</a></dt>
<dd><p>origin: ceo.rayTracing.Coordinates</p>
</dd></dl>

<dl class="method">
<dt id="ceo.Coordinate_system.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Coordinate_system.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the coordinate systems to its nominal position</p>
</dd></dl>

<dl class="attribute">
<dt id="ceo.Coordinate_system.tag">
<code class="descname">tag</code><a class="headerlink" href="#ceo.Coordinate_system.tag" title="Permalink to this definition">¶</a></dt>
<dd><p>tag: bytes</p>
</dd></dl>

<dl class="method">
<dt id="ceo.Coordinate_system.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Coordinate_system.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the coordinate systems on the device</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="aperture">
<h3>Aperture<a class="headerlink" href="#aperture" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.Aperture">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">Aperture</code><a class="headerlink" href="#ceo.Aperture" title="Permalink to this definition">¶</a></dt>
<dd><p>A class defining a circular aperture for ray tracing</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>D</strong> : float</p>
<blockquote>
<div><p>The aperture diameter [m]</p>
</div></blockquote>
<p><strong>ri</strong> : float</p>
<blockquote>
<div><p>The central obscuration ratio</p>
</div></blockquote>
<p><strong>D_px</strong> : int</p>
<blockquote>
<div><p>The sampling of the diameter [pixel]</p>
</div></blockquote>
<p><strong>origin</strong> : list, optional</p>
<blockquote>
<div><p>The location of the aperture [m]; default: [0.0,0.0,0.0]</p>
</div></blockquote>
<p><strong>euler_angles</strong> : list, optional</p>
<blockquote class="last">
<div><p>The rotation along the x,y and z axis [rd]; default: [0.0,0.0,0.0]</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.Aperture.ref_frame" title="ceo.Aperture.ref_frame"><code class="xref py py-obj docutils literal"><span class="pre">ref_frame</span></code></a></td>
<td>ref_frame: ceo.rayTracing.Coordinate_system</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.Aperture.vignetting" title="ceo.Aperture.vignetting"><code class="xref py py-obj docutils literal"><span class="pre">vignetting</span></code></a>(self,&nbsp;Source&nbsp;src)</td>
<td>Vignets the rays of the source according to the aperture geometry</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="ceo.Aperture.ref_frame">
<code class="descname">ref_frame</code><a class="headerlink" href="#ceo.Aperture.ref_frame" title="Permalink to this definition">¶</a></dt>
<dd><p>ref_frame: ceo.rayTracing.Coordinate_system</p>
</dd></dl>

<dl class="method">
<dt id="ceo.Aperture.vignetting">
<code class="descname">vignetting</code><span class="sig-paren">(</span><em>self</em>, <em>Source src</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Aperture.vignetting" title="Permalink to this definition">¶</a></dt>
<dd><p>Vignets the rays of the source according to the aperture geometry</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>src</strong> : Source</p>
<blockquote class="last">
<div><p>A Source object</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Source" title="ceo.Source"><code class="xref py py-obj docutils literal"><span class="pre">Source</span></code></a></dt>
<dd>the celestial source class</dd>
</dl>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="conic">
<h3>Conic<a class="headerlink" href="#conic" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.Conic">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">Conic</code><a class="headerlink" href="#ceo.Conic" title="Permalink to this definition">¶</a></dt>
<dd><p>A class defining a conic surface</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>c</strong> : rtd</p>
<blockquote>
<div><p>The vertex curvature</p>
</div></blockquote>
<p><strong>k</strong> : rtd</p>
<blockquote>
<div><p>The conic constant</p>
</div></blockquote>
<p><strong>origin</strong> : list, optional</p>
<blockquote>
<div><p>The location of the conic surface [m]; default: [0.0,0.0,0.0]</p>
</div></blockquote>
<p><strong>euler_angles</strong> : list, optional</p>
<blockquote>
<div><p>The rotation along the x,y and z axis [rd]; default: [0.0,0.0,0.0]</p>
</div></blockquote>
<p><strong>conic_origin</strong> : list, optional</p>
<blockquote>
<div><p>The coordinates of the center of the conic surface; default: [0.0,0.0,0.0]</p>
</div></blockquote>
<p><strong>refractive_index</strong> : rtd, optional</p>
<blockquote>
<div><p>The refractive index of the surface, either 0 for a dummy surface, -1 for a reflective surface, &gt;0 for a refractive surface; default: 0.0</p>
</div></blockquote>
<p><strong>coord_break</strong> : bint, optional</p>
<blockquote class="last">
<div><p>The coordinate break surface type flag, True of False; default: False</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.Conic.ref_frame" title="ceo.Conic.ref_frame"><code class="xref py py-obj docutils literal"><span class="pre">ref_frame</span></code></a></td>
<td>ref_frame: ceo.rayTracing.Coordinate_system</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.Conic.coord_break" title="ceo.Conic.coord_break"><code class="xref py py-obj docutils literal"><span class="pre">coord_break</span></code></a></td>
<td>coord_break: &#8216;bool&#8217;</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="91%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>origin</td>
<td>(Coordinates, read only) The location of the origin of the conic surface within the surface coordinate system</td>
</tr>
<tr class="row-even"><td>refractive_index</td>
<td>(rtd, optional) The refractive index of the surface, either 0 for a dummy surface, -1 for a reflective surface, &gt;0 for a refractive surface; default: 0.0</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.Conic.trace" title="ceo.Conic.trace"><code class="xref py py-obj docutils literal"><span class="pre">trace</span></code></a>(self,&nbsp;Source&nbsp;src)</td>
<td>Traces the rays of the source to the conic optical surface</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="ceo.Conic.coord_break">
<code class="descname">coord_break</code><a class="headerlink" href="#ceo.Conic.coord_break" title="Permalink to this definition">¶</a></dt>
<dd><p>coord_break: &#8216;bool&#8217;</p>
</dd></dl>

<dl class="attribute">
<dt id="ceo.Conic.ref_frame">
<code class="descname">ref_frame</code><a class="headerlink" href="#ceo.Conic.ref_frame" title="Permalink to this definition">¶</a></dt>
<dd><p>ref_frame: ceo.rayTracing.Coordinate_system</p>
</dd></dl>

<dl class="method">
<dt id="ceo.Conic.trace">
<code class="descname">trace</code><span class="sig-paren">(</span><em>self</em>, <em>Source src</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Conic.trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Traces the rays of the source to the conic optical surface</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>src</strong> : Source</p>
<blockquote class="last">
<div><p>A Source object</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Source" title="ceo.Source"><code class="xref py py-obj docutils literal"><span class="pre">Source</span></code></a></dt>
<dd>the celestial source class</dd>
</dl>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="zernikes">
<h3>ZernikeS<a class="headerlink" href="#zernikes" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.ZernikeS">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">ZernikeS</code><a class="headerlink" href="#ceo.ZernikeS" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to represent a surface as the weighted sum of Zernike polynomials</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>max_n</strong> : int</p>
<blockquote>
<div><p>The largest of the radial orders</p>
</div></blockquote>
<p><strong>a</strong> : ndarray, optional</p>
<blockquote>
<div><p>The Zernike polynomial coefficients as a N_SURFxn_modes array; default to all 0</p>
</div></blockquote>
<p><strong>N_SURF</strong> : int, optional</p>
<blockquote>
<div><p>The number of Zernike surfaces; default: 1</p>
</div></blockquote>
<p><strong>origin</strong> : list, optional</p>
<blockquote>
<div><p>Origin of the coordinate system of the Zernike polynomials; default: [0,0,0]</p>
</div></blockquote>
<p><strong>euler_angles</strong> : list, optional</p>
<blockquote class="last">
<div><p>Euler angles of the coordinate system of the Zernike polynomials; default: [0,0,0]</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ceo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib</span> <span class="kn">as</span> <span class="nn">plt</span>
</pre></div>
</div>
<p>Lets define a Zernike surface made of the first 15 Zernike polynomials (4th radial order)</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Z</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">ZernikeS</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>and setting it to be a pure focus mode:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Z</span><span class="o">.</span><span class="n">a</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Z</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</pre></div>
</div>
<p>The surface is computed with</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">npx</span> <span class="o">=</span> <span class="mi">512</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">npx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">u</span><span class="p">,</span><span class="n">u</span><span class="p">,</span> <span class="n">indexing</span><span class="o">=</span><span class="s1">&#39;xy&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hypot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">o</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cuo</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">cuDoubleArray</span><span class="p">(</span><span class="n">host_data</span><span class="o">=</span><span class="n">o</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cur</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">cuDoubleArray</span><span class="p">(</span><span class="n">host_data</span><span class="o">=</span><span class="n">r</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S</span> <span class="o">=</span> <span class="n">Z</span><span class="o">.</span><span class="n">surface</span><span class="p">(</span><span class="n">cur</span><span class="p">,</span><span class="n">cuo</span><span class="p">)</span>
</pre></div>
</div>
<p>and its derivative with</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">dSdx</span><span class="p">,</span><span class="n">dSdy</span><span class="p">)</span> <span class="o">=</span> <span class="n">Z</span><span class="o">.</span><span class="n">surface_derivatives</span><span class="p">(</span><span class="n">cur</span><span class="p">,</span><span class="n">cuo</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">ax1</span><span class="p">,</span><span class="n">ax2</span><span class="p">,</span><span class="n">ax3</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">ncols</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">sharey</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mf">4.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h1</span> <span class="o">=</span> <span class="n">ax1</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">host</span><span class="p">(),</span><span class="n">interpolation</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">h1</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h2</span> <span class="o">=</span> <span class="n">ax2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">dSdx</span><span class="o">.</span><span class="n">host</span><span class="p">(),</span><span class="n">interpolation</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">h2</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h3</span> <span class="o">=</span> <span class="n">ax3</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">dSdy</span><span class="o">.</span><span class="n">host</span><span class="p">(),</span><span class="n">interpolation</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">h3</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax3</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.ZernikeS.max_n" title="ceo.ZernikeS.max_n"><code class="xref py py-obj docutils literal"><span class="pre">max_n</span></code></a></td>
<td>max_n: &#8216;int&#8217;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.ZernikeS.n_mode" title="ceo.ZernikeS.n_mode"><code class="xref py py-obj docutils literal"><span class="pre">n_mode</span></code></a></td>
<td>n_mode: &#8216;int&#8217;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.ZernikeS.N_SURF" title="ceo.ZernikeS.N_SURF"><code class="xref py py-obj docutils literal"><span class="pre">N_SURF</span></code></a></td>
<td>N_SURF: &#8216;int&#8217;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.ZernikeS.a" title="ceo.ZernikeS.a"><code class="xref py py-obj docutils literal"><span class="pre">a</span></code></a></td>
<td>a: numpy.ndarray</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.ZernikeS.projection" title="ceo.ZernikeS.projection"><code class="xref py py-obj docutils literal"><span class="pre">projection</span></code></a>(self,&nbsp;cuFloatArray&nbsp;phase,&nbsp;...)</td>
<td>Projects the phase onto a set on Zernike polynomials</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.ZernikeS.reset" title="ceo.ZernikeS.reset"><code class="xref py py-obj docutils literal"><span class="pre">reset</span></code></a>(self)</td>
<td>Resets the Zernike coefficients to zero and update the Zernike surface</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.ZernikeS.surface" title="ceo.ZernikeS.surface"><code class="xref py py-obj docutils literal"><span class="pre">surface</span></code></a>(self,&nbsp;cuDoubleArray&nbsp;r,&nbsp;...)</td>
<td>Computes the Zernike surface in polar coordinates</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.ZernikeS.surface_and_derivatives" title="ceo.ZernikeS.surface_and_derivatives"><code class="xref py py-obj docutils literal"><span class="pre">surface_and_derivatives</span></code></a>(self,&nbsp;...)</td>
<td>Computes the Zernike surface x and y derivatives in polar coordinates</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.ZernikeS.surface_derivatives" title="ceo.ZernikeS.surface_derivatives"><code class="xref py py-obj docutils literal"><span class="pre">surface_derivatives</span></code></a>(self,&nbsp;cuDoubleArray&nbsp;r,&nbsp;...)</td>
<td>Computes the Zernike surface x and y derivatives in polar coordinates</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.ZernikeS.update" title="ceo.ZernikeS.update"><code class="xref py py-obj docutils literal"><span class="pre">update</span></code></a>(self)</td>
<td>Updates the Zernike surface based on the Zernike coefficients</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="ceo.ZernikeS.N_SURF">
<code class="descname">N_SURF</code><a class="headerlink" href="#ceo.ZernikeS.N_SURF" title="Permalink to this definition">¶</a></dt>
<dd><p>N_SURF: &#8216;int&#8217;</p>
</dd></dl>

<dl class="attribute">
<dt id="ceo.ZernikeS.a">
<code class="descname">a</code><a class="headerlink" href="#ceo.ZernikeS.a" title="Permalink to this definition">¶</a></dt>
<dd><p>a: numpy.ndarray</p>
</dd></dl>

<dl class="attribute">
<dt id="ceo.ZernikeS.max_n">
<code class="descname">max_n</code><a class="headerlink" href="#ceo.ZernikeS.max_n" title="Permalink to this definition">¶</a></dt>
<dd><p>max_n: &#8216;int&#8217;</p>
</dd></dl>

<dl class="attribute">
<dt id="ceo.ZernikeS.n_mode">
<code class="descname">n_mode</code><a class="headerlink" href="#ceo.ZernikeS.n_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>n_mode: &#8216;int&#8217;</p>
</dd></dl>

<dl class="method">
<dt id="ceo.ZernikeS.projection">
<code class="descname">projection</code><span class="sig-paren">(</span><em>self</em>, <em>cuFloatArray phase</em>, <em>cuDoubleArray r</em>, <em>cuDoubleArray o</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.ZernikeS.projection" title="Permalink to this definition">¶</a></dt>
<dd><p>Projects the phase onto a set on Zernike polynomials</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>phase</strong> : cuFloatArray</p>
<blockquote>
<div><p>The wavefront phase</p>
</div></blockquote>
<p><strong>r</strong> : cuDoubleArray</p>
<blockquote>
<div><p>The radius of the coordinates</p>
</div></blockquote>
<p><strong>o</strong> : cuDoubleArray</p>
<blockquote class="last">
<div><p>The azimuth of the coordinates</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.ZernikeS.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.ZernikeS.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the Zernike coefficients to zero and update the Zernike surface</p>
</dd></dl>

<dl class="method">
<dt id="ceo.ZernikeS.surface">
<code class="descname">surface</code><span class="sig-paren">(</span><em>self</em>, <em>cuDoubleArray r</em>, <em>cuDoubleArray o</em>, <em>int surf_id=0</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.ZernikeS.surface" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the Zernike surface in polar coordinates</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>r</strong> : cuDoubleArray</p>
<blockquote>
<div><p>The normalized radius</p>
</div></blockquote>
<p><strong>o</strong> : cuDoubleArray</p>
<blockquote>
<div><p>The azimuth</p>
</div></blockquote>
<p><strong>surf_id</strong> : int, optional</p>
<blockquote>
<div><p>The surface index; default: 0</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>S</strong> : cuDoubleArray</p>
<blockquote class="last">
<div><p>The Zernike surface</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.ZernikeS.surface_and_derivatives">
<code class="descname">surface_and_derivatives</code><span class="sig-paren">(</span><em>self</em>, <em>cuDoubleArray r</em>, <em>cuDoubleArray o</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.ZernikeS.surface_and_derivatives" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the Zernike surface x and y derivatives in polar coordinates</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>r</strong> : cuDoubleArray</p>
<blockquote>
<div><p>The normalized radius</p>
</div></blockquote>
<p><strong>o</strong> : cuDoubleArray</p>
<blockquote>
<div><p>The azimuth</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>S</strong> : cuDoubleArray</p>
<blockquote>
<div><p>The Zernike surface</p>
</div></blockquote>
<p><strong>dSdx</strong> : cuDoubleArray</p>
<blockquote>
<div><p>The Zernike surface x derivative</p>
</div></blockquote>
<p><strong>dSdy</strong> : cuDoubleArray</p>
<blockquote class="last">
<div><p>The Zernike surface y derivative</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.ZernikeS.surface_derivatives">
<code class="descname">surface_derivatives</code><span class="sig-paren">(</span><em>self</em>, <em>cuDoubleArray r</em>, <em>cuDoubleArray o</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.ZernikeS.surface_derivatives" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the Zernike surface x and y derivatives in polar coordinates</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>r</strong> : cuDoubleArray</p>
<blockquote>
<div><p>The normalized radius</p>
</div></blockquote>
<p><strong>o</strong> : cuDoubleArray</p>
<blockquote>
<div><p>The azimuth</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>dSdx</strong> : cuDoubleArray</p>
<blockquote>
<div><p>The Zernike surface x derivative</p>
</div></blockquote>
<p><strong>dSdy</strong> : cuDoubleArray</p>
<blockquote class="last">
<div><p>The Zernike surface y derivative</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.ZernikeS.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.ZernikeS.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the Zernike surface based on the Zernike coefficients</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="transform-to-s">
<h3>Transform_to_S<a class="headerlink" href="#transform-to-s" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="ceo.Transform_to_S">
<code class="descclassname">ceo.</code><code class="descname">Transform_to_S</code><span class="sig-paren">(</span><em>Source src</em>, <em>Conic F</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Transform_to_S" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the rays of the source into the coordinate system of the conic object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>src</strong> : Source</p>
<blockquote>
<div><p>A Source object</p>
</div></blockquote>
<p><strong>F</strong> : Conic</p>
<blockquote class="last">
<div><p>A Conic object</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Source" title="ceo.Source"><code class="xref py py-obj docutils literal"><span class="pre">Source</span></code></a></dt>
<dd>the celestial source class</dd>
<dt><a class="reference internal" href="#ceo.Conic" title="ceo.Conic"><code class="xref py py-obj docutils literal"><span class="pre">Conic</span></code></a></dt>
<dd>the optics conic surface class</dd>
</dl>
</div>
</dd></dl>

</div>
<div class="section" id="transform-to-r">
<h3>Transform_to_R<a class="headerlink" href="#transform-to-r" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="ceo.Transform_to_R">
<code class="descclassname">ceo.</code><code class="descname">Transform_to_R</code><span class="sig-paren">(</span><em>Source src</em>, <em>Conic F</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Transform_to_R" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the rays of the source into the coordinate system of the rays
This is the inverse of Transform_to_S</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>src</strong> : Source</p>
<blockquote>
<div><p>A Source object</p>
</div></blockquote>
<p><strong>F</strong> : Conic</p>
<blockquote class="last">
<div><p>A Conic object</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Source" title="ceo.Source"><code class="xref py py-obj docutils literal"><span class="pre">Source</span></code></a></dt>
<dd>the celestial source class</dd>
<dt><a class="reference internal" href="#ceo.Conic" title="ceo.Conic"><code class="xref py py-obj docutils literal"><span class="pre">Conic</span></code></a></dt>
<dd>the optics conic surface class</dd>
</dl>
</div>
</dd></dl>

</div>
<div class="section" id="intersect">
<h3>Intersect<a class="headerlink" href="#intersect" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="ceo.Intersect">
<code class="descclassname">ceo.</code><code class="descname">Intersect</code><span class="sig-paren">(</span><em>Source src</em>, <em>Conic F</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Intersect" title="Permalink to this definition">¶</a></dt>
<dd><p>Intersection of the rays of the source with the surface represented by the conic object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>src</strong> : Source</p>
<blockquote>
<div><p>A Source object</p>
</div></blockquote>
<p><strong>F</strong> : Conic</p>
<blockquote class="last">
<div><p>A Conic object</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Source" title="ceo.Source"><code class="xref py py-obj docutils literal"><span class="pre">Source</span></code></a></dt>
<dd>the celestial source class</dd>
<dt><a class="reference internal" href="#ceo.Conic" title="ceo.Conic"><code class="xref py py-obj docutils literal"><span class="pre">Conic</span></code></a></dt>
<dd>the optics conic surface class</dd>
</dl>
</div>
</dd></dl>

</div>
<div class="section" id="reflect">
<h3>Reflect<a class="headerlink" href="#reflect" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="ceo.Reflect">
<code class="descclassname">ceo.</code><code class="descname">Reflect</code><span class="sig-paren">(</span><em>Source src</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Reflect" title="Permalink to this definition">¶</a></dt>
<dd><p>Reflection of the rays of the source from the surface represented by the conic object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>src</strong> : Source</p>
<blockquote class="last">
<div><p>A Source object</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Source" title="ceo.Source"><code class="xref py py-obj docutils literal"><span class="pre">Source</span></code></a></dt>
<dd>the celestial source class</dd>
</dl>
</div>
</dd></dl>

</div>
<div class="section" id="refract">
<h3>Refract<a class="headerlink" href="#refract" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="ceo.Refract">
<code class="descclassname">ceo.</code><code class="descname">Refract</code><span class="sig-paren">(</span><em>Source src</em>, <em>rtd mu</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.Refract" title="Permalink to this definition">¶</a></dt>
<dd><p>Refraction of the rays of the source through the surface represented by the conic object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>src</strong> : Source</p>
<blockquote>
<div><p>A Source object</p>
</div></blockquote>
<p><strong>mu</strong> : rtd</p>
<blockquote class="last">
<div><p>The ratio of the index of refraction associated to the incident and refracted rays</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Source" title="ceo.Source"><code class="xref py py-obj docutils literal"><span class="pre">Source</span></code></a></dt>
<dd>the celestial source class</dd>
</dl>
</div>
</dd></dl>

</div>
</div>
<div class="section" id="gmtmirrors">
<h2>gmtMirrors<a class="headerlink" href="#gmtmirrors" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id5">
<h3>GmtMirrors<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.GmtMirrors">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">GmtMirrors</code><a class="headerlink" href="#ceo.GmtMirrors" title="Permalink to this definition">¶</a></dt>
<dd><p>A class container from GMT_M1 and GMT_M2 classes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>D</strong> : float</p>
<blockquote>
<div><p>The size of the pupil plane in meter</p>
</div></blockquote>
<p><strong>D_px</strong> : int</p>
<blockquote>
<div><p>The size of the pupil plane in pixel</p>
</div></blockquote>
<p><strong>M1_radial_order</strong> : int, optionnal</p>
<blockquote>
<div><p>The largest radial order of the Zernike polynomials on M1 segments, default to 0</p>
</div></blockquote>
<p><strong>M2_radial_order</strong> : int, optionnal</p>
<blockquote class="last">
<div><p>The largest radial order of the Zernike polynomials on M2 segments, default to 0</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.GMT_M1" title="ceo.GMT_M1"><code class="xref py py-obj docutils literal"><span class="pre">GMT_M1</span></code></a></dt>
<dd>the class for GMT M1 model</dd>
<dt><a class="reference internal" href="#ceo.GMT_M2" title="ceo.GMT_M2"><code class="xref py py-obj docutils literal"><span class="pre">GMT_M2</span></code></a></dt>
<dd>the class for GMT M2 model</dd>
<dt><a class="reference internal" href="#ceo.Source" title="ceo.Source"><code class="xref py py-obj docutils literal"><span class="pre">Source</span></code></a></dt>
<dd>a class for astronomical sources</dd>
<dt><a class="reference internal" href="#ceo.cuFloatArray" title="ceo.cuFloatArray"><code class="xref py py-obj docutils literal"><span class="pre">cuFloatArray</span></code></a></dt>
<dd>an interface class between GPU host and device data for floats</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ceo</span>
</pre></div>
</div>
<p>The mandatory parameters are the size of the pupil plane in meter or in pixel</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gmt</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">GMT_MX</span><span class="p">(</span><span class="mf">25.5</span><span class="p">,</span><span class="mi">256</span><span class="p">)</span>
</pre></div>
</div>
<p>If more that one source (lets say 3) is going to be propagated through the telescope:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gmt</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">GMT_MX</span><span class="p">(</span><span class="mf">25.5</span><span class="p">,</span><span class="mi">256</span><span class="p">,</span> <span class="n">N_SRC</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>A combination of Zernike polynomials can be applied to M1 and M2 segments by specifying the largest radial order on each mirror</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gmt</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">GMT_MX</span><span class="p">(</span><span class="mf">25.5</span><span class="p">,</span><span class="mi">256</span><span class="p">,</span> <span class="n">M1_radial_order</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">M2_radial_order</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
</pre></div>
</div>
<p>A source is propagated (geometrically) through the telescope with the following procedure:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">src</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">Source</span><span class="p">(</span><span class="s2">&quot;R&quot;</span><span class="p">,</span><span class="n">rays_box_size</span><span class="o">=</span><span class="mf">25.5</span><span class="p">,</span><span class="n">rays_box_sampling</span><span class="o">=</span><span class="mi">256</span><span class="p">,</span><span class="n">rays_origin</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mi">25</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gmt</span><span class="o">.</span><span class="n">propagate</span><span class="p">(</span><span class="n">src</span><span class="p">)</span>
</pre></div>
</div>
<p>and the wavefront phase is retrieved either as a 2D map cuFloatArray object with</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gpu_ps2d</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">phase</span><span class="p">()</span>
</pre></div>
</div>
<p>or as a 1D vector with</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gpu_ps1d</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">wavefront</span><span class="o">.</span><span class="n">phase</span><span class="p">()</span>
</pre></div>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>D</td>
<td>(float) The size of the pupil plane in meter</td>
</tr>
<tr class="row-even"><td>D_px</td>
<td>(int) The size of the pupil plane in pixel</td>
</tr>
<tr class="row-odd"><td>M1</td>
<td>(GMT_M1) The GMT M1 CEO class</td>
</tr>
<tr class="row-even"><td>M2</td>
<td>(GMT_M2) The GMT M2 CEO class</td>
</tr>
<tr class="row-odd"><td>sphere_radius</td>
<td>(float) The curvature radius of the ray tracing reference sphere</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.GmtMirrors.dump_log" title="ceo.GmtMirrors.dump_log"><code class="xref py py-obj docutils literal"><span class="pre">dump_log</span></code></a>(self,&nbsp;bytes&nbsp;filename)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.GmtMirrors.propagate" title="ceo.GmtMirrors.propagate"><code class="xref py py-obj docutils literal"><span class="pre">propagate</span></code></a>(self,&nbsp;Source&nbsp;src[,&nbsp;where_to,&nbsp;...])</td>
<td>Propagate the Source object to the pupil plane conjugated to M1</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.GmtMirrors.reset" title="ceo.GmtMirrors.reset"><code class="xref py py-obj docutils literal"><span class="pre">reset</span></code></a>(self)</td>
<td>Reset M1 and M2 mirror segments to their original locations and shapes</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.GmtMirrors.dump_log">
<code class="descname">dump_log</code><span class="sig-paren">(</span><em>self</em>, <em>bytes filename</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.GmtMirrors.dump_log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ceo.GmtMirrors.propagate">
<code class="descname">propagate</code><span class="sig-paren">(</span><em>self</em>, <em>Source src</em>, <em>where_to='exit pupil'</em>, <em>M2_is_a_stop=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.GmtMirrors.propagate" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagate the Source object to the pupil plane conjugated to M1</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>src</strong> : Source</p>
<blockquote>
<div><p>The Source object</p>
</div></blockquote>
<p><strong>where_to: char, optional</strong></p>
<blockquote>
<div><p>Either &#8220;exit pupil&#8221; or &#8220;focal plane&#8221;; default: &#8220;exit pupil&#8221;</p>
</div></blockquote>
<p><strong>M2_is_a_stop: boolean, optional</strong></p>
<blockquote class="last">
<div><p>Set if M2 acts also a stop; default: True</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.GmtMirrors.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.GmtMirrors.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset M1 and M2 mirror segments to their original locations and shapes</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="gmt-m1">
<h3>GMT M1<a class="headerlink" href="#gmt-m1" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.GMT_M1">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">GMT_M1</code><a class="headerlink" href="#ceo.GMT_M1" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to represent GMT M1 or M2 segmented mirror</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>D</strong> : float</p>
<blockquote>
<div><p>The size in meter of the pupil plane (must be equal or larger than the telescope diameter)</p>
</div></blockquote>
<p><strong>D_px</strong> : float</p>
<blockquote>
<div><p>The size in pxixel of the pupil plane</p>
</div></blockquote>
<p><strong>radial_order</strong> : int, optional</p>
<blockquote class="last">
<div><p>The radial order of the last Zernike polynomials, default to 0</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ceo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M1</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">GMT_M1</span><span class="p">(</span><span class="mf">25.5</span><span class="p">,</span><span class="mi">101</span><span class="p">)</span>
</pre></div>
</div>
<p>With multiple sources:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">M2</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">GMT_M2</span><span class="p">(</span><span class="mf">25.5</span><span class="p">,</span><span class="mi">101</span><span class="p">,</span><span class="n">N_SRC</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>With Zernike modes</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">M1</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">GMT_M1</span><span class="p">(</span><span class="mf">25.5</span><span class="p">,</span><span class="mi">101</span><span class="p">,</span><span class="n">radial_order</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>An M1 segment (#2) is displaced in x of 2 micron and tilted in y of 50mas with</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">math</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theta</span> <span class="o">=</span> <span class="mf">50e-3</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">180</span><span class="o">/</span><span class="mi">3600</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M1</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="p">[</span><span class="mf">2e-6</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="n">euler_angles</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">theta</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="n">idx</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>A global tip-tilt of M1 is achieved with</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">M1</span><span class="o">.</span><span class="n">global_tiptilt</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span><span class="o">-</span><span class="n">theta</span><span class="p">)</span>
</pre></div>
</div>
<p>M2 pointing neutral and coma neutral tip-tilt are realized with</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">M2</span><span class="o">.</span><span class="n">pointing_neutral</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span><span class="o">-</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M2</span><span class="o">.</span><span class="n">coma_neutral</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span><span class="o">-</span><span class="n">theta</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.GMT_M1.zernike" title="ceo.GMT_M1.zernike"><code class="xref py py-obj docutils literal"><span class="pre">zernike</span></code></a></td>
<td>zernike: ceo.rayTracing.ZernikeS</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.GMT_M1.aperture_CS" title="ceo.GMT_M1.aperture_CS"><code class="xref py py-obj docutils literal"><span class="pre">aperture_CS</span></code></a></td>
<td>aperture_CS: ceo.rayTracing.Coordinate_system</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.GMT_M1.conic_CS" title="ceo.GMT_M1.conic_CS"><code class="xref py py-obj docutils literal"><span class="pre">conic_CS</span></code></a></td>
<td>conic_CS: ceo.rayTracing.Coordinate_system</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.GMT_M1.motion_CS" title="ceo.GMT_M1.motion_CS"><code class="xref py py-obj docutils literal"><span class="pre">motion_CS</span></code></a></td>
<td>motion_CS: ceo.rayTracing.Coordinate_system</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.GMT_M1.rigid_body_CS" title="ceo.GMT_M1.rigid_body_CS"><code class="xref py py-obj docutils literal"><span class="pre">rigid_body_CS</span></code></a></td>
<td>rigid_body_CS: ceo.rayTracing.Coordinate_system</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.GMT_M1.TT_CS" title="ceo.GMT_M1.TT_CS"><code class="xref py py-obj docutils literal"><span class="pre">TT_CS</span></code></a></td>
<td>TT_CS: ceo.rayTracing.Coordinate_system</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>D_assembly</td>
<td>(rtd) The mirror assembly diameter</td>
</tr>
<tr class="row-even"><td>D_full</td>
<td>(rtd) The segment full aperture diameter</td>
</tr>
<tr class="row-odd"><td>D_clear</td>
<td>(rtd) The segment clear aperture diameter</td>
</tr>
<tr class="row-even"><td>L</td>
<td>(rtd) The distance from the optical axis to the center of the tilted peripheral segments</td>
</tr>
<tr class="row-odd"><td>conic_c</td>
<td>(rtd) The inverse of the mirror radius of curvature</td>
</tr>
<tr class="row-even"><td>conic_k</td>
<td>(rtd) The conic parametert</td>
</tr>
<tr class="row-odd"><td>M_ID</td>
<td>(int) The mirror ID #</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.GMT_M1.blocking" title="ceo.GMT_M1.blocking"><code class="xref py py-obj docutils literal"><span class="pre">blocking</span></code></a>(self,&nbsp;Bundle&nbsp;rays)</td>
<td>Makes the mirror acting as a stop</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.GMT_M1.global_tiptilt" title="ceo.GMT_M1.global_tiptilt"><code class="xref py py-obj docutils literal"><span class="pre">global_tiptilt</span></code></a>(self,&nbsp;float&nbsp;tip,&nbsp;float&nbsp;tilt)</td>
<td>Applies a global tip&#8211;tilt to M1</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.GMT_M1.preset" title="ceo.GMT_M1.preset"><code class="xref py py-obj docutils literal"><span class="pre">preset</span></code></a>(self,&nbsp;Bundle&nbsp;rays,&nbsp;float&nbsp;margin)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.GMT_M1.test" title="ceo.GMT_M1.test"><code class="xref py py-obj docutils literal"><span class="pre">test</span></code></a>(self)</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.GMT_M1.trace" title="ceo.GMT_M1.trace"><code class="xref py py-obj docutils literal"><span class="pre">trace</span></code></a>(self,&nbsp;Bundle&nbsp;rays)</td>
<td>Ray tracing to the mirror</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.GMT_M1.track" title="ceo.GMT_M1.track"><code class="xref py py-obj docutils literal"><span class="pre">track</span></code></a>(self,&nbsp;ndarray&nbsp;x,&nbsp;ndarray&nbsp;y,&nbsp;int&nbsp;segId)</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.GMT_M1.update" title="ceo.GMT_M1.update"><code class="xref py py-obj docutils literal"><span class="pre">update</span></code></a>(self,&nbsp;list&nbsp;origin=[0.0,&nbsp;0.0,&nbsp;0.0],&nbsp;...)</td>
<td>Updates the position of the mirror segments</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="ceo.GMT_M1.TT_CS">
<code class="descname">TT_CS</code><a class="headerlink" href="#ceo.GMT_M1.TT_CS" title="Permalink to this definition">¶</a></dt>
<dd><p>TT_CS: ceo.rayTracing.Coordinate_system</p>
</dd></dl>

<dl class="attribute">
<dt id="ceo.GMT_M1.aperture_CS">
<code class="descname">aperture_CS</code><a class="headerlink" href="#ceo.GMT_M1.aperture_CS" title="Permalink to this definition">¶</a></dt>
<dd><p>aperture_CS: ceo.rayTracing.Coordinate_system</p>
</dd></dl>

<dl class="method">
<dt id="ceo.GMT_M1.blocking">
<code class="descname">blocking</code><span class="sig-paren">(</span><em>self</em>, <em>Bundle rays</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.GMT_M1.blocking" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes the mirror acting as a stop</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>rays</strong> : Bundle</p>
<blockquote class="last">
<div><p>A ray bundle used to propagate the light</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Bundle" title="ceo.Bundle"><code class="xref py py-obj docutils literal"><span class="pre">Bundle</span></code></a></dt>
<dd>a class representing a bundle of light rays used for geometric propagation</dd>
</dl>
</div>
</dd></dl>

<dl class="attribute">
<dt id="ceo.GMT_M1.conic_CS">
<code class="descname">conic_CS</code><a class="headerlink" href="#ceo.GMT_M1.conic_CS" title="Permalink to this definition">¶</a></dt>
<dd><p>conic_CS: ceo.rayTracing.Coordinate_system</p>
</dd></dl>

<dl class="method">
<dt id="ceo.GMT_M1.global_tiptilt">
<code class="descname">global_tiptilt</code><span class="sig-paren">(</span><em>self</em>, <em>float tip</em>, <em>float tilt</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.GMT_M1.global_tiptilt" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies a global tip&#8211;tilt to M1</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>tip</strong> : float</p>
<blockquote>
<div><p>The x axis angle</p>
</div></blockquote>
<p><strong>tilt</strong> : float</p>
<blockquote class="last">
<div><p>The y axis angle</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="ceo.GMT_M1.motion_CS">
<code class="descname">motion_CS</code><a class="headerlink" href="#ceo.GMT_M1.motion_CS" title="Permalink to this definition">¶</a></dt>
<dd><p>motion_CS: ceo.rayTracing.Coordinate_system</p>
</dd></dl>

<dl class="method">
<dt id="ceo.GMT_M1.preset">
<code class="descname">preset</code><span class="sig-paren">(</span><em>self</em>, <em>Bundle rays</em>, <em>float margin</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.GMT_M1.preset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="ceo.GMT_M1.rigid_body_CS">
<code class="descname">rigid_body_CS</code><a class="headerlink" href="#ceo.GMT_M1.rigid_body_CS" title="Permalink to this definition">¶</a></dt>
<dd><p>rigid_body_CS: ceo.rayTracing.Coordinate_system</p>
</dd></dl>

<dl class="method">
<dt id="ceo.GMT_M1.test">
<code class="descname">test</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.GMT_M1.test" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ceo.GMT_M1.trace">
<code class="descname">trace</code><span class="sig-paren">(</span><em>self</em>, <em>Bundle rays</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.GMT_M1.trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Ray tracing to the mirror</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>rays</strong> : Bundle</p>
<blockquote class="last">
<div><p>A ray bundle used to propagate the light</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Bundle" title="ceo.Bundle"><code class="xref py py-obj docutils literal"><span class="pre">Bundle</span></code></a></dt>
<dd>a class representing a bundle of light rays used for geometric propagation</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="ceo.GMT_M1.track">
<code class="descname">track</code><span class="sig-paren">(</span><em>self</em>, <em>ndarray x</em>, <em>ndarray y</em>, <em>int segId</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.GMT_M1.track" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ceo.GMT_M1.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>self, list origin=[0.0, 0.0, 0.0], list euler_angles=[0.0, 0.0, 0.0], int idx=0</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.GMT_M1.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the position of the mirror segments</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>origin</strong> : list of float, optional</p>
<blockquote>
<div><p>The location of a segment center; default: [0,0,0]</p>
</div></blockquote>
<p><strong>euler_angles</strong> : list of float, optional</p>
<blockquote>
<div><p>The tip, tilt and clock angles of a segment; default: [0,0,0]</p>
</div></blockquote>
<p><strong>idx</strong> : int</p>
<blockquote class="last">
<div><p>The segment index from 1 to 7</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="ceo.GMT_M1.zernike">
<code class="descname">zernike</code><a class="headerlink" href="#ceo.GMT_M1.zernike" title="Permalink to this definition">¶</a></dt>
<dd><p>zernike: ceo.rayTracing.ZernikeS</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="gmt-m2">
<h3>GMT M2<a class="headerlink" href="#gmt-m2" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.GMT_M2">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">GMT_M2</code><a class="headerlink" href="#ceo.GMT_M2" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to represent GMT M1 or M2 segmented mirror</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>D</strong> : float</p>
<blockquote>
<div><p>The size in meter of the pupil plane (must be equal or larger than the telescope diameter)</p>
</div></blockquote>
<p><strong>D_px</strong> : float</p>
<blockquote>
<div><p>The size in pxixel of the pupil plane</p>
</div></blockquote>
<p><strong>radial_order</strong> : int, optional</p>
<blockquote class="last">
<div><p>The radial order of the last Zernike polynomials, default to 0</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ceo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M1</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">GMT_M1</span><span class="p">(</span><span class="mf">25.5</span><span class="p">,</span><span class="mi">101</span><span class="p">)</span>
</pre></div>
</div>
<p>With multiple sources:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">M2</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">GMT_M2</span><span class="p">(</span><span class="mf">25.5</span><span class="p">,</span><span class="mi">101</span><span class="p">,</span><span class="n">N_SRC</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>With Zernike modes</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">M1</span> <span class="o">=</span> <span class="n">ceo</span><span class="o">.</span><span class="n">GMT_M1</span><span class="p">(</span><span class="mf">25.5</span><span class="p">,</span><span class="mi">101</span><span class="p">,</span><span class="n">radial_order</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>An M1 segment (#2) is displaced in x of 2 micron and tilted in y of 50mas with</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">math</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theta</span> <span class="o">=</span> <span class="mf">50e-3</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">180</span><span class="o">/</span><span class="mi">3600</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M1</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="p">[</span><span class="mf">2e-6</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="n">euler_angles</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">theta</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="n">idx</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>A global tip-tilt of M1 is achieved with</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">M1</span><span class="o">.</span><span class="n">global_tiptilt</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span><span class="o">-</span><span class="n">theta</span><span class="p">)</span>
</pre></div>
</div>
<p>M2 pointing neutral and coma neutral tip-tilt are realized with</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">M2</span><span class="o">.</span><span class="n">pointing_neutral</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span><span class="o">-</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M2</span><span class="o">.</span><span class="n">coma_neutral</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span><span class="o">-</span><span class="n">theta</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.GMT_M2.zernike" title="ceo.GMT_M2.zernike"><code class="xref py py-obj docutils literal"><span class="pre">zernike</span></code></a></td>
<td>zernike: ceo.rayTracing.ZernikeS</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.GMT_M2.aperture_CS" title="ceo.GMT_M2.aperture_CS"><code class="xref py py-obj docutils literal"><span class="pre">aperture_CS</span></code></a></td>
<td>aperture_CS: ceo.rayTracing.Coordinate_system</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.GMT_M2.conic_CS" title="ceo.GMT_M2.conic_CS"><code class="xref py py-obj docutils literal"><span class="pre">conic_CS</span></code></a></td>
<td>conic_CS: ceo.rayTracing.Coordinate_system</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.GMT_M2.motion_CS" title="ceo.GMT_M2.motion_CS"><code class="xref py py-obj docutils literal"><span class="pre">motion_CS</span></code></a></td>
<td>motion_CS: ceo.rayTracing.Coordinate_system</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.GMT_M2.rigid_body_CS" title="ceo.GMT_M2.rigid_body_CS"><code class="xref py py-obj docutils literal"><span class="pre">rigid_body_CS</span></code></a></td>
<td>rigid_body_CS: ceo.rayTracing.Coordinate_system</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.GMT_M2.TT_CS" title="ceo.GMT_M2.TT_CS"><code class="xref py py-obj docutils literal"><span class="pre">TT_CS</span></code></a></td>
<td>TT_CS: ceo.rayTracing.Coordinate_system</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>D_assembly</td>
<td>(rtd) The mirror assembly diameter</td>
</tr>
<tr class="row-even"><td>D_full</td>
<td>(rtd) The segment full aperture diameter</td>
</tr>
<tr class="row-odd"><td>D_clear</td>
<td>(rtd) The segment clear aperture diameter</td>
</tr>
<tr class="row-even"><td>L</td>
<td>(rtd) The distance from the optical axis to the center of the tilted peripheral segments</td>
</tr>
<tr class="row-odd"><td>conic_c</td>
<td>(rtd) The inverse of the mirror radius of curvature</td>
</tr>
<tr class="row-even"><td>conic_k</td>
<td>(rtd) The conic parametert</td>
</tr>
<tr class="row-odd"><td>M_ID</td>
<td>(int) The mirror ID #</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.GMT_M2.blocking" title="ceo.GMT_M2.blocking"><code class="xref py py-obj docutils literal"><span class="pre">blocking</span></code></a>(self,&nbsp;Bundle&nbsp;rays)</td>
<td>Makes the mirror acting as a stop</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.GMT_M2.coma_neutral" title="ceo.GMT_M2.coma_neutral"><code class="xref py py-obj docutils literal"><span class="pre">coma_neutral</span></code></a>(self,&nbsp;float&nbsp;tip,&nbsp;float&nbsp;tilt)</td>
<td>Applies a coma neutral global tip&#8211;tilt to M2</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.GMT_M2.global_tiptilt" title="ceo.GMT_M2.global_tiptilt"><code class="xref py py-obj docutils literal"><span class="pre">global_tiptilt</span></code></a>(self,&nbsp;float&nbsp;tip,&nbsp;float&nbsp;tilt)</td>
<td>Applies a global tip&#8211;tilt to M1</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.GMT_M2.pointing_neutral" title="ceo.GMT_M2.pointing_neutral"><code class="xref py py-obj docutils literal"><span class="pre">pointing_neutral</span></code></a>(self,&nbsp;float&nbsp;tip,&nbsp;float&nbsp;tilt)</td>
<td>Applies a pointing neutral global tip&#8211;tilt to M2</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.GMT_M2.trace" title="ceo.GMT_M2.trace"><code class="xref py py-obj docutils literal"><span class="pre">trace</span></code></a>(self,&nbsp;Bundle&nbsp;rays)</td>
<td>Ray tracing to the mirror</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.GMT_M2.update" title="ceo.GMT_M2.update"><code class="xref py py-obj docutils literal"><span class="pre">update</span></code></a>(self,&nbsp;list&nbsp;origin=[0.0,&nbsp;0.0,&nbsp;0.0],&nbsp;...)</td>
<td>Updates the position of the mirror segments</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="ceo.GMT_M2.TT_CS">
<code class="descname">TT_CS</code><a class="headerlink" href="#ceo.GMT_M2.TT_CS" title="Permalink to this definition">¶</a></dt>
<dd><p>TT_CS: ceo.rayTracing.Coordinate_system</p>
</dd></dl>

<dl class="attribute">
<dt id="ceo.GMT_M2.aperture_CS">
<code class="descname">aperture_CS</code><a class="headerlink" href="#ceo.GMT_M2.aperture_CS" title="Permalink to this definition">¶</a></dt>
<dd><p>aperture_CS: ceo.rayTracing.Coordinate_system</p>
</dd></dl>

<dl class="method">
<dt id="ceo.GMT_M2.blocking">
<code class="descname">blocking</code><span class="sig-paren">(</span><em>self</em>, <em>Bundle rays</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.GMT_M2.blocking" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes the mirror acting as a stop</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>rays</strong> : Bundle</p>
<blockquote class="last">
<div><p>A ray bundle used to propagate the light</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Bundle" title="ceo.Bundle"><code class="xref py py-obj docutils literal"><span class="pre">Bundle</span></code></a></dt>
<dd>a class representing a bundle of light rays used for geometric propagation</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="ceo.GMT_M2.coma_neutral">
<code class="descname">coma_neutral</code><span class="sig-paren">(</span><em>self</em>, <em>float tip</em>, <em>float tilt</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.GMT_M2.coma_neutral" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies a coma neutral global tip&#8211;tilt to M2</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>tip</strong> : float</p>
<blockquote>
<div><p>The x axis angle</p>
</div></blockquote>
<p><strong>tilt</strong> : float</p>
<blockquote class="last">
<div><p>The y axis angle</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="ceo.GMT_M2.conic_CS">
<code class="descname">conic_CS</code><a class="headerlink" href="#ceo.GMT_M2.conic_CS" title="Permalink to this definition">¶</a></dt>
<dd><p>conic_CS: ceo.rayTracing.Coordinate_system</p>
</dd></dl>

<dl class="method">
<dt id="ceo.GMT_M2.global_tiptilt">
<code class="descname">global_tiptilt</code><span class="sig-paren">(</span><em>self</em>, <em>float tip</em>, <em>float tilt</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.GMT_M2.global_tiptilt" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies a global tip&#8211;tilt to M1</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>tip</strong> : float</p>
<blockquote>
<div><p>The x axis angle</p>
</div></blockquote>
<p><strong>tilt</strong> : float</p>
<blockquote class="last">
<div><p>The y axis angle</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="ceo.GMT_M2.motion_CS">
<code class="descname">motion_CS</code><a class="headerlink" href="#ceo.GMT_M2.motion_CS" title="Permalink to this definition">¶</a></dt>
<dd><p>motion_CS: ceo.rayTracing.Coordinate_system</p>
</dd></dl>

<dl class="method">
<dt id="ceo.GMT_M2.pointing_neutral">
<code class="descname">pointing_neutral</code><span class="sig-paren">(</span><em>self</em>, <em>float tip</em>, <em>float tilt</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.GMT_M2.pointing_neutral" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies a pointing neutral global tip&#8211;tilt to M2</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>tip</strong> : float</p>
<blockquote>
<div><p>The x axis angle</p>
</div></blockquote>
<p><strong>tilt</strong> : float</p>
<blockquote class="last">
<div><p>The y axis angle</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="ceo.GMT_M2.rigid_body_CS">
<code class="descname">rigid_body_CS</code><a class="headerlink" href="#ceo.GMT_M2.rigid_body_CS" title="Permalink to this definition">¶</a></dt>
<dd><p>rigid_body_CS: ceo.rayTracing.Coordinate_system</p>
</dd></dl>

<dl class="method">
<dt id="ceo.GMT_M2.trace">
<code class="descname">trace</code><span class="sig-paren">(</span><em>self</em>, <em>Bundle rays</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.GMT_M2.trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Ray tracing to the mirror</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>rays</strong> : Bundle</p>
<blockquote class="last">
<div><p>A ray bundle used to propagate the light</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Bundle" title="ceo.Bundle"><code class="xref py py-obj docutils literal"><span class="pre">Bundle</span></code></a></dt>
<dd>a class representing a bundle of light rays used for geometric propagation</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="ceo.GMT_M2.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>self, list origin=[0.0, 0.0, 0.0], list euler_angles=[0.0, 0.0, 0.0], int idx=0</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.GMT_M2.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the position of the mirror segments</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>origin</strong> : list of float, optional</p>
<blockquote>
<div><p>The location of a segment center; default: [0,0,0]</p>
</div></blockquote>
<p><strong>euler_angles</strong> : list of float, optional</p>
<blockquote>
<div><p>The tip, tilt and clock angles of a segment; default: [0,0,0]</p>
</div></blockquote>
<p><strong>idx</strong> : int</p>
<blockquote class="last">
<div><p>The segment index from 1 to 7</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="ceo.GMT_M2.zernike">
<code class="descname">zernike</code><a class="headerlink" href="#ceo.GMT_M2.zernike" title="Permalink to this definition">¶</a></dt>
<dd><p>zernike: ceo.rayTracing.ZernikeS</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="stereoscopicedgesensors">
<h3>StereoscopicEdgeSensors<a class="headerlink" href="#stereoscopicedgesensors" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.StereoscopicEdgeSensors">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">StereoscopicEdgeSensors</code><a class="headerlink" href="#ceo.StereoscopicEdgeSensors" title="Permalink to this definition">¶</a></dt>
<dd><p>A class for the GMT stereoscopic edge sensors.
The stereoscopic model measures the coordinates of the 3-dimension vector joining a pair of edge sensors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>mirror</strong> : GMT_M1</p>
<blockquote class="last">
<div><p>The GMT M1 mirror</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Coordinates" title="ceo.Coordinates"><code class="xref py py-obj docutils literal"><span class="pre">Coordinates</span></code></a></dt>
<dd>an interface between an array of device vectors and an array of host coordinates</dd>
</dl>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.StereoscopicEdgeSensors.v0" title="ceo.StereoscopicEdgeSensors.v0"><code class="xref py py-obj docutils literal"><span class="pre">v0</span></code></a></td>
<td>v0: ceo.rayTracing.Coordinates</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.StereoscopicEdgeSensors.v" title="ceo.StereoscopicEdgeSensors.v"><code class="xref py py-obj docutils literal"><span class="pre">v</span></code></a></td>
<td>v: ceo.rayTracing.Coordinates</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.StereoscopicEdgeSensors.dv0" title="ceo.StereoscopicEdgeSensors.dv0"><code class="xref py py-obj docutils literal"><span class="pre">dv0</span></code></a></td>
<td>dv0: ceo.rayTracing.Coordinates</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.StereoscopicEdgeSensors.dv" title="ceo.StereoscopicEdgeSensors.dv"><code class="xref py py-obj docutils literal"><span class="pre">dv</span></code></a></td>
<td>dv: ceo.rayTracing.Coordinates</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.StereoscopicEdgeSensors.data" title="ceo.StereoscopicEdgeSensors.data"><code class="xref py py-obj docutils literal"><span class="pre">data</span></code></a>(self)</td>
<td>Computes the edge sensor measurements</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.StereoscopicEdgeSensors.data">
<code class="descname">data</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.StereoscopicEdgeSensors.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the edge sensor measurements</p>
</dd></dl>

<dl class="attribute">
<dt id="ceo.StereoscopicEdgeSensors.dv">
<code class="descname">dv</code><a class="headerlink" href="#ceo.StereoscopicEdgeSensors.dv" title="Permalink to this definition">¶</a></dt>
<dd><p>dv: ceo.rayTracing.Coordinates</p>
</dd></dl>

<dl class="attribute">
<dt id="ceo.StereoscopicEdgeSensors.dv0">
<code class="descname">dv0</code><a class="headerlink" href="#ceo.StereoscopicEdgeSensors.dv0" title="Permalink to this definition">¶</a></dt>
<dd><p>dv0: ceo.rayTracing.Coordinates</p>
</dd></dl>

<dl class="attribute">
<dt id="ceo.StereoscopicEdgeSensors.v">
<code class="descname">v</code><a class="headerlink" href="#ceo.StereoscopicEdgeSensors.v" title="Permalink to this definition">¶</a></dt>
<dd><p>v: ceo.rayTracing.Coordinates</p>
</dd></dl>

<dl class="attribute">
<dt id="ceo.StereoscopicEdgeSensors.v0">
<code class="descname">v0</code><a class="headerlink" href="#ceo.StereoscopicEdgeSensors.v0" title="Permalink to this definition">¶</a></dt>
<dd><p>v0: ceo.rayTracing.Coordinates</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="lateraledgesensors">
<h3>LateralEdgeSensors<a class="headerlink" href="#lateraledgesensors" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.LateralEdgeSensors">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">LateralEdgeSensors</code><a class="headerlink" href="#ceo.LateralEdgeSensors" title="Permalink to this definition">¶</a></dt>
<dd><p>A class for the GMT lateral displacement edge sensors.
It applies to the case of a laser aiming at a camera.
The measurements are the laser spot location within the frame of the camera.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>mirror</strong> : GMT_M1</p>
<blockquote class="last">
<div><p>The GMT M1 mirror</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Coordinates" title="ceo.Coordinates"><code class="xref py py-obj docutils literal"><span class="pre">Coordinates</span></code></a></dt>
<dd>an interface between an array of device vectors and an array of host coordinates</dd>
<dt><a class="reference internal" href="#ceo.cuDoubleArray" title="ceo.cuDoubleArray"><code class="xref py py-obj docutils literal"><span class="pre">cuDoubleArray</span></code></a></dt>
<dd>an interface class between GPU host and device data for doubles</dd>
</dl>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.LateralEdgeSensors.A" title="ceo.LateralEdgeSensors.A"><code class="xref py py-obj docutils literal"><span class="pre">A</span></code></a></td>
<td>A: ceo.rayTracing.Coordinates</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.LateralEdgeSensors.B" title="ceo.LateralEdgeSensors.B"><code class="xref py py-obj docutils literal"><span class="pre">B</span></code></a></td>
<td>B: ceo.rayTracing.Coordinates</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.LateralEdgeSensors.B0" title="ceo.LateralEdgeSensors.B0"><code class="xref py py-obj docutils literal"><span class="pre">B0</span></code></a></td>
<td>B0: ceo.rayTracing.Coordinates</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.LateralEdgeSensors.k_cam" title="ceo.LateralEdgeSensors.k_cam"><code class="xref py py-obj docutils literal"><span class="pre">k_cam</span></code></a></td>
<td>k_cam: ceo.rayTracing.Coordinates</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.LateralEdgeSensors.k_laser" title="ceo.LateralEdgeSensors.k_laser"><code class="xref py py-obj docutils literal"><span class="pre">k_laser</span></code></a></td>
<td>k_laser: ceo.rayTracing.Coordinates</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.LateralEdgeSensors.x" title="ceo.LateralEdgeSensors.x"><code class="xref py py-obj docutils literal"><span class="pre">x</span></code></a></td>
<td>x: ceo.utilities.cuDoubleArray</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.LateralEdgeSensors.y" title="ceo.LateralEdgeSensors.y"><code class="xref py py-obj docutils literal"><span class="pre">y</span></code></a></td>
<td>y: ceo.utilities.cuDoubleArray</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.LateralEdgeSensors.data" title="ceo.LateralEdgeSensors.data"><code class="xref py py-obj docutils literal"><span class="pre">data</span></code></a>(self)</td>
<td>Computes the edge sensor measurements</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="ceo.LateralEdgeSensors.A">
<code class="descname">A</code><a class="headerlink" href="#ceo.LateralEdgeSensors.A" title="Permalink to this definition">¶</a></dt>
<dd><p>A: ceo.rayTracing.Coordinates</p>
</dd></dl>

<dl class="attribute">
<dt id="ceo.LateralEdgeSensors.A0">
<code class="descname">A0</code><a class="headerlink" href="#ceo.LateralEdgeSensors.A0" title="Permalink to this definition">¶</a></dt>
<dd><p>A0: ceo.rayTracing.Coordinates</p>
</dd></dl>

<dl class="attribute">
<dt id="ceo.LateralEdgeSensors.B">
<code class="descname">B</code><a class="headerlink" href="#ceo.LateralEdgeSensors.B" title="Permalink to this definition">¶</a></dt>
<dd><p>B: ceo.rayTracing.Coordinates</p>
</dd></dl>

<dl class="attribute">
<dt id="ceo.LateralEdgeSensors.B0">
<code class="descname">B0</code><a class="headerlink" href="#ceo.LateralEdgeSensors.B0" title="Permalink to this definition">¶</a></dt>
<dd><p>B0: ceo.rayTracing.Coordinates</p>
</dd></dl>

<dl class="method">
<dt id="ceo.LateralEdgeSensors.data">
<code class="descname">data</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.LateralEdgeSensors.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the edge sensor measurements</p>
</dd></dl>

<dl class="attribute">
<dt id="ceo.LateralEdgeSensors.k_cam">
<code class="descname">k_cam</code><a class="headerlink" href="#ceo.LateralEdgeSensors.k_cam" title="Permalink to this definition">¶</a></dt>
<dd><p>k_cam: ceo.rayTracing.Coordinates</p>
</dd></dl>

<dl class="attribute">
<dt id="ceo.LateralEdgeSensors.k_laser">
<code class="descname">k_laser</code><a class="headerlink" href="#ceo.LateralEdgeSensors.k_laser" title="Permalink to this definition">¶</a></dt>
<dd><p>k_laser: ceo.rayTracing.Coordinates</p>
</dd></dl>

<dl class="attribute">
<dt id="ceo.LateralEdgeSensors.x">
<code class="descname">x</code><a class="headerlink" href="#ceo.LateralEdgeSensors.x" title="Permalink to this definition">¶</a></dt>
<dd><p>x: ceo.utilities.cuDoubleArray</p>
</dd></dl>

<dl class="attribute">
<dt id="ceo.LateralEdgeSensors.y">
<code class="descname">y</code><a class="headerlink" href="#ceo.LateralEdgeSensors.y" title="Permalink to this definition">¶</a></dt>
<dd><p>y: ceo.utilities.cuDoubleArray</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="segmentpistonsensor">
<h2>segmentPistonSensor<a class="headerlink" href="#segmentpistonsensor" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ceo.SegmentPistonSensor">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">SegmentPistonSensor</code><a class="headerlink" href="#ceo.SegmentPistonSensor" title="Permalink to this definition">¶</a></dt>
<dd><p>The segment piston sensor model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>M1</strong> : GMT_M1</p>
<blockquote>
<div><p>The GMT M1 model class</p>
</div></blockquote>
<p><strong>gs</strong> : Source</p>
<blockquote>
<div><p>The guide star(s) of the segment piston sensor</p>
</div></blockquote>
<p><strong>dispersion</strong> : float, optional</p>
<blockquote>
<div><p>The grism dispersion; default: 5arcsec/micron</p>
</div></blockquote>
<p><strong>field_of_view</strong> : float, optional</p>
<blockquote>
<div><p>The segment piston sensor field-of-view; default: 3 arcsec</p>
</div></blockquote>
<p><strong>nyquist_factor</strong> : float, optional</p>
<blockquote class="last">
<div><p>The Nyquist sampling factor; default: 1, meaning Nyquist sampling</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.Imaging" title="ceo.Imaging"><code class="xref py py-obj docutils literal"><span class="pre">Imaging</span></code></a></dt>
<dd>the lenslet and detector class</dd>
</dl>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="87%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>W</td>
<td>(Complex_amplitude, read-only) The piecewise wavefront on the 12 lenslets</td>
</tr>
<tr class="row-even"><td>camera</td>
<td>(Imaging, read-only) The detector of the segment piston sensor</td>
</tr>
<tr class="row-odd"><td>fftlet</td>
<td>(cuFloatArray) The Fourier trasform of the detector framelet</td>
</tr>
<tr class="row-even"><td>N_LAMBDA</td>
<td>(int) The number of spectral element</td>
</tr>
<tr class="row-odd"><td>pixel_Scale</td>
<td>(float) The detector pixel scale</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.SegmentPistonSensor.fft" title="ceo.SegmentPistonSensor.fft"><code class="xref py py-obj docutils literal"><span class="pre">fft</span></code></a>(self)</td>
<td>Fourier transforms the detector framelets</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.SegmentPistonSensor.propagate" title="ceo.SegmentPistonSensor.propagate"><code class="xref py py-obj docutils literal"><span class="pre">propagate</span></code></a>(self,&nbsp;Source&nbsp;gs)</td>
<td>Propagates the guide star wavefront from the segment piston sensor pupil plane to the detector in the focal plane</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.SegmentPistonSensor.readOut" title="ceo.SegmentPistonSensor.readOut"><code class="xref py py-obj docutils literal"><span class="pre">readOut</span></code></a>(self,&nbsp;float&nbsp;exposureTime,&nbsp;...)</td>
<td>Reads-out the detector applying photon noise, read-out noise and background noise</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.SegmentPistonSensor.fft">
<code class="descname">fft</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.SegmentPistonSensor.fft" title="Permalink to this definition">¶</a></dt>
<dd><p>Fourier transforms the detector framelets</p>
</dd></dl>

<dl class="method">
<dt id="ceo.SegmentPistonSensor.propagate">
<code class="descname">propagate</code><span class="sig-paren">(</span><em>self</em>, <em>Source gs</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.SegmentPistonSensor.propagate" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagates the guide star wavefront from the segment piston sensor pupil plane to the detector in the focal plane</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>gs</strong> : Source</p>
<blockquote class="last">
<div><p>The segment piston sensor guide star(s)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.SegmentPistonSensor.readOut">
<code class="descname">readOut</code><span class="sig-paren">(</span><em>self</em>, <em>float exposureTime</em>, <em>float readOutNoiseRms</em>, <em>float backgroundMagnitude</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.SegmentPistonSensor.readOut" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads-out the detector applying photon noise, read-out noise and background noise</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>exposureTime</strong> : float</p>
<blockquote>
<div><p>The detector exposure time</p>
</div></blockquote>
<p><strong>readOutNoiseRms</strong> : float</p>
<blockquote>
<div><p>The number of photon-electron rms per pixel</p>
</div></blockquote>
<p><strong>backgroundMagnitude</strong> : float</p>
<blockquote class="last">
<div><p>The background magnitude per arcsec square</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="utilities">
<h2>utilities<a class="headerlink" href="#utilities" title="Permalink to this headline">¶</a></h2>
<div class="section" id="mask">
<h3>mask<a class="headerlink" href="#mask" title="Permalink to this headline">¶</a></h3>
<div class="section" id="maskabstract">
<h4>MaskAbstract<a class="headerlink" href="#maskabstract" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="ceo.MaskAbstract">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">MaskAbstract</code><a class="headerlink" href="#ceo.MaskAbstract" title="Permalink to this definition">¶</a></dt>
<dd><p>The abstract class for all other mask classes</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ceo.cuFloatArray" title="ceo.cuFloatArray"><code class="xref py py-obj docutils literal"><span class="pre">cuFloatArray</span></code></a></dt>
<dd>an interface for GPU host and device float data</dd>
</dl>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="94%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>f</td>
<td>(cuFloatArray) the mask as a float array</td>
</tr>
<tr class="row-even"><td>nnz</td>
<td>(int, readonly) the number of non zeros values in the mask</td>
</tr>
<tr class="row-odd"><td>nel</td>
<td>(int, readonly) the total number of elements in the mask</td>
</tr>
<tr class="row-even"><td>area</td>
<td>(float, readonly) the area covered by the mask</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.MaskAbstract.alter" title="ceo.MaskAbstract.alter"><code class="xref py py-obj docutils literal"><span class="pre">alter</span></code></a>(self,&nbsp;cuFloatArray&nbsp;filter)</td>
<td>Modifies the mask pattern</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.MaskAbstract.alter">
<code class="descname">alter</code><span class="sig-paren">(</span><em>self</em>, <em>cuFloatArray filter</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.MaskAbstract.alter" title="Permalink to this definition">¶</a></dt>
<dd><p>Modifies the mask pattern</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filter</strong> : cuFloatArray</p>
<blockquote class="last">
<div><p>The filter to apply to the mask</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="id6">
<h4>Mask<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="ceo.Mask">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">Mask</code><a class="headerlink" href="#ceo.Mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a square mask object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>n</strong> : an int</p>
<blockquote>
<div><p>the linear sampling in pixel of the pupil</p>
</div></blockquote>
<p><strong>L</strong> : float</p>
<blockquote>
<div><p>the linear size of the mask in meter</p>
</div></blockquote>
<p><strong>i_s</strong> : float, optional</p>
<blockquote>
<div><p>the row pixel coordinate of the mask center, default: 0</p>
</div></blockquote>
<p><strong>j_s</strong> : float, optional</p>
<blockquote class="last">
<div><blockquote>
<div><p>the column pixel coordinate of the mask center, default: 0</p>
</div></blockquote>
<dl class="docutils">
<dt>n_s <span class="classifier-delimiter">:</span> <span class="classifier">float, optional</span></dt>
<dd><p class="first last">the mask size in pixel, default: 0 means n_s=n</p>
</dd>
<dt>theta <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">the rotation angle [rd] of the mask with respect to i_s and j_s, default: 0</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#ceo.MaskAbstract" title="ceo.MaskAbstract"><code class="xref py py-obj docutils literal"><span class="pre">MaskAbstract</span></code></a></p>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">area</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">f</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">n</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">nel</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">nnz</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">alter</span></code>(self,&nbsp;cuFloatArray&nbsp;filter)</td>
<td>Modifies the mask pattern</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="telescope">
<h4>Telescope<a class="headerlink" href="#telescope" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="ceo.Telescope">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">Telescope</code><a class="headerlink" href="#ceo.Telescope" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a circular mask object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>n</strong> : int</p>
<blockquote>
<div><p>the sampling in pixel of the pupil.</p>
</div></blockquote>
<p><strong>D</strong> : float</p>
<blockquote class="last">
<div><p>the diamter in meter of the pupil</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#ceo.MaskAbstract" title="ceo.MaskAbstract"><code class="xref py py-obj docutils literal"><span class="pre">MaskAbstract</span></code></a></p>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">area</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">f</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">n</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">nel</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">nnz</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">alter</span></code>(self,&nbsp;cuFloatArray&nbsp;filter)</td>
<td>Modifies the mask pattern</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="gmt">
<h4>GMT<a class="headerlink" href="#gmt" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="ceo.GMT">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">GMT</code><a class="headerlink" href="#ceo.GMT" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a mask object for the Giant Magellan Telescope pupil.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>n</strong> : int</p>
<blockquote>
<div><p>The sampling in pixel of the pupil.</p>
</div></blockquote>
<p><strong>S</strong> : float</p>
<blockquote class="last">
<div><p>The size of the pupil in meter.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#ceo.MaskAbstract" title="ceo.MaskAbstract"><code class="xref py py-obj docutils literal"><span class="pre">MaskAbstract</span></code></a></p>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>piston_mask</td>
<td>(list) A list of piston mask, one per segment</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">alter</span></code>(self,&nbsp;cuFloatArray&nbsp;filter)</td>
<td>Modifies the mask pattern</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.GMT.get_gmt_piston" title="ceo.GMT.get_gmt_piston"><code class="xref py py-obj docutils literal"><span class="pre">get_gmt_piston</span></code></a>(self,&nbsp;cuFloatArray&nbsp;phase)</td>
<td>Retrieves the segment piston from the phase</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.GMT.set_gmt_piston" title="ceo.GMT.set_gmt_piston"><code class="xref py py-obj docutils literal"><span class="pre">set_gmt_piston</span></code></a>(self,&nbsp;cuFloatArray&nbsp;phase,&nbsp;...)</td>
<td>Adds segment piston to the phase</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.GMT.get_gmt_piston">
<code class="descname">get_gmt_piston</code><span class="sig-paren">(</span><em>self</em>, <em>cuFloatArray phase</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.GMT.get_gmt_piston" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the segment piston from the phase</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>phase</strong> : cuFloatArray</p>
<blockquote>
<div><p>The source wavefront phase.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>numpy array</strong> : The 1D array of segment piston in meter</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ceo.GMT.set_gmt_piston">
<code class="descname">set_gmt_piston</code><span class="sig-paren">(</span><em>self</em>, <em>cuFloatArray phase</em>, <em>__Pyx_memviewslice value</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.GMT.set_gmt_piston" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds segment piston to the phase</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>phase</strong> : cuFloatArray</p>
<blockquote>
<div><p>The source wavefront phase.</p>
</div></blockquote>
<p><strong>value</strong> : float[::1]</p>
<blockquote class="last">
<div><p>The 1D array of segment piston in meter</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="stopwatch">
<h3>StopWatch<a class="headerlink" href="#stopwatch" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="ceo.StopWatch">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">StopWatch</code><a class="headerlink" href="#ceo.StopWatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a stopwatch object to time cuda based routines</p>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.StopWatch.elapsedTime" title="ceo.StopWatch.elapsedTime"><code class="xref py py-obj docutils literal"><span class="pre">elapsedTime</span></code></a></td>
<td>elapsedTime: &#8216;float&#8217;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.StopWatch.tic" title="ceo.StopWatch.tic"><code class="xref py py-obj docutils literal"><span class="pre">tic</span></code></a>(self)</td>
<td>Starts the stopwatch</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.StopWatch.toc" title="ceo.StopWatch.toc"><code class="xref py py-obj docutils literal"><span class="pre">toc</span></code></a>(self)</td>
<td>Stops the stopwatch</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="ceo.StopWatch.elapsedTime">
<code class="descname">elapsedTime</code><a class="headerlink" href="#ceo.StopWatch.elapsedTime" title="Permalink to this definition">¶</a></dt>
<dd><p>elapsedTime: &#8216;float&#8217;</p>
</dd></dl>

<dl class="method">
<dt id="ceo.StopWatch.tic">
<code class="descname">tic</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.StopWatch.tic" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts the stopwatch</p>
</dd></dl>

<dl class="method">
<dt id="ceo.StopWatch.toc">
<code class="descname">toc</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.StopWatch.toc" title="Permalink to this definition">¶</a></dt>
<dd><p>Stops the stopwatch</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="cuda-array">
<h3>CUDA array<a class="headerlink" href="#cuda-array" title="Permalink to this headline">¶</a></h3>
<div class="section" id="cufloatarray">
<h4>cuFloatArray<a class="headerlink" href="#cufloatarray" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="ceo.cuFloatArray">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">cuFloatArray</code><a class="headerlink" href="#ceo.cuFloatArray" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to interact with a cuda float array</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>shape</strong> : tuple of int, optional</p>
<blockquote>
<div><p>Number of rows and colums; default: None</p>
</div></blockquote>
<p><strong>host_data</strong> : list or tuple or numpy array, optional</p>
<blockquote>
<div><p>Host data to copy to the device; default: None</p>
</div></blockquote>
<p><strong>dev_malloc</strong> : bool, optional</p>
<blockquote class="last">
<div><p>Flag to allocate memory on device; default: False</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.cuFloatArray.size" title="ceo.cuFloatArray.size"><code class="xref py py-obj docutils literal"><span class="pre">size</span></code></a></td>
<td>size: &#8216;int&#8217;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.cuFloatArray.shape" title="ceo.cuFloatArray.shape"><code class="xref py py-obj docutils literal"><span class="pre">shape</span></code></a></td>
<td>shape: object</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.cuFloatArray.size" title="ceo.cuFloatArray.size"><code class="xref py py-obj docutils literal"><span class="pre">size</span></code></a></td>
<td>size: &#8216;int&#8217;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.cuFloatArray.host_data" title="ceo.cuFloatArray.host_data"><code class="xref py py-obj docutils literal"><span class="pre">host_data</span></code></a></td>
<td>host_data: numpy.ndarray</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="84%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dev_malloc</td>
<td>(bool) True is memory has been allocated on the device</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.cuFloatArray.assign_ptr" title="ceo.cuFloatArray.assign_ptr"><code class="xref py py-obj docutils literal"><span class="pre">assign_ptr</span></code></a>(self)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.cuFloatArray.host" title="ceo.cuFloatArray.host"><code class="xref py py-obj docutils literal"><span class="pre">host</span></code></a>(self[,&nbsp;units,&nbsp;zm,&nbsp;mask,&nbsp;shape])</td>
<td>Transfers data on the GPU device to the memory of the host</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.cuFloatArray.reset" title="ceo.cuFloatArray.reset"><code class="xref py py-obj docutils literal"><span class="pre">reset</span></code></a>(self)</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.cuFloatArray.assign_ptr">
<code class="descname">assign_ptr</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.cuFloatArray.assign_ptr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ceo.cuFloatArray.host">
<code class="descname">host</code><span class="sig-paren">(</span><em>self</em>, <em>units=None</em>, <em>zm=False</em>, <em>mask=None</em>, <em>shape=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.cuFloatArray.host" title="Permalink to this definition">¶</a></dt>
<dd><p>Transfers data on the GPU device to the memory of the host</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>shape</strong> : tuple, optional</p>
<blockquote>
<div><p>The shape of the data array, default to None</p>
</div></blockquote>
<p><strong>units</strong> : string, optional</p>
<blockquote>
<div><p>The data converstion units: &#8220;&#8221;micron&#8221;&#8221;, &#8220;&#8221;nm&#8221;&#8221;, &#8220;&#8221;arcsec&#8221; and &#8220;&#8221;mas&#8221;&#8221;, default to None</p>
</div></blockquote>
<p><strong>zm</strong> : boolean, optional</p>
<blockquote>
<div><p>If True, the data mean is removed; default to False</p>
</div></blockquote>
<p><strong>mask</strong> : boolean</p>
<blockquote>
<div><p>If zm is True, the mean is computed for data values where the mask is True</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>numpy array</strong> : a copy of the device data on the host</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="ceo.cuFloatArray.host_data">
<code class="descname">host_data</code><a class="headerlink" href="#ceo.cuFloatArray.host_data" title="Permalink to this definition">¶</a></dt>
<dd><p>host_data: numpy.ndarray</p>
</dd></dl>

<dl class="method">
<dt id="ceo.cuFloatArray.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.cuFloatArray.reset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="ceo.cuFloatArray.shape">
<code class="descname">shape</code><a class="headerlink" href="#ceo.cuFloatArray.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>shape: object</p>
</dd></dl>

<dl class="attribute">
<dt id="ceo.cuFloatArray.size">
<code class="descname">size</code><a class="headerlink" href="#ceo.cuFloatArray.size" title="Permalink to this definition">¶</a></dt>
<dd><p>size: &#8216;int&#8217;</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="cudoublearray">
<h4>cuDoubleArray<a class="headerlink" href="#cudoublearray" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="ceo.cuDoubleArray">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">cuDoubleArray</code><a class="headerlink" href="#ceo.cuDoubleArray" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to interact with a cuda double array</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>shape</strong> : tuple of int, optional</p>
<blockquote>
<div><p>Number of rows and colums; default: None</p>
</div></blockquote>
<p><strong>host_data</strong> : list or tuple or numpy array, optional</p>
<blockquote>
<div><p>Host data to copy to the device; default: None</p>
</div></blockquote>
<p><strong>dev_malloc</strong> : bool, optional</p>
<blockquote class="last">
<div><p>Flag to allocate memory on device; default: False</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.cuDoubleArray.size" title="ceo.cuDoubleArray.size"><code class="xref py py-obj docutils literal"><span class="pre">size</span></code></a></td>
<td>size: &#8216;int&#8217;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.cuDoubleArray.shape" title="ceo.cuDoubleArray.shape"><code class="xref py py-obj docutils literal"><span class="pre">shape</span></code></a></td>
<td>shape: object</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.cuDoubleArray.size" title="ceo.cuDoubleArray.size"><code class="xref py py-obj docutils literal"><span class="pre">size</span></code></a></td>
<td>size: &#8216;int&#8217;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.cuDoubleArray.host_data" title="ceo.cuDoubleArray.host_data"><code class="xref py py-obj docutils literal"><span class="pre">host_data</span></code></a></td>
<td>host_data: numpy.ndarray</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="84%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dev_malloc</td>
<td>(bool) True is memory has been allocated on the device</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.cuDoubleArray.assign_ptr" title="ceo.cuDoubleArray.assign_ptr"><code class="xref py py-obj docutils literal"><span class="pre">assign_ptr</span></code></a>(self)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.cuDoubleArray.host" title="ceo.cuDoubleArray.host"><code class="xref py py-obj docutils literal"><span class="pre">host</span></code></a>(self[,&nbsp;units,&nbsp;zm,&nbsp;mask,&nbsp;shape])</td>
<td>Transfers data on the GPU device to the memory of the host</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.cuDoubleArray.reset" title="ceo.cuDoubleArray.reset"><code class="xref py py-obj docutils literal"><span class="pre">reset</span></code></a>(self)</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.cuDoubleArray.assign_ptr">
<code class="descname">assign_ptr</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.cuDoubleArray.assign_ptr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ceo.cuDoubleArray.host">
<code class="descname">host</code><span class="sig-paren">(</span><em>self</em>, <em>units=None</em>, <em>zm=False</em>, <em>mask=None</em>, <em>shape=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.cuDoubleArray.host" title="Permalink to this definition">¶</a></dt>
<dd><p>Transfers data on the GPU device to the memory of the host</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>shape</strong> : tuple, optional</p>
<blockquote>
<div><p>The shape of the data array, default to None</p>
</div></blockquote>
<p><strong>units</strong> : string, optional</p>
<blockquote>
<div><p>The data converstion units: &#8220;&#8221;micron&#8221;&#8221;, &#8220;&#8221;nm&#8221;&#8221;, &#8220;&#8221;arcsec&#8221; and &#8220;&#8221;mas&#8221;&#8221;, default to None</p>
</div></blockquote>
<p><strong>zm</strong> : boolean, optional</p>
<blockquote>
<div><p>If True, the data mean is removed; default to False</p>
</div></blockquote>
<p><strong>mask</strong> : boolean</p>
<blockquote>
<div><p>If zm is True, the mean is computed for data values where the mask is True</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>numpy array</strong> : a copy of the device data on the host</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="ceo.cuDoubleArray.host_data">
<code class="descname">host_data</code><a class="headerlink" href="#ceo.cuDoubleArray.host_data" title="Permalink to this definition">¶</a></dt>
<dd><p>host_data: numpy.ndarray</p>
</dd></dl>

<dl class="method">
<dt id="ceo.cuDoubleArray.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.cuDoubleArray.reset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="ceo.cuDoubleArray.shape">
<code class="descname">shape</code><a class="headerlink" href="#ceo.cuDoubleArray.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>shape: object</p>
</dd></dl>

<dl class="attribute">
<dt id="ceo.cuDoubleArray.size">
<code class="descname">size</code><a class="headerlink" href="#ceo.cuDoubleArray.size" title="Permalink to this definition">¶</a></dt>
<dd><p>size: &#8216;int&#8217;</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="cuintarray">
<h4>cuIntArray<a class="headerlink" href="#cuintarray" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="ceo.cuIntArray">
<em class="property">class </em><code class="descclassname">ceo.</code><code class="descname">cuIntArray</code><a class="headerlink" href="#ceo.cuIntArray" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to interact with a cuda integer array</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>shape</strong> : tuple of int, optional</p>
<blockquote>
<div><p>Number of rows and colums; default: None</p>
</div></blockquote>
<p><strong>host_data</strong> : list or tuple or numpy array, optional</p>
<blockquote>
<div><p>Host data to copy to the device; default: None</p>
</div></blockquote>
<p><strong>dev_malloc</strong> : bool, optional</p>
<blockquote class="last">
<div><p>Flag to allocate memory on device; default: False</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.cuIntArray.size" title="ceo.cuIntArray.size"><code class="xref py py-obj docutils literal"><span class="pre">size</span></code></a></td>
<td>size: &#8216;int&#8217;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.cuIntArray.shape" title="ceo.cuIntArray.shape"><code class="xref py py-obj docutils literal"><span class="pre">shape</span></code></a></td>
<td>shape: object</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.cuIntArray.size" title="ceo.cuIntArray.size"><code class="xref py py-obj docutils literal"><span class="pre">size</span></code></a></td>
<td>size: &#8216;int&#8217;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.cuIntArray.host_data" title="ceo.cuIntArray.host_data"><code class="xref py py-obj docutils literal"><span class="pre">host_data</span></code></a></td>
<td>host_data: numpy.ndarray</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="84%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dev_malloc</td>
<td>(bool) True is memory has been allocated on the device</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ceo.cuIntArray.assign_ptr" title="ceo.cuIntArray.assign_ptr"><code class="xref py py-obj docutils literal"><span class="pre">assign_ptr</span></code></a>(self)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ceo.cuIntArray.host" title="ceo.cuIntArray.host"><code class="xref py py-obj docutils literal"><span class="pre">host</span></code></a>(self[,&nbsp;units,&nbsp;zm,&nbsp;mask,&nbsp;shape])</td>
<td>Transfers data on the GPU device to the memory of the host</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ceo.cuIntArray.reset" title="ceo.cuIntArray.reset"><code class="xref py py-obj docutils literal"><span class="pre">reset</span></code></a>(self)</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ceo.cuIntArray.assign_ptr">
<code class="descname">assign_ptr</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.cuIntArray.assign_ptr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ceo.cuIntArray.host">
<code class="descname">host</code><span class="sig-paren">(</span><em>self</em>, <em>units=None</em>, <em>zm=False</em>, <em>mask=None</em>, <em>shape=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.cuIntArray.host" title="Permalink to this definition">¶</a></dt>
<dd><p>Transfers data on the GPU device to the memory of the host</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>shape</strong> : tuple, optional</p>
<blockquote>
<div><p>The shape of the data array, default to None</p>
</div></blockquote>
<p><strong>units</strong> : string, optional</p>
<blockquote>
<div><p>The data converstion units: &#8220;&#8221;micron&#8221;&#8221;, &#8220;&#8221;nm&#8221;&#8221;, &#8220;&#8221;arcsec&#8221; and &#8220;&#8221;mas&#8221;&#8221;, default to None</p>
</div></blockquote>
<p><strong>zm</strong> : boolean, optional</p>
<blockquote>
<div><p>If True, the data mean is removed; default to False</p>
</div></blockquote>
<p><strong>mask</strong> : boolean</p>
<blockquote>
<div><p>If zm is True, the mean is computed for data values where the mask is True</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>numpy array</strong> : a copy of the device data on the host</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="ceo.cuIntArray.host_data">
<code class="descname">host_data</code><a class="headerlink" href="#ceo.cuIntArray.host_data" title="Permalink to this definition">¶</a></dt>
<dd><p>host_data: numpy.ndarray</p>
</dd></dl>

<dl class="method">
<dt id="ceo.cuIntArray.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#ceo.cuIntArray.reset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="ceo.cuIntArray.shape">
<code class="descname">shape</code><a class="headerlink" href="#ceo.cuIntArray.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>shape: object</p>
</dd></dl>

<dl class="attribute">
<dt id="ceo.cuIntArray.size">
<code class="descname">size</code><a class="headerlink" href="#ceo.cuIntArray.size" title="Permalink to this definition">¶</a></dt>
<dd><p>size: &#8216;int&#8217;</p>
</dd></dl>

</dd></dl>

</div>
</div>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span>Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span>Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span>Search Page</span></a></li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Cuda Engined Optics</a><ul>
<li><a class="reference internal" href="#atmosphere">atmosphere</a><ul>
<li><a class="reference internal" href="#atmosphereabstract">AtmosphereAbstract</a></li>
<li><a class="reference internal" href="#id1">Atmosphere</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#gmtatmosphere">GmtAtmosphere</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#layer">Layer</a></li>
</ul>
</li>
<li><a class="reference internal" href="#source">source</a><ul>
<li><a class="reference internal" href="#bundle">Bundle</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#complex-amplitude">Complex_amplitude</a></li>
<li><a class="reference internal" href="#id2">Source</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gmtlib">GMTLIB</a><ul>
<li><a class="reference internal" href="#gmt-mx">GMT_MX</a></li>
<li><a class="reference internal" href="#idealsegmentpistonsensor">IdealSegmentPistonSensor</a></li>
<li><a class="reference internal" href="#dispersedfringesensor">DispersedFringeSensor</a></li>
</ul>
</li>
<li><a class="reference internal" href="#imaging">Imaging</a></li>
<li><a class="reference internal" href="#centroiding">Centroiding</a></li>
<li><a class="reference internal" href="#shackhartmann">ShackHartmann</a></li>
<li><a class="reference internal" href="#pyramid">Pyramid</a></li>
<li><a class="reference internal" href="#raytracing">rayTracing</a><ul>
<li><a class="reference internal" href="#coordinates">Coordinates</a></li>
<li><a class="reference internal" href="#coordinate-system">Coordinate_system</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#aperture">Aperture</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#conic">Conic</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#zernikes">ZernikeS</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#transform-to-s">Transform_to_S</a></li>
<li><a class="reference internal" href="#transform-to-r">Transform_to_R</a></li>
<li><a class="reference internal" href="#intersect">Intersect</a></li>
<li><a class="reference internal" href="#reflect">Reflect</a></li>
<li><a class="reference internal" href="#refract">Refract</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gmtmirrors">gmtMirrors</a><ul>
<li><a class="reference internal" href="#id5">GmtMirrors</a></li>
<li><a class="reference internal" href="#gmt-m1">GMT M1</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#gmt-m2">GMT M2</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#stereoscopicedgesensors">StereoscopicEdgeSensors</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#lateraledgesensors">LateralEdgeSensors</a><ul>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#segmentpistonsensor">segmentPistonSensor</a></li>
<li><a class="reference internal" href="#utilities">utilities</a><ul>
<li><a class="reference internal" href="#mask">mask</a><ul>
<li><a class="reference internal" href="#maskabstract">MaskAbstract</a></li>
<li><a class="reference internal" href="#id6">Mask</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#telescope">Telescope</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#gmt">GMT</a></li>
</ul>
</li>
<li><a class="reference internal" href="#stopwatch">StopWatch</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#cuda-array">CUDA array</a><ul>
<li><a class="reference internal" href="#cufloatarray">cuFloatArray</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#cudoublearray">cuDoubleArray</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#cuintarray">cuIntArray</a><ul>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">CEO 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, R. Conan.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>
digraph {
overlap=false
splines=true
node[style=filled,fillcolor=lightgrey,color=white];
edge[arrowtail=odot,dir=back];

mask -> shackHartmann;
imaging -> shackHartmann;
centroiding -> shackHartmann;
bundle -> source;

coordinate_system -> zernikeS;
coordinate_system -> gmt_m1;
coordinate_system -> gmt_m2

mask -> gmt_m1;
mask -> gmt_m2;
mask -> complex_amplitude;

zernikeS -> gmt_m1;
zernikeS -> gmt_m2;

vector -> coordinate_system;
vector -> bundle;

mask -> bundle;
ray -> bundle;
vector -> ray;
complex_amplitude -> source;

layer -> atmosphere;
profile -> atmosphere;

mask -> BTBT;
mask -> GBTBT;
aaStats -> LMMSE;
paStats -> LMMSE;
BTBT -> LMMSE;
GBTBT -> LMMSE;
iterativeSolvers -> LMMSE;
stopwatch -> LMMSE;
stopwatch -> iterativeSolvers;

gpu;
gpu_int;
gpu_double;

node[color=darkgreen,style=rounded,shape=box];
edge[style=dashed]

centroiding -> Centroiding;
imaging -> Imaging;
cuFloatArray -> Imaging;
cuFloatArray -> Centroiding;

source -> Source;
Complex_amplitude[color=blue];
complex_amplitude -> Complex_amplitude;
cuFloatArray -> Complex_amplitude;
Bundle[color=blue];
bundle -> Bundle;
cuDoubleArray -> Bundle;
Complex_amplitude -> Source[label="wavefront"];
Bundle -> Source[label="rays"];

shackHartmann -> ShackHartmann;
MaskAbstract -> ShackHartmann;
cuFloatArray -> ShackHartmann
Imaging -> ShackHartmann;
Centroiding -> ShackHartmann;

gmt_m1 -> GMT_M1;
cuIntArray -> GMT_M1;
gmt_m2 -> GMT_M2;
ZernikeS[color=blue];
zernikeS -> ZernikeS;
ZernikeS -> GMT_M1;
ZernikeS -> GMT_M2;
GMT_M1 -> GMT_MX[label="M1"];
GMT_M2 -> GMT_MX[label="M2"];
Coordinate_system[color=blue];
coordinate_system -> Coordinate_system;
Coordinate_system -> GMT_M1;
Coordinate_system -> GMT_M2;

AtmosphereAbstract[color=red];
atmosphere -> AtmosphereAbstract;

MaskAbstract[color=red]
mask -> MaskAbstract;
cuFloatArray -> MaskAbstract;

stopwatch -> StopWatch;

gpu -> cuFloatArray;
gpu_int -> cuIntArray;
gpu_double -> cuDoubleArray;
LMMSE -> Lmmse;

edge[dir=forward];

AtmosphereAbstract -> Atmosphere;
AtmosphereAbstract -> GmtAtmosphere;

MaskAbstract -> Mask;
MaskAbstract -> Telescope;
MaskAbstract -> GMT;

}